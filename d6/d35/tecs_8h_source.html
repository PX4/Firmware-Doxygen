<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PX4 Firmware: src/lib/ecl/tecs/tecs.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PX4 Firmware
   </div>
   <div id="projectbrief">PX4 Autopilot Software http://px4.io</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/d35/tecs_8h_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">tecs.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d6/d35/tecs_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/****************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *   Copyright (c) 2017 Estimation and Control Library (ECL). All rights reserved.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * Redistribution and use in source and binary forms, with or without</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * modification, are permitted provided that the following conditions</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * are met:</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * 1. Redistributions of source code must retain the above copyright</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *    notice, this list of conditions and the following disclaimer.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *    notice, this list of conditions and the following disclaimer in</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *    the documentation and/or other materials provided with the</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *    distribution.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * 3. Neither the name ECL nor the names of its contributors may be</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *    used to endorse or promote products derived from this software</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *    without specific prior written permission.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment"> * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment"> * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment"> * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> * POSSIBILITY OF SUCH DAMAGE.</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> ****************************************************************************/</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * @file tecs.cpp</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"> * @author Paul Riseborough</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;mathlib/mathlib.h&gt;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d4/d78/math_8hpp.html">matrix/math.hpp</a>&gt;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html">   45</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d1/d1f/class_t_e_c_s.html">TECS</a></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;{</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="../../d1/d1f/class_t_e_c_s.html#abf9f35eb9c268ac8a6e038005ea72a1a">TECS</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a9aba0079402ba65c8015df5e7e5ec962">~TECS</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="comment">// no copy, assignment, move, move assignment</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="../../d1/d1f/class_t_e_c_s.html#abf9f35eb9c268ac8a6e038005ea72a1a">TECS</a>(<span class="keyword">const</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html">TECS</a> &amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="../../d1/d1f/class_t_e_c_s.html">TECS</a> &amp;<a class="code" href="../../d1/d1f/class_t_e_c_s.html#ad29b93b69e8c02d2d6c17860195bf8bb">operator=</a>(<span class="keyword">const</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html">TECS</a> &amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="../../d1/d1f/class_t_e_c_s.html#abf9f35eb9c268ac8a6e038005ea72a1a">TECS</a>(<a class="code" href="../../d1/d1f/class_t_e_c_s.html">TECS</a> &amp;&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="../../d1/d1f/class_t_e_c_s.html">TECS</a> &amp;<a class="code" href="../../d1/d1f/class_t_e_c_s.html#ad29b93b69e8c02d2d6c17860195bf8bb">operator=</a>(<a class="code" href="../../d1/d1f/class_t_e_c_s.html">TECS</a> &amp;&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">     * Get the current airspeed status</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">     * @return true if airspeed is enabled for control</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#aecdf93951f7e0e7d056383826debfcf6">   62</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#aecdf93951f7e0e7d056383826debfcf6">airspeed_sensor_enabled</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a0a8c72428702c402d9ad6cf269c27d98">_airspeed_enabled</a>; }</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">     * Set the airspeed enable state</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#abd929268aff820c70915fc332c8a0d60">   67</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#abd929268aff820c70915fc332c8a0d60">enable_airspeed</a>(<span class="keywordtype">bool</span> enabled) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a0a8c72428702c402d9ad6cf269c27d98">_airspeed_enabled</a> = enabled; }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">     * Updates the following vehicle kineamtic state estimates:</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">     * Vertical position, velocity and acceleration.</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">     * Speed derivative</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">     * Must be called prior to udating tecs control loops</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment">     * Must be called at 50Hz or greater</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#aab6412a9450a4430487b7b1cffa7c38f">update_vehicle_state_estimates</a>(<span class="keywordtype">float</span> airspeed, <span class="keyword">const</span> <a class="code" href="../../d4/d11/classmatrix_1_1_dcm.html">matrix::Dcmf</a> &amp;rotMat,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                        <span class="keyword">const</span> <a class="code" href="../../d3/d87/classmatrix_1_1_vector3.html">matrix::Vector3f</a> &amp;accel_body, <span class="keywordtype">bool</span> altitude_lock, <span class="keywordtype">bool</span> in_air,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                        <span class="keywordtype">float</span> altitude, <span class="keywordtype">bool</span> vz_valid, <span class="keywordtype">float</span> vz, <span class="keywordtype">float</span> az);</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">     * Update the control loop calculations</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a6aeedcf79e4323b84da462c9e6616be8">update_pitch_throttle</a>(<span class="keyword">const</span> <a class="code" href="../../d4/d11/classmatrix_1_1_dcm.html">matrix::Dcmf</a> &amp;rotMat, <span class="keywordtype">float</span> pitch, <span class="keywordtype">float</span> baro_altitude, <span class="keywordtype">float</span> hgt_setpoint,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                   <span class="keywordtype">float</span> EAS_setpoint, <span class="keywordtype">float</span> indicated_airspeed, <span class="keywordtype">float</span> eas_to_tas, <span class="keywordtype">bool</span> climb_out_setpoint, <span class="keywordtype">float</span> pitch_min_climbout,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                   <span class="keywordtype">float</span> throttle_min, <span class="keywordtype">float</span> throttle_setpoint_max, <span class="keywordtype">float</span> throttle_cruise,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                   <span class="keywordtype">float</span> pitch_limit_min, <span class="keywordtype">float</span> pitch_limit_max);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a3aae8ad28e4379e3c51a11e1dc9c66fa">   88</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a3aae8ad28e4379e3c51a11e1dc9c66fa">get_throttle_setpoint</a>(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#accd03f8685f83d31331cac4c76a37d36">_throttle_setpoint</a>; }</div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ad83e038b3d5482f5f617cbf5b121fd2a">   89</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ad83e038b3d5482f5f617cbf5b121fd2a">get_pitch_setpoint</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#acbc17a214656270c156f8c5ce731c611">_pitch_setpoint</a>; }</div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a399a18e8b7c15d4f5cff6bb7534650d8">   90</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a399a18e8b7c15d4f5cff6bb7534650d8">get_speed_weight</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a93742f830629d1a8ef06ee9d374a1233">_pitch_speed_weight</a>; }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a6a2cc48df5201b3cd43e88eb35f9d3bc">   92</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a6a2cc48df5201b3cd43e88eb35f9d3bc">reset_state</a>() { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a06802c5fc4a2aee207156706117d889d">_states_initalized</a> = <span class="keyword">false</span>; }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072">   94</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072">ECL_TECS_MODE</a> {</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072a76e9e424045f51df34be8ca2541bff54">   95</a></span>&#160;        <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072a76e9e424045f51df34be8ca2541bff54">ECL_TECS_MODE_NORMAL</a> = 0,</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072ad6fff4cd005b255134efb30748378815">   96</a></span>&#160;        <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072ad6fff4cd005b255134efb30748378815">ECL_TECS_MODE_UNDERSPEED</a>,</div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072a1ae6b2c41ca5ee5717407314b2f1f971">   97</a></span>&#160;        <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072a1ae6b2c41ca5ee5717407314b2f1f971">ECL_TECS_MODE_BAD_DESCENT</a>,</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072a0d0ecda23f3b16dd0ef28a5cf11673d0">   98</a></span>&#160;        <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072a0d0ecda23f3b16dd0ef28a5cf11673d0">ECL_TECS_MODE_CLIMBOUT</a></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    };</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a9823126daa119eb29fbcc40f6be61953">  101</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a9823126daa119eb29fbcc40f6be61953">set_detect_underspeed_enabled</a>(<span class="keywordtype">bool</span> enabled) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ad32b8a2728dc4aff6fe09447f19e5bbc">_detect_underspeed_enabled</a> = enabled; }</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="comment">// setters for controller parameters</span></div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a39600560c4ec5b37a57f4622e3a3f8a2">  104</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a39600560c4ec5b37a57f4622e3a3f8a2">set_time_const</a>(<span class="keywordtype">float</span> time_const) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a35a4dc41fd04a11df4f449a9d6210544">_pitch_time_constant</a> = time_const; }</div><div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#af9cf81adb1c48ea06d9cded649bfeac1">  105</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#af9cf81adb1c48ea06d9cded649bfeac1">set_integrator_gain</a>(<span class="keywordtype">float</span> gain) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#af47096e3328a512b1c573aa1afc5f031">_integrator_gain</a> = gain; }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a61217e6d9bfdc3c966b97d3009b78e0c">  107</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a61217e6d9bfdc3c966b97d3009b78e0c">set_min_sink_rate</a>(<span class="keywordtype">float</span> rate) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a6b0824db5aebc3da94dfc5d9b4171105">_min_sink_rate</a> = rate; }</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a3e7ddbd7d97fcec4eac9d54ac546ae94">  108</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a3e7ddbd7d97fcec4eac9d54ac546ae94">set_max_sink_rate</a>(<span class="keywordtype">float</span> sink_rate) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a5578ae0b9aaf061d02acd77a1b64f43b">_max_sink_rate</a> = sink_rate; }</div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a868422818eca1c903b3d7f27fc9dbb16">  109</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a868422818eca1c903b3d7f27fc9dbb16">set_max_climb_rate</a>(<span class="keywordtype">float</span> climb_rate) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a0314f10a024ad65980a32092108ac4b2">_max_climb_rate</a> = climb_rate; }</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a4527886406ab0e44091ee0e421f78e46">  111</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a4527886406ab0e44091ee0e421f78e46">set_height_comp_filter_omega</a>(<span class="keywordtype">float</span> omega) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ab03d4d09d85e595746b83c89d845d01d">_hgt_estimate_freq</a> = omega; }</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ac499cfa2a09b421b0ccddcd95b3091cc">  112</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ac499cfa2a09b421b0ccddcd95b3091cc">set_heightrate_ff</a>(<span class="keywordtype">float</span> heightrate_ff) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#abc8d88ad1ae9837410f75087a2f2379b">_height_setpoint_gain_ff</a> = heightrate_ff; }</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a25214559e3773e097ed775a508b8b36d">  113</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a25214559e3773e097ed775a508b8b36d">set_heightrate_p</a>(<span class="keywordtype">float</span> heightrate_p) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a72195fb04456d9ce36e6de757cb02660">_height_error_gain</a> = heightrate_p; }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a709a5b083eaacb5d790af5e201396c6c">  115</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a709a5b083eaacb5d790af5e201396c6c">set_indicated_airspeed_max</a>(<span class="keywordtype">float</span> airspeed) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a03cda9f2d349d699568bc78dec8db447">_indicated_airspeed_max</a> = airspeed; }</div><div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a79dd77063f79575c1b71bd85f92d3932">  116</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a79dd77063f79575c1b71bd85f92d3932">set_indicated_airspeed_min</a>(<span class="keywordtype">float</span> airspeed) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a96d6a8a91a38a92ba9324210fb3416f1">_indicated_airspeed_min</a> = airspeed; }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a36009b6fa0d9581c764660b749161d3c">  118</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a36009b6fa0d9581c764660b749161d3c">set_pitch_damping</a>(<span class="keywordtype">float</span> damping) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a81e71ebe1d88cb2889cc880adcc61b19">_pitch_damping_gain</a> = damping; }</div><div class="line"><a name="l00119"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#abb96ff701ffd6fa29ca78979580e3303">  119</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#abb96ff701ffd6fa29ca78979580e3303">set_vertical_accel_limit</a>(<span class="keywordtype">float</span> limit) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a3f2d95c1eb8f4cee7bd7f2b61c908953">_vert_accel_limit</a> = limit; }</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a980415283586e5c63cac69b99f5408bc">  121</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a980415283586e5c63cac69b99f5408bc">set_speed_comp_filter_omega</a>(<span class="keywordtype">float</span> omega) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#aa4b4c2be7382fc9e4b89467549273222">_tas_estimate_freq</a> = omega; }</div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a162b3674376ffa1c49fff27144c51344">  122</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a162b3674376ffa1c49fff27144c51344">set_speed_weight</a>(<span class="keywordtype">float</span> weight) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a93742f830629d1a8ef06ee9d374a1233">_pitch_speed_weight</a> = weight; }</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a5b515697bac1cffd9c8d87e3d77145b5">  123</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a5b515697bac1cffd9c8d87e3d77145b5">set_speedrate_p</a>(<span class="keywordtype">float</span> speedrate_p) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a16e8ffefa1c5098d11fb7b4a3a11278c">_speed_error_gain</a> = speedrate_p; }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ab9dfc1f3f943916190f887657972cc01">  125</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ab9dfc1f3f943916190f887657972cc01">set_time_const_throt</a>(<span class="keywordtype">float</span> time_const_throt) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#aa58f800b3a774edca8b400a4f70c616f">_throttle_time_constant</a> = time_const_throt; }</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a4f532d7f481f251e862adedb00018e95">  126</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a4f532d7f481f251e862adedb00018e95">set_throttle_damp</a>(<span class="keywordtype">float</span> throttle_damp) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a500bb4f60008185cf2554b503109670a">_throttle_damping_gain</a> = throttle_damp; }</div><div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a675385b3146c5603b1915fbe916d5721">  127</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a675385b3146c5603b1915fbe916d5721">set_throttle_slewrate</a>(<span class="keywordtype">float</span> slewrate) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a9540da1f79d7eb6001bb843a6d9e1e0d">_throttle_slewrate</a> = slewrate; }</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a838f80e6fd6cc4280b6eddee27ca1d58">  129</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a838f80e6fd6cc4280b6eddee27ca1d58">set_roll_throttle_compensation</a>(<span class="keywordtype">float</span> compensation) { <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ae627d8fc2349e502b6021326e4959a32">_load_factor_correction</a> = compensation; }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">// TECS status</span></div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a031b65916f13dc73541b9bbfd181743d">  132</a></span>&#160;    uint64_t <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a031b65916f13dc73541b9bbfd181743d">timestamp</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a491d4df45e601faaf15d149f00ba5d4b">_pitch_update_timestamp</a>; }</div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a8e4d5ae8a5bb5880a8f45ca4e76ad55b">  133</a></span>&#160;    <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072">ECL_TECS_MODE</a> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a8e4d5ae8a5bb5880a8f45ca4e76ad55b">tecs_mode</a>() { <span class="keywordflow">return</span> _tecs_mode; }</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a539bcd8336e9cf2141df49f2e3553c76">  135</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a539bcd8336e9cf2141df49f2e3553c76">hgt_setpoint_adj</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a38c44464c8e2bf1094fd1e78d2ce33cb">_hgt_setpoint_adj</a>; }</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a6818e31793fe7235feabd61348c093a1">  136</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a6818e31793fe7235feabd61348c093a1">vert_pos_state</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ae680021e0c92c9da05429c915b415d7e">_vert_pos_state</a>; }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a689059bbd58161e1eeff65576fcff07c">  138</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a689059bbd58161e1eeff65576fcff07c">TAS_setpoint_adj</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a9b530553ef9e6e2b09625bbec5ef8b7c">_TAS_setpoint_adj</a>; }</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ab37c9aacd591be3f1bab8658b365933f">  139</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ab37c9aacd591be3f1bab8658b365933f">tas_state</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a63dc43165dd4662b98e51f5ac87d15f0">_tas_state</a>; }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a1dfc0c8e29880d611ce4149701bcb5cb">  141</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a1dfc0c8e29880d611ce4149701bcb5cb">hgt_rate_setpoint</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a10f2b8241be721c9ac1862b1b20e9eda">_hgt_rate_setpoint</a>; }</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a2dc166bc0bc6528f75b448e2b4c92a87">  142</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a2dc166bc0bc6528f75b448e2b4c92a87">vert_vel_state</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a7a4184c3a5c301b95e93b3ca9bf26dd7">_vert_vel_state</a>; }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a185b45ebbd023bfcd1558e5a5a59d864">  144</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a185b45ebbd023bfcd1558e5a5a59d864">TAS_rate_setpoint</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a8a585f4e93479d4ab930a63bea3229a8">_TAS_rate_setpoint</a>; }</div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ac6962e13c64e447661d0cd504a243e6d">  145</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ac6962e13c64e447661d0cd504a243e6d">speed_derivative</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a2cd6cd2c99aac892c8cc41a0392dba92">_speed_derivative</a>; }</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ac09a33c53bbad0888adc35788bea8556">  147</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ac09a33c53bbad0888adc35788bea8556">STE_error</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a054d1b84c6719847ae15e908ca616642">_STE_error</a>; }</div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a794690694675172ea63b2ea346eba32b">  148</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a794690694675172ea63b2ea346eba32b">STE_rate_error</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a51126f8571149af17e701829e6fc31d3">_STE_rate_error</a>; }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#abe3fcf5bc5f3b4c9025619fb3299f649">  150</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#abe3fcf5bc5f3b4c9025619fb3299f649">SEB_error</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a746eb83d156c47eecb28e0fb6b2fc1e5">_SEB_error</a>; }</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a7bc03c559ab034ba62b1a8855af72073">  151</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a7bc03c559ab034ba62b1a8855af72073">SEB_rate_error</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a5a1c7de2bee26a58eff5e6044a1fc50d">_SEB_rate_error</a>; }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a13a78d5db1a21c823da7443932d37e70">  153</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a13a78d5db1a21c823da7443932d37e70">throttle_integ_state</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ae405982aa408beacb0a07f4455b27992">_throttle_integ_state</a>; }</div><div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a9cbb494361ca3e8b6111b251f2b419ae">  154</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a9cbb494361ca3e8b6111b251f2b419ae">pitch_integ_state</a>() { <span class="keywordflow">return</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a2dabe0c9724c35d4f5f14b690902edae">_pitch_integ_state</a>; }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">     * Handle the altitude reset</span></div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">     * If the estimation system resets the height in one discrete step this</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">     * will gracefully even out the reset over time.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a85cdee7117602b4f675a7ca09de5b18d">  162</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a85cdee7117602b4f675a7ca09de5b18d">handle_alt_step</a>(<span class="keywordtype">float</span> delta_alt, <span class="keywordtype">float</span> altitude)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="comment">// add height reset delta to all variables involved</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="comment">// in filtering the demanded height</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a62a53dfcd8944ef8874db7ab9c7865dc">_hgt_setpoint_in_prev</a> += delta_alt;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a54a4fe1ece68608c176add392ab68184">_hgt_setpoint_prev</a> += delta_alt;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="../../d1/d1f/class_t_e_c_s.html#aa3615934413da852b1dfec989eb1840c">_hgt_setpoint_adj_prev</a> += delta_alt;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="comment">// reset height states</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ae680021e0c92c9da05429c915b415d7e">_vert_pos_state</a> = altitude;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ac9dffa45ad1bfadc69e5e3b75e2de25d">_vert_accel_state</a> = 0.0f;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a7a4184c3a5c301b95e93b3ca9bf26dd7">_vert_vel_state</a> = 0.0f;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">enum</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072">ECL_TECS_MODE</a> _tecs_mode {<a class="code" href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072a76e9e424045f51df34be8ca2541bff54">ECL_TECS_MODE_NORMAL</a>};</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// timestamps</span></div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a7a2699e5cf8e98357087943d536277c2">  181</a></span>&#160;    uint64_t <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a7a2699e5cf8e98357087943d536277c2">_state_update_timestamp</a>{0};                <span class="comment">///&lt; last timestamp of the 50 Hz function call</span></div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a7b265b047753556de1e3fb8ee54987e0">  182</a></span>&#160;<span class="comment"></span>    uint64_t <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a7b265b047753556de1e3fb8ee54987e0">_speed_update_timestamp</a>{0};                <span class="comment">///&lt; last timestamp of the speed function call</span></div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a491d4df45e601faaf15d149f00ba5d4b">  183</a></span>&#160;<span class="comment"></span>    uint64_t <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a491d4df45e601faaf15d149f00ba5d4b">_pitch_update_timestamp</a>{0};                <span class="comment">///&lt; last timestamp of the pitch function call</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// controller parameters</span></div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ab03d4d09d85e595746b83c89d845d01d">  186</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ab03d4d09d85e595746b83c89d845d01d">_hgt_estimate_freq</a>{0.0f};                 <span class="comment">///&lt; cross-over frequency of the height rate complementary filter (rad/sec)</span></div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#aa4b4c2be7382fc9e4b89467549273222">  187</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#aa4b4c2be7382fc9e4b89467549273222">_tas_estimate_freq</a>{0.0f};                 <span class="comment">///&lt; cross-over frequency of the true airspeed complementary filter (rad/sec)</span></div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a0314f10a024ad65980a32092108ac4b2">  188</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a0314f10a024ad65980a32092108ac4b2">_max_climb_rate</a>{2.0f};                    <span class="comment">///&lt; climb rate produced by max allowed throttle (m/sec)</span></div><div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a6b0824db5aebc3da94dfc5d9b4171105">  189</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a6b0824db5aebc3da94dfc5d9b4171105">_min_sink_rate</a>{1.0f};                 <span class="comment">///&lt; sink rate produced by min allowed throttle (m/sec)</span></div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a5578ae0b9aaf061d02acd77a1b64f43b">  190</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a5578ae0b9aaf061d02acd77a1b64f43b">_max_sink_rate</a>{2.0f};                 <span class="comment">///&lt; maximum safe sink rate (m/sec)</span></div><div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a35a4dc41fd04a11df4f449a9d6210544">  191</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a35a4dc41fd04a11df4f449a9d6210544">_pitch_time_constant</a>{5.0f};               <span class="comment">///&lt; control time constant used by the pitch demand calculation (sec)</span></div><div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#aa58f800b3a774edca8b400a4f70c616f">  192</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#aa58f800b3a774edca8b400a4f70c616f">_throttle_time_constant</a>{8.0f};                <span class="comment">///&lt; control time constant used by the throttle demand calculation (sec)</span></div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a81e71ebe1d88cb2889cc880adcc61b19">  193</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a81e71ebe1d88cb2889cc880adcc61b19">_pitch_damping_gain</a>{0.0f};                <span class="comment">///&lt; damping gain of the pitch demand calculation (sec)</span></div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a500bb4f60008185cf2554b503109670a">  194</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a500bb4f60008185cf2554b503109670a">_throttle_damping_gain</a>{0.0f};             <span class="comment">///&lt; damping gain of the throttle demand calculation (sec)</span></div><div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#af47096e3328a512b1c573aa1afc5f031">  195</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#af47096e3328a512b1c573aa1afc5f031">_integrator_gain</a>{0.0f};                   <span class="comment">///&lt; integrator gain used by the throttle and pitch demand calculation</span></div><div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a3f2d95c1eb8f4cee7bd7f2b61c908953">  196</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a3f2d95c1eb8f4cee7bd7f2b61c908953">_vert_accel_limit</a>{0.0f};                  <span class="comment">///&lt; magnitude of the maximum vertical acceleration allowed (m/sec**2)</span></div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ae627d8fc2349e502b6021326e4959a32">  197</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ae627d8fc2349e502b6021326e4959a32">_load_factor_correction</a>{0.0f};                <span class="comment">///&lt; gain from normal load factor increase to total energy rate demand (m**2/sec**3)</span></div><div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a93742f830629d1a8ef06ee9d374a1233">  198</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a93742f830629d1a8ef06ee9d374a1233">_pitch_speed_weight</a>{1.0f};                <span class="comment">///&lt; speed control weighting used by pitch demand calculation</span></div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a72195fb04456d9ce36e6de757cb02660">  199</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a72195fb04456d9ce36e6de757cb02660">_height_error_gain</a>{0.0f};                 <span class="comment">///&lt; gain from height error to demanded climb rate (1/sec)</span></div><div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#abc8d88ad1ae9837410f75087a2f2379b">  200</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#abc8d88ad1ae9837410f75087a2f2379b">_height_setpoint_gain_ff</a>{0.0f};               <span class="comment">///&lt; gain from height demand derivative to demanded climb rate</span></div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a16e8ffefa1c5098d11fb7b4a3a11278c">  201</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a16e8ffefa1c5098d11fb7b4a3a11278c">_speed_error_gain</a>{0.0f};                  <span class="comment">///&lt; gain from speed error to demanded speed rate (1/sec)</span></div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a96d6a8a91a38a92ba9324210fb3416f1">  202</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a96d6a8a91a38a92ba9324210fb3416f1">_indicated_airspeed_min</a>{3.0f};                <span class="comment">///&lt; equivalent airspeed demand lower limit (m/sec)</span></div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a03cda9f2d349d699568bc78dec8db447">  203</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a03cda9f2d349d699568bc78dec8db447">_indicated_airspeed_max</a>{30.0f};               <span class="comment">///&lt; equivalent airspeed demand upper limit (m/sec)</span></div><div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a9540da1f79d7eb6001bb843a6d9e1e0d">  204</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a9540da1f79d7eb6001bb843a6d9e1e0d">_throttle_slewrate</a>{0.0f};                 <span class="comment">///&lt; throttle demand slew rate limit (1/sec)</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">// controller outputs</span></div><div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#accd03f8685f83d31331cac4c76a37d36">  207</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#accd03f8685f83d31331cac4c76a37d36">_throttle_setpoint</a>{0.0f};                 <span class="comment">///&lt; normalized throttle demand (0..1)</span></div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#acbc17a214656270c156f8c5ce731c611">  208</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#acbc17a214656270c156f8c5ce731c611">_pitch_setpoint</a>{0.0f};                    <span class="comment">///&lt; pitch angle demand (radians)</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">// complimentary filter states</span></div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ac9dffa45ad1bfadc69e5e3b75e2de25d">  211</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ac9dffa45ad1bfadc69e5e3b75e2de25d">_vert_accel_state</a>{0.0f};                  <span class="comment">///&lt; complimentary filter state - height second derivative (m/sec**2)</span></div><div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a7a4184c3a5c301b95e93b3ca9bf26dd7">  212</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a7a4184c3a5c301b95e93b3ca9bf26dd7">_vert_vel_state</a>{0.0f};                    <span class="comment">///&lt; complimentary filter state - height rate (m/sec)</span></div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ae680021e0c92c9da05429c915b415d7e">  213</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ae680021e0c92c9da05429c915b415d7e">_vert_pos_state</a>{0.0f};                    <span class="comment">///&lt; complimentary filter state - height (m)</span></div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ab8e692959353fac04c1e2b4b62f06425">  214</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ab8e692959353fac04c1e2b4b62f06425">_tas_rate_state</a>{0.0f};                    <span class="comment">///&lt; complimentary filter state - true airspeed first derivative (m/sec**2)</span></div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a63dc43165dd4662b98e51f5ac87d15f0">  215</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a63dc43165dd4662b98e51f5ac87d15f0">_tas_state</a>{0.0f};                     <span class="comment">///&lt; complimentary filter state - true airspeed (m/sec)</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// controller states</span></div><div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ae405982aa408beacb0a07f4455b27992">  218</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ae405982aa408beacb0a07f4455b27992">_throttle_integ_state</a>{0.0f};              <span class="comment">///&lt; throttle integrator state</span></div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a2dabe0c9724c35d4f5f14b690902edae">  219</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a2dabe0c9724c35d4f5f14b690902edae">_pitch_integ_state</a>{0.0f};                 <span class="comment">///&lt; pitch integrator state (rad)</span></div><div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a370014b30b390f27086b89f8fba2c746">  220</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a370014b30b390f27086b89f8fba2c746">_last_throttle_setpoint</a>{0.0f};                <span class="comment">///&lt; throttle demand rate limiter state (1/sec)</span></div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a94813442c376e5a4f472cdecf45f89b6">  221</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a94813442c376e5a4f472cdecf45f89b6">_last_pitch_setpoint</a>{0.0f};               <span class="comment">///&lt; pitch demand rate limiter state (rad/sec)</span></div><div class="line"><a name="l00222"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a2cd6cd2c99aac892c8cc41a0392dba92">  222</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a2cd6cd2c99aac892c8cc41a0392dba92">_speed_derivative</a>{0.0f};                  <span class="comment">///&lt; rate of change of speed along X axis (m/sec**2)</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">// speed demand calculations</span></div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ad3a8467e9cf0fd678c9cd4489c37419c">  225</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ad3a8467e9cf0fd678c9cd4489c37419c">_EAS</a>{0.0f};                       <span class="comment">///&lt; equivalent airspeed (m/sec)</span></div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a0d597bd2728311e9804ea8b1ef1f5efa">  226</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a0d597bd2728311e9804ea8b1ef1f5efa">_TAS_max</a>{30.0f};                      <span class="comment">///&lt; true airpeed demand upper limit (m/sec)</span></div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a18296ff6e8c3066645c4ad2f4b1fdc48">  227</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a18296ff6e8c3066645c4ad2f4b1fdc48">_TAS_min</a>{3.0f};                       <span class="comment">///&lt; true airpeed demand lower limit (m/sec)</span></div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a247b49471892cbe8a414d5981944b639">  228</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a247b49471892cbe8a414d5981944b639">_TAS_setpoint</a>{0.0f};                  <span class="comment">///&lt; current airpeed demand (m/sec)</span></div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a5c948a3760ef7842f6cceeb1e2fa37e1">  229</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a5c948a3760ef7842f6cceeb1e2fa37e1">_TAS_setpoint_last</a>{0.0f};                 <span class="comment">///&lt; previous true airpeed demand (m/sec)</span></div><div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a65589176395cccd296be86762d2f336f">  230</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a65589176395cccd296be86762d2f336f">_EAS_setpoint</a>{0.0f};                  <span class="comment">///&lt; Equivalent airspeed demand (m/sec)</span></div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a9b530553ef9e6e2b09625bbec5ef8b7c">  231</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a9b530553ef9e6e2b09625bbec5ef8b7c">_TAS_setpoint_adj</a>{0.0f};                  <span class="comment">///&lt; true airspeed demand tracked by the TECS algorithm (m/sec)</span></div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a8a585f4e93479d4ab930a63bea3229a8">  232</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a8a585f4e93479d4ab930a63bea3229a8">_TAS_rate_setpoint</a>{0.0f};                 <span class="comment">///&lt; true airspeed rate demand tracked by the TECS algorithm (m/sec**2)</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// height demand calculations</span></div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#af745ff4a477a38403bb578d9b5577f55">  235</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#af745ff4a477a38403bb578d9b5577f55">_hgt_setpoint</a>{0.0f};                  <span class="comment">///&lt; demanded height tracked by the TECS algorithm (m)</span></div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a62a53dfcd8944ef8874db7ab9c7865dc">  236</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a62a53dfcd8944ef8874db7ab9c7865dc">_hgt_setpoint_in_prev</a>{0.0f};              <span class="comment">///&lt; previous value of _hgt_setpoint after noise filtering (m)</span></div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a54a4fe1ece68608c176add392ab68184">  237</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a54a4fe1ece68608c176add392ab68184">_hgt_setpoint_prev</a>{0.0f};                 <span class="comment">///&lt; previous value of _hgt_setpoint after noise filtering and rate limiting (m)</span></div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a38c44464c8e2bf1094fd1e78d2ce33cb">  238</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a38c44464c8e2bf1094fd1e78d2ce33cb">_hgt_setpoint_adj</a>{0.0f};                  <span class="comment">///&lt; demanded height used by the control loops after all filtering has been applied (m)</span></div><div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#aa3615934413da852b1dfec989eb1840c">  239</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#aa3615934413da852b1dfec989eb1840c">_hgt_setpoint_adj_prev</a>{0.0f};             <span class="comment">///&lt; value of _hgt_setpoint_adj from previous frame (m)</span></div><div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a10f2b8241be721c9ac1862b1b20e9eda">  240</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a10f2b8241be721c9ac1862b1b20e9eda">_hgt_rate_setpoint</a>{0.0f};                 <span class="comment">///&lt; demanded climb rate tracked by the TECS algorithm</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">// vehicle physical limits</span></div><div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a591ee0a89db163f0dadda75ac35184ee">  243</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a591ee0a89db163f0dadda75ac35184ee">_pitch_setpoint_unc</a>{0.0f};                <span class="comment">///&lt; pitch demand before limiting (rad)</span></div><div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a674913a0d51c181a1010b0fa849de0a3">  244</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a674913a0d51c181a1010b0fa849de0a3">_STE_rate_max</a>{0.0f};                  <span class="comment">///&lt; specific total energy rate upper limit achieved when throttle is at _throttle_setpoint_max (m**2/sec**3)</span></div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a555f603406804cb69ac4d04a4042ee1f">  245</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a555f603406804cb69ac4d04a4042ee1f">_STE_rate_min</a>{0.0f};                  <span class="comment">///&lt; specific total energy rate lower limit acheived when throttle is at _throttle_setpoint_min (m**2/sec**3)</span></div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a41f29be4495546610a800fb13e74368b">  246</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a41f29be4495546610a800fb13e74368b">_throttle_setpoint_max</a>{0.0f};             <span class="comment">///&lt; normalised throttle upper limit</span></div><div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#afa455a481e8b6cd23febab3ba52b547e">  247</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#afa455a481e8b6cd23febab3ba52b547e">_throttle_setpoint_min</a>{0.0f};             <span class="comment">///&lt; normalised throttle lower limit</span></div><div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a11358a70d4e805a267126195a7f1f277">  248</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a11358a70d4e805a267126195a7f1f277">_pitch_setpoint_max</a>{0.5f};                <span class="comment">///&lt; pitch demand upper limit (rad)</span></div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#af92cd0c66cd8a6cf5f57b608c90347c4">  249</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#af92cd0c66cd8a6cf5f57b608c90347c4">_pitch_setpoint_min</a>{-0.5f};               <span class="comment">///&lt; pitch demand lower limit (rad)</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">// specific energy quantities</span></div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a70933c91f037cd6accca28805a8155da">  252</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a70933c91f037cd6accca28805a8155da">_SPE_setpoint</a>{0.0f};                  <span class="comment">///&lt; specific potential energy demand (m**2/sec**2)</span></div><div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a9897752b5b90aa5abb1fcf46b90f5889">  253</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a9897752b5b90aa5abb1fcf46b90f5889">_SKE_setpoint</a>{0.0f};                  <span class="comment">///&lt; specific kinetic energy demand (m**2/sec**2)</span></div><div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ac1170fb4bae85e2229562758ce932500">  254</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ac1170fb4bae85e2229562758ce932500">_SPE_rate_setpoint</a>{0.0f};                 <span class="comment">///&lt; specific potential energy rate demand (m**2/sec**3)</span></div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a78bbe16f2037a98a7080891f68114db2">  255</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a78bbe16f2037a98a7080891f68114db2">_SKE_rate_setpoint</a>{0.0f};                 <span class="comment">///&lt; specific kinetic energy rate demand (m**2/sec**3)</span></div><div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ad55696d5bee9f3ac4bc80a0f85a885bc">  256</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ad55696d5bee9f3ac4bc80a0f85a885bc">_SPE_estimate</a>{0.0f};                  <span class="comment">///&lt; specific potential energy estimate (m**2/sec**2)</span></div><div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#aaa1bdb9455890bb186ffb899875fc74b">  257</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#aaa1bdb9455890bb186ffb899875fc74b">_SKE_estimate</a>{0.0f};                  <span class="comment">///&lt; specific kinetic energy estimate (m**2/sec**2)</span></div><div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a778f00ba2f171ea1783bbb9795a264c5">  258</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a778f00ba2f171ea1783bbb9795a264c5">_SPE_rate</a>{0.0f};                      <span class="comment">///&lt; specific potential energy rate estimate (m**2/sec**3)</span></div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a8e12e8101f533b0f000f142ad509a545">  259</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a8e12e8101f533b0f000f142ad509a545">_SKE_rate</a>{0.0f};                      <span class="comment">///&lt; specific kinetic energy rate estimate (m**2/sec**3)</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="comment">// specific energy error quantities</span></div><div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a054d1b84c6719847ae15e908ca616642">  262</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a054d1b84c6719847ae15e908ca616642">_STE_error</a>{0.0f};                     <span class="comment">///&lt; specific total energy error (m**2/sec**2)</span></div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a51126f8571149af17e701829e6fc31d3">  263</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a51126f8571149af17e701829e6fc31d3">_STE_rate_error</a>{0.0f};                    <span class="comment">///&lt; specific total energy rate error (m**2/sec**3)</span></div><div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a746eb83d156c47eecb28e0fb6b2fc1e5">  264</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a746eb83d156c47eecb28e0fb6b2fc1e5">_SEB_error</a>{0.0f};                     <span class="comment">///&lt; specific energy balance error (m**2/sec**2)</span></div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a5a1c7de2bee26a58eff5e6044a1fc50d">  265</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a5a1c7de2bee26a58eff5e6044a1fc50d">_SEB_rate_error</a>{0.0f};                    <span class="comment">///&lt; specific energy balance rate error (m**2/sec**3)</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// time steps (non-fixed)</span></div><div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a3ab0de013572380094a825d89e31365e">  268</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a3ab0de013572380094a825d89e31365e">_dt</a>{<a class="code" href="../../d1/d1f/class_t_e_c_s.html#a9d91854786fdf8697c224df982f4ba5c">DT_DEFAULT</a>};                      <span class="comment">///&lt; Time since last update of main TECS loop (sec)</span></div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a9d91854786fdf8697c224df982f4ba5c">  269</a></span>&#160;<span class="comment"></span>    <span class="keyword">static</span> constexpr <span class="keywordtype">float</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a9d91854786fdf8697c224df982f4ba5c">DT_DEFAULT</a> = 0.02f;          <span class="comment">///&lt; default value for _dt (sec)</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">// controller mode logic</span></div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ab809ed3eda881d853dc4b2a8b4db3bc1">  272</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ab809ed3eda881d853dc4b2a8b4db3bc1">_underspeed_detected</a>{<span class="keyword">false</span>};               <span class="comment">///&lt; true when an underspeed condition has been detected</span></div><div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#ad32b8a2728dc4aff6fe09447f19e5bbc">  273</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ad32b8a2728dc4aff6fe09447f19e5bbc">_detect_underspeed_enabled</a>{<span class="keyword">true</span>};              <span class="comment">///&lt; true when underspeed detection is enabled</span></div><div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#aca64b0d6f48ae591bf07a138a90ddfa3">  274</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#aca64b0d6f48ae591bf07a138a90ddfa3">_uncommanded_descent_recovery</a>{<span class="keyword">false</span>};          <span class="comment">///&lt; true when a continuous descent caused by an unachievable airspeed demand has been detected</span></div><div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a3779fae0c2dc512fd4640b5f78b8b935">  275</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a3779fae0c2dc512fd4640b5f78b8b935">_climbout_mode_active</a>{<span class="keyword">false</span>};              <span class="comment">///&lt; true when in climbout mode</span></div><div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a0a8c72428702c402d9ad6cf269c27d98">  276</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a0a8c72428702c402d9ad6cf269c27d98">_airspeed_enabled</a>{<span class="keyword">false</span>};                  <span class="comment">///&lt; true when airspeed use has been enabled</span></div><div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a06802c5fc4a2aee207156706117d889d">  277</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a06802c5fc4a2aee207156706117d889d">_states_initalized</a>{<span class="keyword">false</span>};                 <span class="comment">///&lt; true when TECS states have been iniitalized</span></div><div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="../../d1/d1f/class_t_e_c_s.html#a4323d25b277e12fd373be58e3110cdab">  278</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">bool</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a4323d25b277e12fd373be58e3110cdab">_in_air</a>{<span class="keyword">false</span>};                        <span class="comment">///&lt; true when the vehicle is flying</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span><span class="comment"></span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">     * Update the airspeed internal state using a second order complementary filter</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#ad80df2b3b140f116e244b619687f5033">_update_speed_states</a>(<span class="keywordtype">float</span> airspeed_setpoint, <span class="keywordtype">float</span> indicated_airspeed, <span class="keywordtype">float</span> eas_to_tas);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="comment">     * Update the desired airspeed</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#af1b423dec94a3bee2c7951e2c20fc9a8">_update_speed_setpoint</a>();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="comment">     * Update the desired height</span></div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a52d4b31866f3a53e2d1fb2c08324a8c0">_update_height_setpoint</a>(<span class="keywordtype">float</span> desired, <span class="keywordtype">float</span> <a class="code" href="../../d0/d49/arm__auth_8cpp.html#a403c5c8a9261f2b8d96be618ecb3f502">state</a>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">     * Detect if the system is not capable of maintaining airspeed</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a77bfca668f7e22596ff8c3bf624a4eb7">_detect_underspeed</a>();</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">     * Update specific energy</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a9df3e59fc5b1e294c7aa3f3c21c48f1b">_update_energy_estimates</a>();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">     * Update throttle setpoint</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#aa46d349335c601e995746ea03306526b">_update_throttle_setpoint</a>(<span class="keywordtype">float</span> throttle_cruise, <span class="keyword">const</span> <a class="code" href="../../d4/d11/classmatrix_1_1_dcm.html">matrix::Dcmf</a> &amp;rotMat);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">     * Detect an uncommanded descent</span></div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a744cffdf8757b70e4051f05afa078922">_detect_uncommanded_descent</a>();</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">     * Update the pitch setpoint</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a1f75a0a5bda6c6708b8f02b01ec68da5">_update_pitch_setpoint</a>();</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">     * Initialize the controller</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a3c9071e0e57efc5e8570212f629bab17">_initialize_states</a>(<span class="keywordtype">float</span> pitch, <span class="keywordtype">float</span> throttle_cruise, <span class="keywordtype">float</span> baro_altitude, <span class="keywordtype">float</span> pitch_min_climbout,</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <span class="keywordtype">float</span> eas_to_tas);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">     * Calculate specific total energy rate limits</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d1/d1f/class_t_e_c_s.html#a4732c2d116797890c55e3c6d11663b2d">_update_STE_rate_lim</a>();</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;};</div><div class="ttc" id="class_t_e_c_s_html_a8e4d5ae8a5bb5880a8f45ca4e76ad55b"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a8e4d5ae8a5bb5880a8f45ca4e76ad55b">TECS::tecs_mode</a></div><div class="ttdeci">ECL_TECS_MODE tecs_mode()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00133">tecs.h:133</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a794690694675172ea63b2ea346eba32b"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a794690694675172ea63b2ea346eba32b">TECS::STE_rate_error</a></div><div class="ttdeci">float STE_rate_error()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00148">tecs.h:148</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a18296ff6e8c3066645c4ad2f4b1fdc48"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a18296ff6e8c3066645c4ad2f4b1fdc48">TECS::_TAS_min</a></div><div class="ttdeci">float _TAS_min</div><div class="ttdoc">true airpeed demand lower limit (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00227">tecs.h:227</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a591ee0a89db163f0dadda75ac35184ee"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a591ee0a89db163f0dadda75ac35184ee">TECS::_pitch_setpoint_unc</a></div><div class="ttdeci">float _pitch_setpoint_unc</div><div class="ttdoc">pitch demand before limiting (rad) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00243">tecs.h:243</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a778f00ba2f171ea1783bbb9795a264c5"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a778f00ba2f171ea1783bbb9795a264c5">TECS::_SPE_rate</a></div><div class="ttdeci">float _SPE_rate</div><div class="ttdoc">specific potential energy rate estimate (m**2/sec**3) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00258">tecs.h:258</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_abe3fcf5bc5f3b4c9025619fb3299f649"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#abe3fcf5bc5f3b4c9025619fb3299f649">TECS::SEB_error</a></div><div class="ttdeci">float SEB_error()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00150">tecs.h:150</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_af47096e3328a512b1c573aa1afc5f031"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#af47096e3328a512b1c573aa1afc5f031">TECS::_integrator_gain</a></div><div class="ttdeci">float _integrator_gain</div><div class="ttdoc">integrator gain used by the throttle and pitch demand calculation </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00195">tecs.h:195</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a61217e6d9bfdc3c966b97d3009b78e0c"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a61217e6d9bfdc3c966b97d3009b78e0c">TECS::set_min_sink_rate</a></div><div class="ttdeci">void set_min_sink_rate(float rate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00107">tecs.h:107</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a10f2b8241be721c9ac1862b1b20e9eda"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a10f2b8241be721c9ac1862b1b20e9eda">TECS::_hgt_rate_setpoint</a></div><div class="ttdeci">float _hgt_rate_setpoint</div><div class="ttdoc">demanded climb rate tracked by the TECS algorithm </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00240">tecs.h:240</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a7a4184c3a5c301b95e93b3ca9bf26dd7"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a7a4184c3a5c301b95e93b3ca9bf26dd7">TECS::_vert_vel_state</a></div><div class="ttdeci">float _vert_vel_state</div><div class="ttdoc">complimentary filter state - height rate (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00212">tecs.h:212</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a70933c91f037cd6accca28805a8155da"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a70933c91f037cd6accca28805a8155da">TECS::_SPE_setpoint</a></div><div class="ttdeci">float _SPE_setpoint</div><div class="ttdoc">specific potential energy demand (m**2/sec**2) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00252">tecs.h:252</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ac499cfa2a09b421b0ccddcd95b3091cc"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ac499cfa2a09b421b0ccddcd95b3091cc">TECS::set_heightrate_ff</a></div><div class="ttdeci">void set_heightrate_ff(float heightrate_ff)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00112">tecs.h:112</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_af745ff4a477a38403bb578d9b5577f55"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#af745ff4a477a38403bb578d9b5577f55">TECS::_hgt_setpoint</a></div><div class="ttdeci">float _hgt_setpoint</div><div class="ttdoc">demanded height tracked by the TECS algorithm (m) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00235">tecs.h:235</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a162b3674376ffa1c49fff27144c51344"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a162b3674376ffa1c49fff27144c51344">TECS::set_speed_weight</a></div><div class="ttdeci">void set_speed_weight(float weight)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00122">tecs.h:122</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a72195fb04456d9ce36e6de757cb02660"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a72195fb04456d9ce36e6de757cb02660">TECS::_height_error_gain</a></div><div class="ttdeci">float _height_error_gain</div><div class="ttdoc">gain from height error to demanded climb rate (1/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00199">tecs.h:199</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a11358a70d4e805a267126195a7f1f277"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a11358a70d4e805a267126195a7f1f277">TECS::_pitch_setpoint_max</a></div><div class="ttdeci">float _pitch_setpoint_max</div><div class="ttdoc">pitch demand upper limit (rad) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00248">tecs.h:248</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a54a4fe1ece68608c176add392ab68184"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a54a4fe1ece68608c176add392ab68184">TECS::_hgt_setpoint_prev</a></div><div class="ttdeci">float _hgt_setpoint_prev</div><div class="ttdoc">previous value of _hgt_setpoint after noise filtering and rate limiting (m) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00237">tecs.h:237</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_aca64b0d6f48ae591bf07a138a90ddfa3"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#aca64b0d6f48ae591bf07a138a90ddfa3">TECS::_uncommanded_descent_recovery</a></div><div class="ttdeci">bool _uncommanded_descent_recovery</div><div class="ttdoc">true when a continuous descent caused by an unachievable airspeed demand has been detected ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00274">tecs.h:274</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a3f2d95c1eb8f4cee7bd7f2b61c908953"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a3f2d95c1eb8f4cee7bd7f2b61c908953">TECS::_vert_accel_limit</a></div><div class="ttdeci">float _vert_accel_limit</div><div class="ttdoc">magnitude of the maximum vertical acceleration allowed (m/sec**2) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00196">tecs.h:196</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ab8e692959353fac04c1e2b4b62f06425"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ab8e692959353fac04c1e2b4b62f06425">TECS::_tas_rate_state</a></div><div class="ttdeci">float _tas_rate_state</div><div class="ttdoc">complimentary filter state - true airspeed first derivative (m/sec**2) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00214">tecs.h:214</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ad80df2b3b140f116e244b619687f5033"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ad80df2b3b140f116e244b619687f5033">TECS::_update_speed_states</a></div><div class="ttdeci">void _update_speed_states(float airspeed_setpoint, float indicated_airspeed, float eas_to_tas)</div><div class="ttdoc">Update the airspeed internal state using a second order complementary filter. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/tecs_8cpp_source.html#l00149">tecs.cpp:149</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a868422818eca1c903b3d7f27fc9dbb16"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a868422818eca1c903b3d7f27fc9dbb16">TECS::set_max_climb_rate</a></div><div class="ttdeci">void set_max_climb_rate(float climb_rate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00109">tecs.h:109</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a9540da1f79d7eb6001bb843a6d9e1e0d"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a9540da1f79d7eb6001bb843a6d9e1e0d">TECS::_throttle_slewrate</a></div><div class="ttdeci">float _throttle_slewrate</div><div class="ttdoc">throttle demand slew rate limit (1/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00204">tecs.h:204</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a77bfca668f7e22596ff8c3bf624a4eb7"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a77bfca668f7e22596ff8c3bf624a4eb7">TECS::_detect_underspeed</a></div><div class="ttdeci">void _detect_underspeed()</div><div class="ttdoc">Detect if the system is not capable of maintaining airspeed. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/tecs_8cpp_source.html#l00268">tecs.cpp:268</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a6b0824db5aebc3da94dfc5d9b4171105"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a6b0824db5aebc3da94dfc5d9b4171105">TECS::_min_sink_rate</a></div><div class="ttdeci">float _min_sink_rate</div><div class="ttdoc">sink rate produced by min allowed throttle (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00189">tecs.h:189</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a4527886406ab0e44091ee0e421f78e46"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a4527886406ab0e44091ee0e421f78e46">TECS::set_height_comp_filter_omega</a></div><div class="ttdeci">void set_height_comp_filter_omega(float omega)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00111">tecs.h:111</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a3e7ddbd7d97fcec4eac9d54ac546ae94"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a3e7ddbd7d97fcec4eac9d54ac546ae94">TECS::set_max_sink_rate</a></div><div class="ttdeci">void set_max_sink_rate(float sink_rate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00108">tecs.h:108</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ae405982aa408beacb0a07f4455b27992"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ae405982aa408beacb0a07f4455b27992">TECS::_throttle_integ_state</a></div><div class="ttdeci">float _throttle_integ_state</div><div class="ttdoc">throttle integrator state </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00218">tecs.h:218</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a491d4df45e601faaf15d149f00ba5d4b"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a491d4df45e601faaf15d149f00ba5d4b">TECS::_pitch_update_timestamp</a></div><div class="ttdeci">uint64_t _pitch_update_timestamp</div><div class="ttdoc">last timestamp of the pitch function call </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00183">tecs.h:183</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a3779fae0c2dc512fd4640b5f78b8b935"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a3779fae0c2dc512fd4640b5f78b8b935">TECS::_climbout_mode_active</a></div><div class="ttdeci">bool _climbout_mode_active</div><div class="ttdoc">true when in climbout mode </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00275">tecs.h:275</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a555f603406804cb69ac4d04a4042ee1f"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a555f603406804cb69ac4d04a4042ee1f">TECS::_STE_rate_min</a></div><div class="ttdeci">float _STE_rate_min</div><div class="ttdoc">specific total energy rate lower limit acheived when throttle is at _throttle_setpoint_min (m**2/sec*...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00245">tecs.h:245</a></div></div>
<div class="ttc" id="classmatrix_1_1_dcm_html"><div class="ttname"><a href="../../d4/d11/classmatrix_1_1_dcm.html">matrix::Dcm&lt; float &gt;</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_aa46d349335c601e995746ea03306526b"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#aa46d349335c601e995746ea03306526b">TECS::_update_throttle_setpoint</a></div><div class="ttdeci">void _update_throttle_setpoint(float throttle_cruise, const matrix::Dcmf &amp;rotMat)</div><div class="ttdoc">Update throttle setpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/tecs_8cpp_source.html#l00304">tecs.cpp:304</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_aaa1bdb9455890bb186ffb899875fc74b"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#aaa1bdb9455890bb186ffb899875fc74b">TECS::_SKE_estimate</a></div><div class="ttdeci">float _SKE_estimate</div><div class="ttdoc">specific kinetic energy estimate (m**2/sec**2) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00257">tecs.h:257</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_afa455a481e8b6cd23febab3ba52b547e"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#afa455a481e8b6cd23febab3ba52b547e">TECS::_throttle_setpoint_min</a></div><div class="ttdeci">float _throttle_setpoint_min</div><div class="ttdoc">normalised throttle lower limit </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00247">tecs.h:247</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a2cd6cd2c99aac892c8cc41a0392dba92"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a2cd6cd2c99aac892c8cc41a0392dba92">TECS::_speed_derivative</a></div><div class="ttdeci">float _speed_derivative</div><div class="ttdoc">rate of change of speed along X axis (m/sec**2) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00222">tecs.h:222</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a2dabe0c9724c35d4f5f14b690902edae"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a2dabe0c9724c35d4f5f14b690902edae">TECS::_pitch_integ_state</a></div><div class="ttdeci">float _pitch_integ_state</div><div class="ttdoc">pitch integrator state (rad) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00219">tecs.h:219</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_abd929268aff820c70915fc332c8a0d60"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#abd929268aff820c70915fc332c8a0d60">TECS::enable_airspeed</a></div><div class="ttdeci">void enable_airspeed(bool enabled)</div><div class="ttdoc">Set the airspeed enable state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00067">tecs.h:67</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a51126f8571149af17e701829e6fc31d3"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a51126f8571149af17e701829e6fc31d3">TECS::_STE_rate_error</a></div><div class="ttdeci">float _STE_rate_error</div><div class="ttdoc">specific total energy rate error (m**2/sec**3) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00263">tecs.h:263</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ac6962e13c64e447661d0cd504a243e6d"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ac6962e13c64e447661d0cd504a243e6d">TECS::speed_derivative</a></div><div class="ttdeci">float speed_derivative()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00145">tecs.h:145</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a39600560c4ec5b37a57f4622e3a3f8a2"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a39600560c4ec5b37a57f4622e3a3f8a2">TECS::set_time_const</a></div><div class="ttdeci">void set_time_const(float time_const)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00104">tecs.h:104</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a031b65916f13dc73541b9bbfd181743d"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a031b65916f13dc73541b9bbfd181743d">TECS::timestamp</a></div><div class="ttdeci">uint64_t timestamp()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00132">tecs.h:132</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a81e71ebe1d88cb2889cc880adcc61b19"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a81e71ebe1d88cb2889cc880adcc61b19">TECS::_pitch_damping_gain</a></div><div class="ttdeci">float _pitch_damping_gain</div><div class="ttdoc">damping gain of the pitch demand calculation (sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00193">tecs.h:193</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ad83e038b3d5482f5f617cbf5b121fd2a"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ad83e038b3d5482f5f617cbf5b121fd2a">TECS::get_pitch_setpoint</a></div><div class="ttdeci">float get_pitch_setpoint()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00089">tecs.h:89</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a63dc43165dd4662b98e51f5ac87d15f0"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a63dc43165dd4662b98e51f5ac87d15f0">TECS::_tas_state</a></div><div class="ttdeci">float _tas_state</div><div class="ttdoc">complimentary filter state - true airspeed (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00215">tecs.h:215</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a1d17f3eecc070834c5204c2dcb527072a0d0ecda23f3b16dd0ef28a5cf11673d0"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072a0d0ecda23f3b16dd0ef28a5cf11673d0">TECS::ECL_TECS_MODE_CLIMBOUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00098">tecs.h:98</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a79dd77063f79575c1b71bd85f92d3932"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a79dd77063f79575c1b71bd85f92d3932">TECS::set_indicated_airspeed_min</a></div><div class="ttdeci">void set_indicated_airspeed_min(float airspeed)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00116">tecs.h:116</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a35a4dc41fd04a11df4f449a9d6210544"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a35a4dc41fd04a11df4f449a9d6210544">TECS::_pitch_time_constant</a></div><div class="ttdeci">float _pitch_time_constant</div><div class="ttdoc">control time constant used by the pitch demand calculation (sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00191">tecs.h:191</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ac09a33c53bbad0888adc35788bea8556"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ac09a33c53bbad0888adc35788bea8556">TECS::STE_error</a></div><div class="ttdeci">float STE_error()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00147">tecs.h:147</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a9cbb494361ca3e8b6111b251f2b419ae"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a9cbb494361ca3e8b6111b251f2b419ae">TECS::pitch_integ_state</a></div><div class="ttdeci">float pitch_integ_state()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00154">tecs.h:154</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a9897752b5b90aa5abb1fcf46b90f5889"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a9897752b5b90aa5abb1fcf46b90f5889">TECS::_SKE_setpoint</a></div><div class="ttdeci">float _SKE_setpoint</div><div class="ttdoc">specific kinetic energy demand (m**2/sec**2) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00253">tecs.h:253</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a185b45ebbd023bfcd1558e5a5a59d864"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a185b45ebbd023bfcd1558e5a5a59d864">TECS::TAS_rate_setpoint</a></div><div class="ttdeci">float TAS_rate_setpoint()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00144">tecs.h:144</a></div></div>
<div class="ttc" id="classmatrix_1_1_vector3_html"><div class="ttname"><a href="../../d3/d87/classmatrix_1_1_vector3.html">matrix::Vector3</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6a/_vector3_8hpp_source.html#l00026">Vector3.hpp:26</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a96d6a8a91a38a92ba9324210fb3416f1"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a96d6a8a91a38a92ba9324210fb3416f1">TECS::_indicated_airspeed_min</a></div><div class="ttdeci">float _indicated_airspeed_min</div><div class="ttdoc">equivalent airspeed demand lower limit (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00202">tecs.h:202</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a500bb4f60008185cf2554b503109670a"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a500bb4f60008185cf2554b503109670a">TECS::_throttle_damping_gain</a></div><div class="ttdeci">float _throttle_damping_gain</div><div class="ttdoc">damping gain of the throttle demand calculation (sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00194">tecs.h:194</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a0a8c72428702c402d9ad6cf269c27d98"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a0a8c72428702c402d9ad6cf269c27d98">TECS::_airspeed_enabled</a></div><div class="ttdeci">bool _airspeed_enabled</div><div class="ttdoc">true when airspeed use has been enabled </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00276">tecs.h:276</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a1f75a0a5bda6c6708b8f02b01ec68da5"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a1f75a0a5bda6c6708b8f02b01ec68da5">TECS::_update_pitch_setpoint</a></div><div class="ttdeci">void _update_pitch_setpoint()</div><div class="ttdoc">Update the pitch setpoint. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/tecs_8cpp_source.html#l00426">tecs.cpp:426</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a0d597bd2728311e9804ea8b1ef1f5efa"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a0d597bd2728311e9804ea8b1ef1f5efa">TECS::_TAS_max</a></div><div class="ttdeci">float _TAS_max</div><div class="ttdoc">true airpeed demand upper limit (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00226">tecs.h:226</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a93742f830629d1a8ef06ee9d374a1233"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a93742f830629d1a8ef06ee9d374a1233">TECS::_pitch_speed_weight</a></div><div class="ttdeci">float _pitch_speed_weight</div><div class="ttdoc">speed control weighting used by pitch demand calculation </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00198">tecs.h:198</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a5c948a3760ef7842f6cceeb1e2fa37e1"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a5c948a3760ef7842f6cceeb1e2fa37e1">TECS::_TAS_setpoint_last</a></div><div class="ttdeci">float _TAS_setpoint_last</div><div class="ttdoc">previous true airpeed demand (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00229">tecs.h:229</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a370014b30b390f27086b89f8fba2c746"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a370014b30b390f27086b89f8fba2c746">TECS::_last_throttle_setpoint</a></div><div class="ttdeci">float _last_throttle_setpoint</div><div class="ttdoc">throttle demand rate limiter state (1/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00220">tecs.h:220</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a8e12e8101f533b0f000f142ad509a545"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a8e12e8101f533b0f000f142ad509a545">TECS::_SKE_rate</a></div><div class="ttdeci">float _SKE_rate</div><div class="ttdoc">specific kinetic energy rate estimate (m**2/sec**3) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00259">tecs.h:259</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a7a2699e5cf8e98357087943d536277c2"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a7a2699e5cf8e98357087943d536277c2">TECS::_state_update_timestamp</a></div><div class="ttdeci">uint64_t _state_update_timestamp</div><div class="ttdoc">last timestamp of the 50 Hz function call </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00181">tecs.h:181</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_af9cf81adb1c48ea06d9cded649bfeac1"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#af9cf81adb1c48ea06d9cded649bfeac1">TECS::set_integrator_gain</a></div><div class="ttdeci">void set_integrator_gain(float gain)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00105">tecs.h:105</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a054d1b84c6719847ae15e908ca616642"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a054d1b84c6719847ae15e908ca616642">TECS::_STE_error</a></div><div class="ttdeci">float _STE_error</div><div class="ttdoc">specific total energy error (m**2/sec**2) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00262">tecs.h:262</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a5578ae0b9aaf061d02acd77a1b64f43b"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a5578ae0b9aaf061d02acd77a1b64f43b">TECS::_max_sink_rate</a></div><div class="ttdeci">float _max_sink_rate</div><div class="ttdoc">maximum safe sink rate (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00190">tecs.h:190</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a746eb83d156c47eecb28e0fb6b2fc1e5"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a746eb83d156c47eecb28e0fb6b2fc1e5">TECS::_SEB_error</a></div><div class="ttdeci">float _SEB_error</div><div class="ttdoc">specific energy balance error (m**2/sec**2) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00264">tecs.h:264</a></div></div>
<div class="ttc" id="arm__auth_8cpp_html_a403c5c8a9261f2b8d96be618ecb3f502"><div class="ttname"><a href="../../d0/d49/arm__auth_8cpp.html#a403c5c8a9261f2b8d96be618ecb3f502">state</a></div><div class="ttdeci">static enum @36 state</div></div>
<div class="ttc" id="class_t_e_c_s_html_a41f29be4495546610a800fb13e74368b"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a41f29be4495546610a800fb13e74368b">TECS::_throttle_setpoint_max</a></div><div class="ttdeci">float _throttle_setpoint_max</div><div class="ttdoc">normalised throttle upper limit </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00246">tecs.h:246</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a689059bbd58161e1eeff65576fcff07c"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a689059bbd58161e1eeff65576fcff07c">TECS::TAS_setpoint_adj</a></div><div class="ttdeci">float TAS_setpoint_adj()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00138">tecs.h:138</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ae627d8fc2349e502b6021326e4959a32"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ae627d8fc2349e502b6021326e4959a32">TECS::_load_factor_correction</a></div><div class="ttdeci">float _load_factor_correction</div><div class="ttdoc">gain from normal load factor increase to total energy rate demand (m**2/sec**3) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00197">tecs.h:197</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a62a53dfcd8944ef8874db7ab9c7865dc"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a62a53dfcd8944ef8874db7ab9c7865dc">TECS::_hgt_setpoint_in_prev</a></div><div class="ttdeci">float _hgt_setpoint_in_prev</div><div class="ttdoc">previous value of _hgt_setpoint after noise filtering (m) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00236">tecs.h:236</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_aecdf93951f7e0e7d056383826debfcf6"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#aecdf93951f7e0e7d056383826debfcf6">TECS::airspeed_sensor_enabled</a></div><div class="ttdeci">bool airspeed_sensor_enabled()</div><div class="ttdoc">Get the current airspeed status. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00062">tecs.h:62</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a94813442c376e5a4f472cdecf45f89b6"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a94813442c376e5a4f472cdecf45f89b6">TECS::_last_pitch_setpoint</a></div><div class="ttdeci">float _last_pitch_setpoint</div><div class="ttdoc">pitch demand rate limiter state (rad/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00221">tecs.h:221</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_af92cd0c66cd8a6cf5f57b608c90347c4"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#af92cd0c66cd8a6cf5f57b608c90347c4">TECS::_pitch_setpoint_min</a></div><div class="ttdeci">float _pitch_setpoint_min</div><div class="ttdoc">pitch demand lower limit (rad) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00249">tecs.h:249</a></div></div>
<div class="ttc" id="math_8hpp_html"><div class="ttname"><a href="../../d4/d78/math_8hpp.html">math.hpp</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a3c9071e0e57efc5e8570212f629bab17"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a3c9071e0e57efc5e8570212f629bab17">TECS::_initialize_states</a></div><div class="ttdeci">void _initialize_states(float pitch, float throttle_cruise, float baro_altitude, float pitch_min_climbout, float eas_to_tas)</div><div class="ttdoc">Initialize the controller. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/tecs_8cpp_source.html#l00518">tecs.cpp:518</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a247b49471892cbe8a414d5981944b639"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a247b49471892cbe8a414d5981944b639">TECS::_TAS_setpoint</a></div><div class="ttdeci">float _TAS_setpoint</div><div class="ttdoc">current airpeed demand (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00228">tecs.h:228</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ad3a8467e9cf0fd678c9cd4489c37419c"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ad3a8467e9cf0fd678c9cd4489c37419c">TECS::_EAS</a></div><div class="ttdeci">float _EAS</div><div class="ttdoc">equivalent airspeed (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00225">tecs.h:225</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a5b515697bac1cffd9c8d87e3d77145b5"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a5b515697bac1cffd9c8d87e3d77145b5">TECS::set_speedrate_p</a></div><div class="ttdeci">void set_speedrate_p(float speedrate_p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00123">tecs.h:123</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ad32b8a2728dc4aff6fe09447f19e5bbc"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ad32b8a2728dc4aff6fe09447f19e5bbc">TECS::_detect_underspeed_enabled</a></div><div class="ttdeci">bool _detect_underspeed_enabled</div><div class="ttdoc">true when underspeed detection is enabled </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00273">tecs.h:273</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a1d17f3eecc070834c5204c2dcb527072"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072">TECS::ECL_TECS_MODE</a></div><div class="ttdeci">ECL_TECS_MODE</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00094">tecs.h:94</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a3ab0de013572380094a825d89e31365e"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a3ab0de013572380094a825d89e31365e">TECS::_dt</a></div><div class="ttdeci">float _dt</div><div class="ttdoc">Time since last update of main TECS loop (sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00268">tecs.h:268</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ad55696d5bee9f3ac4bc80a0f85a885bc"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ad55696d5bee9f3ac4bc80a0f85a885bc">TECS::_SPE_estimate</a></div><div class="ttdeci">float _SPE_estimate</div><div class="ttdoc">specific potential energy estimate (m**2/sec**2) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00256">tecs.h:256</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a4f532d7f481f251e862adedb00018e95"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a4f532d7f481f251e862adedb00018e95">TECS::set_throttle_damp</a></div><div class="ttdeci">void set_throttle_damp(float throttle_damp)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00126">tecs.h:126</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a4323d25b277e12fd373be58e3110cdab"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a4323d25b277e12fd373be58e3110cdab">TECS::_in_air</a></div><div class="ttdeci">bool _in_air</div><div class="ttdoc">true when the vehicle is flying </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00278">tecs.h:278</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a38c44464c8e2bf1094fd1e78d2ce33cb"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a38c44464c8e2bf1094fd1e78d2ce33cb">TECS::_hgt_setpoint_adj</a></div><div class="ttdeci">float _hgt_setpoint_adj</div><div class="ttdoc">demanded height used by the control loops after all filtering has been applied (m) ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00238">tecs.h:238</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ab37c9aacd591be3f1bab8658b365933f"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ab37c9aacd591be3f1bab8658b365933f">TECS::tas_state</a></div><div class="ttdeci">float tas_state()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00139">tecs.h:139</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a5a1c7de2bee26a58eff5e6044a1fc50d"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a5a1c7de2bee26a58eff5e6044a1fc50d">TECS::_SEB_rate_error</a></div><div class="ttdeci">float _SEB_rate_error</div><div class="ttdoc">specific energy balance rate error (m**2/sec**3) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00265">tecs.h:265</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_abc8d88ad1ae9837410f75087a2f2379b"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#abc8d88ad1ae9837410f75087a2f2379b">TECS::_height_setpoint_gain_ff</a></div><div class="ttdeci">float _height_setpoint_gain_ff</div><div class="ttdoc">gain from height demand derivative to demanded climb rate </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00200">tecs.h:200</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_acbc17a214656270c156f8c5ce731c611"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#acbc17a214656270c156f8c5ce731c611">TECS::_pitch_setpoint</a></div><div class="ttdeci">float _pitch_setpoint</div><div class="ttdoc">pitch angle demand (radians) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00208">tecs.h:208</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a85cdee7117602b4f675a7ca09de5b18d"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a85cdee7117602b4f675a7ca09de5b18d">TECS::handle_alt_step</a></div><div class="ttdeci">void handle_alt_step(float delta_alt, float altitude)</div><div class="ttdoc">Handle the altitude reset. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00162">tecs.h:162</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a8a585f4e93479d4ab930a63bea3229a8"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a8a585f4e93479d4ab930a63bea3229a8">TECS::_TAS_rate_setpoint</a></div><div class="ttdeci">float _TAS_rate_setpoint</div><div class="ttdoc">true airspeed rate demand tracked by the TECS algorithm (m/sec**2) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00232">tecs.h:232</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a1dfc0c8e29880d611ce4149701bcb5cb"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a1dfc0c8e29880d611ce4149701bcb5cb">TECS::hgt_rate_setpoint</a></div><div class="ttdeci">float hgt_rate_setpoint()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00141">tecs.h:141</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a709a5b083eaacb5d790af5e201396c6c"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a709a5b083eaacb5d790af5e201396c6c">TECS::set_indicated_airspeed_max</a></div><div class="ttdeci">void set_indicated_airspeed_max(float airspeed)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00115">tecs.h:115</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ac9dffa45ad1bfadc69e5e3b75e2de25d"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ac9dffa45ad1bfadc69e5e3b75e2de25d">TECS::_vert_accel_state</a></div><div class="ttdeci">float _vert_accel_state</div><div class="ttdoc">complimentary filter state - height second derivative (m/sec**2) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00211">tecs.h:211</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a838f80e6fd6cc4280b6eddee27ca1d58"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a838f80e6fd6cc4280b6eddee27ca1d58">TECS::set_roll_throttle_compensation</a></div><div class="ttdeci">void set_roll_throttle_compensation(float compensation)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00129">tecs.h:129</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a1d17f3eecc070834c5204c2dcb527072ad6fff4cd005b255134efb30748378815"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072ad6fff4cd005b255134efb30748378815">TECS::ECL_TECS_MODE_UNDERSPEED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00096">tecs.h:96</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a06802c5fc4a2aee207156706117d889d"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a06802c5fc4a2aee207156706117d889d">TECS::_states_initalized</a></div><div class="ttdeci">bool _states_initalized</div><div class="ttdoc">true when TECS states have been iniitalized </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00277">tecs.h:277</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a13a78d5db1a21c823da7443932d37e70"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a13a78d5db1a21c823da7443932d37e70">TECS::throttle_integ_state</a></div><div class="ttdeci">float throttle_integ_state()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00153">tecs.h:153</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ab809ed3eda881d853dc4b2a8b4db3bc1"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ab809ed3eda881d853dc4b2a8b4db3bc1">TECS::_underspeed_detected</a></div><div class="ttdeci">bool _underspeed_detected</div><div class="ttdoc">true when an underspeed condition has been detected </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00272">tecs.h:272</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ac1170fb4bae85e2229562758ce932500"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ac1170fb4bae85e2229562758ce932500">TECS::_SPE_rate_setpoint</a></div><div class="ttdeci">float _SPE_rate_setpoint</div><div class="ttdoc">specific potential energy rate demand (m**2/sec**3) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00254">tecs.h:254</a></div></div>
<div class="ttc" id="class_t_e_c_s_html"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html">TECS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00045">tecs.h:45</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a36009b6fa0d9581c764660b749161d3c"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a36009b6fa0d9581c764660b749161d3c">TECS::set_pitch_damping</a></div><div class="ttdeci">void set_pitch_damping(float damping)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00118">tecs.h:118</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a1d17f3eecc070834c5204c2dcb527072a1ae6b2c41ca5ee5717407314b2f1f971"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072a1ae6b2c41ca5ee5717407314b2f1f971">TECS::ECL_TECS_MODE_BAD_DESCENT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00097">tecs.h:97</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a65589176395cccd296be86762d2f336f"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a65589176395cccd296be86762d2f336f">TECS::_EAS_setpoint</a></div><div class="ttdeci">float _EAS_setpoint</div><div class="ttdoc">Equivalent airspeed demand (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00230">tecs.h:230</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a6818e31793fe7235feabd61348c093a1"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a6818e31793fe7235feabd61348c093a1">TECS::vert_pos_state</a></div><div class="ttdeci">float vert_pos_state()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00136">tecs.h:136</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a6aeedcf79e4323b84da462c9e6616be8"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a6aeedcf79e4323b84da462c9e6616be8">TECS::update_pitch_throttle</a></div><div class="ttdeci">void update_pitch_throttle(const matrix::Dcmf &amp;rotMat, float pitch, float baro_altitude, float hgt_setpoint, float EAS_setpoint, float indicated_airspeed, float eas_to_tas, bool climb_out_setpoint, float pitch_min_climbout, float throttle_min, float throttle_setpoint_max, float throttle_cruise, float pitch_limit_min, float pitch_limit_max)</div><div class="ttdoc">Update the control loop calculations. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/tecs_8cpp_source.html#l00582">tecs.cpp:582</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a9aba0079402ba65c8015df5e7e5ec962"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a9aba0079402ba65c8015df5e7e5ec962">TECS::~TECS</a></div><div class="ttdeci">~TECS()=default</div></div>
<div class="ttc" id="class_t_e_c_s_html_a674913a0d51c181a1010b0fa849de0a3"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a674913a0d51c181a1010b0fa849de0a3">TECS::_STE_rate_max</a></div><div class="ttdeci">float _STE_rate_max</div><div class="ttdoc">specific total energy rate upper limit achieved when throttle is at _throttle_setpoint_max (m**2/sec*...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00244">tecs.h:244</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_aa3615934413da852b1dfec989eb1840c"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#aa3615934413da852b1dfec989eb1840c">TECS::_hgt_setpoint_adj_prev</a></div><div class="ttdeci">float _hgt_setpoint_adj_prev</div><div class="ttdoc">value of _hgt_setpoint_adj from previous frame (m) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00239">tecs.h:239</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a744cffdf8757b70e4051f05afa078922"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a744cffdf8757b70e4051f05afa078922">TECS::_detect_uncommanded_descent</a></div><div class="ttdeci">void _detect_uncommanded_descent()</div><div class="ttdoc">Detect an uncommanded descent. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/tecs_8cpp_source.html#l00399">tecs.cpp:399</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a4732c2d116797890c55e3c6d11663b2d"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a4732c2d116797890c55e3c6d11663b2d">TECS::_update_STE_rate_lim</a></div><div class="ttdeci">void _update_STE_rate_lim()</div><div class="ttdoc">Calculate specific total energy rate limits. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/tecs_8cpp_source.html#l00573">tecs.cpp:573</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_accd03f8685f83d31331cac4c76a37d36"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#accd03f8685f83d31331cac4c76a37d36">TECS::_throttle_setpoint</a></div><div class="ttdeci">float _throttle_setpoint</div><div class="ttdoc">normalized throttle demand (0..1) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00207">tecs.h:207</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a9823126daa119eb29fbcc40f6be61953"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a9823126daa119eb29fbcc40f6be61953">TECS::set_detect_underspeed_enabled</a></div><div class="ttdeci">void set_detect_underspeed_enabled(bool enabled)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00101">tecs.h:101</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a399a18e8b7c15d4f5cff6bb7534650d8"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a399a18e8b7c15d4f5cff6bb7534650d8">TECS::get_speed_weight</a></div><div class="ttdeci">float get_speed_weight()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00090">tecs.h:90</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a7bc03c559ab034ba62b1a8855af72073"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a7bc03c559ab034ba62b1a8855af72073">TECS::SEB_rate_error</a></div><div class="ttdeci">float SEB_rate_error()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00151">tecs.h:151</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a0314f10a024ad65980a32092108ac4b2"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a0314f10a024ad65980a32092108ac4b2">TECS::_max_climb_rate</a></div><div class="ttdeci">float _max_climb_rate</div><div class="ttdoc">climb rate produced by max allowed throttle (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00188">tecs.h:188</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_aab6412a9450a4430487b7b1cffa7c38f"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#aab6412a9450a4430487b7b1cffa7c38f">TECS::update_vehicle_state_estimates</a></div><div class="ttdeci">void update_vehicle_state_estimates(float airspeed, const matrix::Dcmf &amp;rotMat, const matrix::Vector3f &amp;accel_body, bool altitude_lock, bool in_air, float altitude, bool vz_valid, float vz, float az)</div><div class="ttdoc">Updates the following vehicle kineamtic state estimates: Vertical position, velocity and acceleration...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/tecs_8cpp_source.html#l00057">tecs.cpp:57</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a6a2cc48df5201b3cd43e88eb35f9d3bc"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a6a2cc48df5201b3cd43e88eb35f9d3bc">TECS::reset_state</a></div><div class="ttdeci">void reset_state()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00092">tecs.h:92</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ab9dfc1f3f943916190f887657972cc01"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ab9dfc1f3f943916190f887657972cc01">TECS::set_time_const_throt</a></div><div class="ttdeci">void set_time_const_throt(float time_const_throt)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00125">tecs.h:125</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a78bbe16f2037a98a7080891f68114db2"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a78bbe16f2037a98a7080891f68114db2">TECS::_SKE_rate_setpoint</a></div><div class="ttdeci">float _SKE_rate_setpoint</div><div class="ttdoc">specific kinetic energy rate demand (m**2/sec**3) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00255">tecs.h:255</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a3aae8ad28e4379e3c51a11e1dc9c66fa"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a3aae8ad28e4379e3c51a11e1dc9c66fa">TECS::get_throttle_setpoint</a></div><div class="ttdeci">float get_throttle_setpoint(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00088">tecs.h:88</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a52d4b31866f3a53e2d1fb2c08324a8c0"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a52d4b31866f3a53e2d1fb2c08324a8c0">TECS::_update_height_setpoint</a></div><div class="ttdeci">void _update_height_setpoint(float desired, float state)</div><div class="ttdoc">Update the desired height. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/tecs_8cpp_source.html#l00222">tecs.cpp:222</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_abf9f35eb9c268ac8a6e038005ea72a1a"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#abf9f35eb9c268ac8a6e038005ea72a1a">TECS::TECS</a></div><div class="ttdeci">TECS()=default</div></div>
<div class="ttc" id="class_t_e_c_s_html_abb96ff701ffd6fa29ca78979580e3303"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#abb96ff701ffd6fa29ca78979580e3303">TECS::set_vertical_accel_limit</a></div><div class="ttdeci">void set_vertical_accel_limit(float limit)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00119">tecs.h:119</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a9b530553ef9e6e2b09625bbec5ef8b7c"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a9b530553ef9e6e2b09625bbec5ef8b7c">TECS::_TAS_setpoint_adj</a></div><div class="ttdeci">float _TAS_setpoint_adj</div><div class="ttdoc">true airspeed demand tracked by the TECS algorithm (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00231">tecs.h:231</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_af1b423dec94a3bee2c7951e2c20fc9a8"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#af1b423dec94a3bee2c7951e2c20fc9a8">TECS::_update_speed_setpoint</a></div><div class="ttdeci">void _update_speed_setpoint()</div><div class="ttdoc">Update the desired airspeed. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/tecs_8cpp_source.html#l00199">tecs.cpp:199</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a25214559e3773e097ed775a508b8b36d"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a25214559e3773e097ed775a508b8b36d">TECS::set_heightrate_p</a></div><div class="ttdeci">void set_heightrate_p(float heightrate_p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00113">tecs.h:113</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ab03d4d09d85e595746b83c89d845d01d"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ab03d4d09d85e595746b83c89d845d01d">TECS::_hgt_estimate_freq</a></div><div class="ttdeci">float _hgt_estimate_freq</div><div class="ttdoc">cross-over frequency of the height rate complementary filter (rad/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00186">tecs.h:186</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_aa58f800b3a774edca8b400a4f70c616f"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#aa58f800b3a774edca8b400a4f70c616f">TECS::_throttle_time_constant</a></div><div class="ttdeci">float _throttle_time_constant</div><div class="ttdoc">control time constant used by the throttle demand calculation (sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00192">tecs.h:192</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a9df3e59fc5b1e294c7aa3f3c21c48f1b"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a9df3e59fc5b1e294c7aa3f3c21c48f1b">TECS::_update_energy_estimates</a></div><div class="ttdeci">void _update_energy_estimates()</div><div class="ttdoc">Update specific energy. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/da1/tecs_8cpp_source.html#l00285">tecs.cpp:285</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_aa4b4c2be7382fc9e4b89467549273222"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#aa4b4c2be7382fc9e4b89467549273222">TECS::_tas_estimate_freq</a></div><div class="ttdeci">float _tas_estimate_freq</div><div class="ttdoc">cross-over frequency of the true airspeed complementary filter (rad/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00187">tecs.h:187</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a1d17f3eecc070834c5204c2dcb527072a76e9e424045f51df34be8ca2541bff54"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a1d17f3eecc070834c5204c2dcb527072a76e9e424045f51df34be8ca2541bff54">TECS::ECL_TECS_MODE_NORMAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00095">tecs.h:95</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a16e8ffefa1c5098d11fb7b4a3a11278c"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a16e8ffefa1c5098d11fb7b4a3a11278c">TECS::_speed_error_gain</a></div><div class="ttdeci">float _speed_error_gain</div><div class="ttdoc">gain from speed error to demanded speed rate (1/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00201">tecs.h:201</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a980415283586e5c63cac69b99f5408bc"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a980415283586e5c63cac69b99f5408bc">TECS::set_speed_comp_filter_omega</a></div><div class="ttdeci">void set_speed_comp_filter_omega(float omega)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00121">tecs.h:121</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ad29b93b69e8c02d2d6c17860195bf8bb"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ad29b93b69e8c02d2d6c17860195bf8bb">TECS::operator=</a></div><div class="ttdeci">TECS &amp; operator=(const TECS &amp;)=delete</div></div>
<div class="ttc" id="class_t_e_c_s_html_a7b265b047753556de1e3fb8ee54987e0"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a7b265b047753556de1e3fb8ee54987e0">TECS::_speed_update_timestamp</a></div><div class="ttdeci">uint64_t _speed_update_timestamp</div><div class="ttdoc">last timestamp of the speed function call </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00182">tecs.h:182</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_ae680021e0c92c9da05429c915b415d7e"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#ae680021e0c92c9da05429c915b415d7e">TECS::_vert_pos_state</a></div><div class="ttdeci">float _vert_pos_state</div><div class="ttdoc">complimentary filter state - height (m) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00213">tecs.h:213</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a539bcd8336e9cf2141df49f2e3553c76"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a539bcd8336e9cf2141df49f2e3553c76">TECS::hgt_setpoint_adj</a></div><div class="ttdeci">float hgt_setpoint_adj()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00135">tecs.h:135</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a675385b3146c5603b1915fbe916d5721"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a675385b3146c5603b1915fbe916d5721">TECS::set_throttle_slewrate</a></div><div class="ttdeci">void set_throttle_slewrate(float slewrate)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00127">tecs.h:127</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a9d91854786fdf8697c224df982f4ba5c"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a9d91854786fdf8697c224df982f4ba5c">TECS::DT_DEFAULT</a></div><div class="ttdeci">static constexpr float DT_DEFAULT</div><div class="ttdoc">default value for _dt (sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00269">tecs.h:269</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a2dc166bc0bc6528f75b448e2b4c92a87"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a2dc166bc0bc6528f75b448e2b4c92a87">TECS::vert_vel_state</a></div><div class="ttdeci">float vert_vel_state()</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00142">tecs.h:142</a></div></div>
<div class="ttc" id="class_t_e_c_s_html_a03cda9f2d349d699568bc78dec8db447"><div class="ttname"><a href="../../d1/d1f/class_t_e_c_s.html#a03cda9f2d349d699568bc78dec8db447">TECS::_indicated_airspeed_max</a></div><div class="ttdeci">float _indicated_airspeed_max</div><div class="ttdoc">equivalent airspeed demand upper limit (m/sec) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d35/tecs_8h_source.html#l00203">tecs.h:203</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li><li class="navelem"><a class="el" href="../../dir_6f10fbb79da377506552735e446823ce.html">ecl</a></li><li class="navelem"><a class="el" href="../../dir_e3cfb7f7fcbd182edb01dfa9840b7f97.html">tecs</a></li><li class="navelem"><a class="el" href="../../d6/d35/tecs_8h.html">tecs.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
