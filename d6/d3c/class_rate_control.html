<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PX4 Firmware: RateControl Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PX4 Firmware
   </div>
   <div id="projectbrief">PX4 Autopilot Software http://px4.io</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/d3c/class_rate_control.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d0/d5b/class_rate_control-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RateControl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for RateControl:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d3d/class_rate_control__coll__graph.svg" width="216" height="580"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad72fa60316dc97db5d7e53b2b1d734db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#ad72fa60316dc97db5d7e53b2b1d734db">RateControl</a> ()=default</td></tr>
<tr class="separator:ad72fa60316dc97db5d7e53b2b1d734db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefef7fb0a727d17a19477babcf31e5f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#aefef7fb0a727d17a19477babcf31e5f7">~RateControl</a> ()=default</td></tr>
<tr class="separator:aefef7fb0a727d17a19477babcf31e5f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ccc7fccf074cd98e2c1e9536a349a0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a5ccc7fccf074cd98e2c1e9536a349a0a">setGains</a> (const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;<a class="el" href="../../d8/dce/_yaw_covariance_8c.html#ac828b72659f7765aa94f7acfc6a5ed83">P</a>, const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;I, const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;D)</td></tr>
<tr class="memdesc:a5ccc7fccf074cd98e2c1e9536a349a0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the rate control gains.  <a href="#a5ccc7fccf074cd98e2c1e9536a349a0a">More...</a><br /></td></tr>
<tr class="separator:a5ccc7fccf074cd98e2c1e9536a349a0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18b26486300b426c05a8959f36249277"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a18b26486300b426c05a8959f36249277">setIntegratorLimit</a> (const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;integrator_limit)</td></tr>
<tr class="memdesc:a18b26486300b426c05a8959f36249277"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the mximum absolute value of the integrator for all axes.  <a href="#a18b26486300b426c05a8959f36249277">More...</a><br /></td></tr>
<tr class="separator:a18b26486300b426c05a8959f36249277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa137d91cb2d929eb4a5b19f8101ca65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#aaa137d91cb2d929eb4a5b19f8101ca65">setDTermCutoff</a> (const float loop_rate, const float cutoff, const bool force)</td></tr>
<tr class="memdesc:aaa137d91cb2d929eb4a5b19f8101ca65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set update frequency and low-pass filter cutoff that is applied to the derivative term.  <a href="#aaa137d91cb2d929eb4a5b19f8101ca65">More...</a><br /></td></tr>
<tr class="separator:aaa137d91cb2d929eb4a5b19f8101ca65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63a40c9568a5735feee20bcb01ec55f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a63a40c9568a5735feee20bcb01ec55f9">setFeedForwardGain</a> (const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;FF)</td></tr>
<tr class="memdesc:a63a40c9568a5735feee20bcb01ec55f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set direct rate to torque feed forward gain.  <a href="#a63a40c9568a5735feee20bcb01ec55f9">More...</a><br /></td></tr>
<tr class="separator:a63a40c9568a5735feee20bcb01ec55f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0cbee9fffa83ad3302582c13e237a31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#ab0cbee9fffa83ad3302582c13e237a31">setSaturationStatus</a> (const <a class="el" href="../../dc/d61/union_multirotor_mixer_1_1saturation__status.html">MultirotorMixer::saturation_status</a> &amp;<a class="el" href="../../d6/d47/dataman_8cpp.html#adfc8e05ca16b581a45d855d3033c1ab9">status</a>)</td></tr>
<tr class="memdesc:ab0cbee9fffa83ad3302582c13e237a31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set saturation status.  <a href="#ab0cbee9fffa83ad3302582c13e237a31">More...</a><br /></td></tr>
<tr class="separator:ab0cbee9fffa83ad3302582c13e237a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b36b2fa949a0f9d2524ae461f5cc2ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a3b36b2fa949a0f9d2524ae461f5cc2ac">update</a> (const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;rate, const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;rate_sp, const float <a class="el" href="../../d8/d05/px4io_8h.html#a778e38aa889751afffa2dea6b803e67a">dt</a>, const bool landed)</td></tr>
<tr class="memdesc:a3b36b2fa949a0f9d2524ae461f5cc2ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run one control loop cycle calculation.  <a href="#a3b36b2fa949a0f9d2524ae461f5cc2ac">More...</a><br /></td></tr>
<tr class="separator:a3b36b2fa949a0f9d2524ae461f5cc2ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70fa54b1879b74578fb76a59c7e07572"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a70fa54b1879b74578fb76a59c7e07572">resetIntegral</a> ()</td></tr>
<tr class="memdesc:a70fa54b1879b74578fb76a59c7e07572"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the integral term to 0 to prevent windup.  <a href="#a70fa54b1879b74578fb76a59c7e07572">More...</a><br /></td></tr>
<tr class="separator:a70fa54b1879b74578fb76a59c7e07572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e99c1d07f00fd8014546bf256e27689"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a0e99c1d07f00fd8014546bf256e27689">getRateControlStatus</a> (<a class="el" href="../../de/dce/structrate__ctrl__status__s.html">rate_ctrl_status_s</a> &amp;rate_ctrl_status)</td></tr>
<tr class="memdesc:a0e99c1d07f00fd8014546bf256e27689"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get status message of controller for logging/debugging.  <a href="#a0e99c1d07f00fd8014546bf256e27689">More...</a><br /></td></tr>
<tr class="separator:a0e99c1d07f00fd8014546bf256e27689"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a0ccb2694acdcf23caddf712c02688186"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a0ccb2694acdcf23caddf712c02688186">updateIntegral</a> (<a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;rate_error, const float <a class="el" href="../../d8/d05/px4io_8h.html#a778e38aa889751afffa2dea6b803e67a">dt</a>)</td></tr>
<tr class="separator:a0ccb2694acdcf23caddf712c02688186"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3d7ee21fcd9caecfd9528c10ddcca780"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a3d7ee21fcd9caecfd9528c10ddcca780">_gain_p</a></td></tr>
<tr class="memdesc:a3d7ee21fcd9caecfd9528c10ddcca780"><td class="mdescLeft">&#160;</td><td class="mdescRight">rate control proportional gain for all axes x, y, z  <a href="#a3d7ee21fcd9caecfd9528c10ddcca780">More...</a><br /></td></tr>
<tr class="separator:a3d7ee21fcd9caecfd9528c10ddcca780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b17a1b0747b036cf04a2b4e09e0333"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a47b17a1b0747b036cf04a2b4e09e0333">_gain_i</a></td></tr>
<tr class="memdesc:a47b17a1b0747b036cf04a2b4e09e0333"><td class="mdescLeft">&#160;</td><td class="mdescRight">rate control integral gain  <a href="#a47b17a1b0747b036cf04a2b4e09e0333">More...</a><br /></td></tr>
<tr class="separator:a47b17a1b0747b036cf04a2b4e09e0333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0418950cb6972d65ff0e18fdf7da6e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#aa0418950cb6972d65ff0e18fdf7da6e5">_gain_d</a></td></tr>
<tr class="memdesc:aa0418950cb6972d65ff0e18fdf7da6e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">rate control derivative gain  <a href="#aa0418950cb6972d65ff0e18fdf7da6e5">More...</a><br /></td></tr>
<tr class="separator:aa0418950cb6972d65ff0e18fdf7da6e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a091f871f645fc6defd3ecb1480d5f8da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a091f871f645fc6defd3ecb1480d5f8da">_lim_int</a></td></tr>
<tr class="memdesc:a091f871f645fc6defd3ecb1480d5f8da"><td class="mdescLeft">&#160;</td><td class="mdescRight">integrator term maximum absolute value  <a href="#a091f871f645fc6defd3ecb1480d5f8da">More...</a><br /></td></tr>
<tr class="separator:a091f871f645fc6defd3ecb1480d5f8da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a837e39370462f6ddd64de52fc365df11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a837e39370462f6ddd64de52fc365df11">_gain_ff</a></td></tr>
<tr class="memdesc:a837e39370462f6ddd64de52fc365df11"><td class="mdescLeft">&#160;</td><td class="mdescRight">direct rate to torque feed forward gain only useful for helicopters  <a href="#a837e39370462f6ddd64de52fc365df11">More...</a><br /></td></tr>
<tr class="separator:a837e39370462f6ddd64de52fc365df11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7abe9d3950132e486c81a6ba4df8e872"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a7abe9d3950132e486c81a6ba4df8e872">_rate_prev</a></td></tr>
<tr class="memdesc:a7abe9d3950132e486c81a6ba4df8e872"><td class="mdescLeft">&#160;</td><td class="mdescRight">angular rates of previous update  <a href="#a7abe9d3950132e486c81a6ba4df8e872">More...</a><br /></td></tr>
<tr class="separator:a7abe9d3950132e486c81a6ba4df8e872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1500601ae8c4fbffdbf778777de96700"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a1500601ae8c4fbffdbf778777de96700">_rate_prev_filtered</a></td></tr>
<tr class="memdesc:a1500601ae8c4fbffdbf778777de96700"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-pass filtered angular rates of previous update  <a href="#a1500601ae8c4fbffdbf778777de96700">More...</a><br /></td></tr>
<tr class="separator:a1500601ae8c4fbffdbf778777de96700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34e38bdf5cc946e3ad51d9373a345e81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a34e38bdf5cc946e3ad51d9373a345e81">_rate_int</a></td></tr>
<tr class="memdesc:a34e38bdf5cc946e3ad51d9373a345e81"><td class="mdescLeft">&#160;</td><td class="mdescRight">integral term of the rate controller  <a href="#a34e38bdf5cc946e3ad51d9373a345e81">More...</a><br /></td></tr>
<tr class="separator:a34e38bdf5cc946e3ad51d9373a345e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf763e545baedc542dc21c6a88c1632"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d30/classmath_1_1_low_pass_filter2p_vector3f.html">math::LowPassFilter2pVector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a3bf763e545baedc542dc21c6a88c1632">_lp_filters_d</a> {0.<a class="el" href="../../d8/dd8/test__matrix_8cpp.html#a3544277eaefc5bd5c519ae4f75470880">f</a>, 0.<a class="el" href="../../d8/dd8/test__matrix_8cpp.html#a3544277eaefc5bd5c519ae4f75470880">f</a>}</td></tr>
<tr class="memdesc:a3bf763e545baedc542dc21c6a88c1632"><td class="mdescLeft">&#160;</td><td class="mdescRight">low-pass filters for D-term (roll, pitch &amp; yaw)  <a href="#a3bf763e545baedc542dc21c6a88c1632">More...</a><br /></td></tr>
<tr class="separator:a3bf763e545baedc542dc21c6a88c1632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56a72332ed1591293f949db2f5abf6e2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a56a72332ed1591293f949db2f5abf6e2">_mixer_saturation_positive</a> [3] {}</td></tr>
<tr class="separator:a56a72332ed1591293f949db2f5abf6e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee31e596dc9375caeace531b5dfd0b1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d3c/class_rate_control.html#a0ee31e596dc9375caeace531b5dfd0b1">_mixer_saturation_negative</a> [3] {}</td></tr>
<tr class="separator:a0ee31e596dc9375caeace531b5dfd0b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00048">48</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad72fa60316dc97db5d7e53b2b1d734db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad72fa60316dc97db5d7e53b2b1d734db">&#9670;&nbsp;</a></span>RateControl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RateControl::RateControl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aefef7fb0a727d17a19477babcf31e5f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefef7fb0a727d17a19477babcf31e5f7">&#9670;&nbsp;</a></span>~RateControl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">RateControl::~RateControl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0e99c1d07f00fd8014546bf256e27689"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e99c1d07f00fd8014546bf256e27689">&#9670;&nbsp;</a></span>getRateControlStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RateControl::getRateControlStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dce/structrate__ctrl__status__s.html">rate_ctrl_status_s</a> &amp;&#160;</td>
          <td class="paramname"><em>rate_ctrl_status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get status message of controller for logging/debugging. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rate_ctrl_status</td><td>status message to fill with internal states </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html#l00128">128</a> of file <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html">RateControl.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d9d/rate__ctrl__status_8h_source.html#l00055">rate_ctrl_status_s::pitchspeed_integ</a>, <a class="el" href="../../d8/d9d/rate__ctrl__status_8h_source.html#l00054">rate_ctrl_status_s::rollspeed_integ</a>, and <a class="el" href="../../d8/d9d/rate__ctrl__status_8h_source.html#l00056">rate_ctrl_status_s::yawspeed_integ</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00103">resetIntegral()</a>, and <a class="el" href="../../d1/de6/_multicopter_rate_control_8cpp_source.html#l00142">MulticopterRateControl::Run()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_a0e99c1d07f00fd8014546bf256e27689_icgraph.svg" width="655" height="71"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a70fa54b1879b74578fb76a59c7e07572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70fa54b1879b74578fb76a59c7e07572">&#9670;&nbsp;</a></span>resetIntegral()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RateControl::resetIntegral </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the integral term to 0 to prevent windup. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d6/d3c/class_rate_control.html#a34e38bdf5cc946e3ad51d9373a345e81" title="integral term of the rate controller ">_rate_int</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00103">103</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

<p class="reference">References <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00124">_rate_int</a>, <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html#l00128">getRateControlStatus()</a>, <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html#l00096">updateIntegral()</a>, and <a class="el" href="../../d8/d49/_matrix_8hpp_source.html#l00421">matrix::Matrix&lt; Type, M, N &gt;::zero()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/de6/_multicopter_rate_control_8cpp_source.html#l00142">MulticopterRateControl::Run()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_a70fa54b1879b74578fb76a59c7e07572_cgraph.svg" width="100%" height="480"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_a70fa54b1879b74578fb76a59c7e07572_icgraph.svg" width="419" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aaa137d91cb2d929eb4a5b19f8101ca65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa137d91cb2d929eb4a5b19f8101ca65">&#9670;&nbsp;</a></span>setDTermCutoff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RateControl::setDTermCutoff </td>
          <td>(</td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>loop_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>cutoff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>force</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set update frequency and low-pass filter cutoff that is applied to the derivative term. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">loop_rate</td><td>[Hz] rate with which update function is called </td></tr>
    <tr><td class="paramname">cutoff</td><td>[Hz] cutoff frequency for the low-pass filter on the dervative term </td></tr>
    <tr><td class="paramname">force</td><td>flag to force an expensive update even if the cutoff didn't change </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html#l00050">50</a> of file <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html">RateControl.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d8/da1/integration_8cpp_source.html#l00008">f()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/de6/_multicopter_rate_control_8cpp_source.html#l00072">MulticopterRateControl::parameters_updated()</a>, <a class="el" href="../../d1/de6/_multicopter_rate_control_8cpp_source.html#l00142">MulticopterRateControl::Run()</a>, and <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00066">setIntegratorLimit()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_aaa137d91cb2d929eb4a5b19f8101ca65_cgraph.svg" width="558" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_aaa137d91cb2d929eb4a5b19f8101ca65_icgraph.svg" width="100%" height="392"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a63a40c9568a5735feee20bcb01ec55f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63a40c9568a5735feee20bcb01ec55f9">&#9670;&nbsp;</a></span>setFeedForwardGain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RateControl::setFeedForwardGain </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;&#160;</td>
          <td class="paramname"><em>FF</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set direct rate to torque feed forward gain. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d6/d3c/class_rate_control.html#a837e39370462f6ddd64de52fc365df11" title="direct rate to torque feed forward gain only useful for helicopters ">_gain_ff</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FF</td><td>3D vector of feed forward gains for body x,y,z axis </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00081">81</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

<p class="reference">References <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00119">_gain_ff</a>, <a class="el" href="../../dd/d87/px4io_8c_source.html#l00073">dt</a>, <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html#l00059">setSaturationStatus()</a>, <a class="el" href="../../da/d73/_commander_8cpp_source.html#l00138">status</a>, and <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html#l00069">update()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/de6/_multicopter_rate_control_8cpp_source.html#l00072">MulticopterRateControl::parameters_updated()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_a63a40c9568a5735feee20bcb01ec55f9_cgraph.svg" width="648" height="104"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_a63a40c9568a5735feee20bcb01ec55f9_icgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a5ccc7fccf074cd98e2c1e9536a349a0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ccc7fccf074cd98e2c1e9536a349a0a">&#9670;&nbsp;</a></span>setGains()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RateControl::setGains </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;&#160;</td>
          <td class="paramname"><em>D</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the rate control gains. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">P</td><td>3D vector of proportional gains for body x,y,z axis </td></tr>
    <tr><td class="paramname">I</td><td>3D vector of integral gains </td></tr>
    <tr><td class="paramname">D</td><td>3D vector of derivative gains </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html#l00043">43</a> of file <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html">RateControl.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d2a/quat_cov_mat_8c_source.html#l00044">P</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/de6/_multicopter_rate_control_8cpp_source.html#l00072">MulticopterRateControl::parameters_updated()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_a5ccc7fccf074cd98e2c1e9536a349a0a_icgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a18b26486300b426c05a8959f36249277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18b26486300b426c05a8959f36249277">&#9670;&nbsp;</a></span>setIntegratorLimit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RateControl::setIntegratorLimit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;&#160;</td>
          <td class="paramname"><em>integrator_limit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the mximum absolute value of the integrator for all axes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">integrator_limit</td><td>limit value for all axes x, y, z </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00066">66</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

<p class="reference">References <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00118">_lim_int</a>, and <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html#l00050">setDTermCutoff()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/de6/_multicopter_rate_control_8cpp_source.html#l00072">MulticopterRateControl::parameters_updated()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_a18b26486300b426c05a8959f36249277_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_a18b26486300b426c05a8959f36249277_icgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="ab0cbee9fffa83ad3302582c13e237a31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0cbee9fffa83ad3302582c13e237a31">&#9670;&nbsp;</a></span>setSaturationStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RateControl::setSaturationStatus </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dc/d61/union_multirotor_mixer_1_1saturation__status.html">MultirotorMixer::saturation_status</a> &amp;&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set saturation status. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>message from mixer reporting about saturation </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html#l00059">59</a> of file <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html">RateControl.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../dc/d61/union_multirotor_mixer_1_1saturation__status.html#aa32fd24231abfd4b5907f263d0e64783">MultirotorMixer::saturation_status::flags</a>, <a class="el" href="../../d4/db1/_multirotor_mixer_8hpp_source.html#l00161">MultirotorMixer::saturation_status::pitch_neg</a>, <a class="el" href="../../d4/db1/_multirotor_mixer_8hpp_source.html#l00160">MultirotorMixer::saturation_status::pitch_pos</a>, <a class="el" href="../../d4/db1/_multirotor_mixer_8hpp_source.html#l00159">MultirotorMixer::saturation_status::roll_neg</a>, <a class="el" href="../../d4/db1/_multirotor_mixer_8hpp_source.html#l00158">MultirotorMixer::saturation_status::roll_pos</a>, <a class="el" href="../../d4/db1/_multirotor_mixer_8hpp_source.html#l00163">MultirotorMixer::saturation_status::yaw_neg</a>, and <a class="el" href="../../d4/db1/_multirotor_mixer_8hpp_source.html#l00162">MultirotorMixer::saturation_status::yaw_pos</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/de6/_multicopter_rate_control_8cpp_source.html#l00142">MulticopterRateControl::Run()</a>, and <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00081">setFeedForwardGain()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_ab0cbee9fffa83ad3302582c13e237a31_icgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a3b36b2fa949a0f9d2524ae461f5cc2ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b36b2fa949a0f9d2524ae461f5cc2ac">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">Vector3f</a> RateControl::update </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;&#160;</td>
          <td class="paramname"><em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;&#160;</td>
          <td class="paramname"><em>rate_sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>landed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run one control loop cycle calculation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rate</td><td>estimation of the current vehicle angular rate </td></tr>
    <tr><td class="paramname">rate_sp</td><td>desired vehicle angular rate setpoint </td></tr>
    <tr><td class="paramname">dt</td><td>desired vehicle angular rate setpoint </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>[-1,1] normalized torque vector to apply to the vehicle </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html#l00069">69</a> of file <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html">RateControl.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d49/_matrix_8hpp_source.html#l00157">matrix::Matrix&lt; Type, M, N &gt;::emult()</a>, and <a class="el" href="../../db/de5/stdlib__imports_8hpp_source.html#l00026">FLT_EPSILON</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/de6/_multicopter_rate_control_8cpp_source.html#l00142">MulticopterRateControl::Run()</a>, <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00081">setFeedForwardGain()</a>, and <a class="el" href="../../d7/d63/_rate_control_test_8cpp_source.html#l00039">TEST()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_a3b36b2fa949a0f9d2524ae461f5cc2ac_cgraph.svg" width="340" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_a3b36b2fa949a0f9d2524ae461f5cc2ac_icgraph.svg" width="100%" height="407"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>

</div>
</div>
<a id="a0ccb2694acdcf23caddf712c02688186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ccb2694acdcf23caddf712c02688186">&#9670;&nbsp;</a></span>updateIntegral()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void RateControl::updateIntegral </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> &amp;&#160;</td>
          <td class="paramname"><em>rate_error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html#l00096">96</a> of file <a class="el" href="../../d4/dee/_rate_control_8cpp_source.html">RateControl.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../da/d34/_limits_8hpp_source.html#l00066">math::constrain()</a>, <a class="el" href="../../dd/d87/px4io_8c_source.html#l00073">dt</a>, <a class="el" href="../../d8/da1/integration_8cpp_source.html#l00008">f()</a>, <a class="el" href="../../da/d34/_limits_8hpp_source.html#l00060">math::max()</a>, <a class="el" href="../../da/d34/_limits_8hpp_source.html#l00054">math::min()</a>, and <a class="el" href="../../da/d34/_limits_8hpp_source.html#l00085">math::radians()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00103">resetIntegral()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_a0ccb2694acdcf23caddf712c02688186_cgraph.svg" width="619" height="240"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d6/d3c/class_rate_control_a0ccb2694acdcf23caddf712c02688186_icgraph.svg" width="650" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa0418950cb6972d65ff0e18fdf7da6e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0418950cb6972d65ff0e18fdf7da6e5">&#9670;&nbsp;</a></span>_gain_d</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> RateControl::_gain_d</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>rate control derivative gain </p>

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00117">117</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

</div>
</div>
<a id="a837e39370462f6ddd64de52fc365df11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a837e39370462f6ddd64de52fc365df11">&#9670;&nbsp;</a></span>_gain_ff</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> RateControl::_gain_ff</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>direct rate to torque feed forward gain only useful for helicopters </p>

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00119">119</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00081">setFeedForwardGain()</a>.</p>

</div>
</div>
<a id="a47b17a1b0747b036cf04a2b4e09e0333"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47b17a1b0747b036cf04a2b4e09e0333">&#9670;&nbsp;</a></span>_gain_i</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> RateControl::_gain_i</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>rate control integral gain </p>

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00116">116</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

</div>
</div>
<a id="a3d7ee21fcd9caecfd9528c10ddcca780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7ee21fcd9caecfd9528c10ddcca780">&#9670;&nbsp;</a></span>_gain_p</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> RateControl::_gain_p</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>rate control proportional gain for all axes x, y, z </p>

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00115">115</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

</div>
</div>
<a id="a091f871f645fc6defd3ecb1480d5f8da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a091f871f645fc6defd3ecb1480d5f8da">&#9670;&nbsp;</a></span>_lim_int</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> RateControl::_lim_int</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>integrator term maximum absolute value </p>

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00118">118</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00066">setIntegratorLimit()</a>.</p>

</div>
</div>
<a id="a3bf763e545baedc542dc21c6a88c1632"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bf763e545baedc542dc21c6a88c1632">&#9670;&nbsp;</a></span>_lp_filters_d</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d30/classmath_1_1_low_pass_filter2p_vector3f.html">math::LowPassFilter2pVector3f</a> RateControl::_lp_filters_d {0.<a class="el" href="../../d8/dd8/test__matrix_8cpp.html#a3544277eaefc5bd5c519ae4f75470880">f</a>, 0.<a class="el" href="../../d8/dd8/test__matrix_8cpp.html#a3544277eaefc5bd5c519ae4f75470880">f</a>}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>low-pass filters for D-term (roll, pitch &amp; yaw) </p>

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00125">125</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

</div>
</div>
<a id="a0ee31e596dc9375caeace531b5dfd0b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ee31e596dc9375caeace531b5dfd0b1">&#9670;&nbsp;</a></span>_mixer_saturation_negative</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool RateControl::_mixer_saturation_negative[3] {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00127">127</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

</div>
</div>
<a id="a56a72332ed1591293f949db2f5abf6e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56a72332ed1591293f949db2f5abf6e2">&#9670;&nbsp;</a></span>_mixer_saturation_positive</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool RateControl::_mixer_saturation_positive[3] {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00126">126</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

</div>
</div>
<a id="a34e38bdf5cc946e3ad51d9373a345e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34e38bdf5cc946e3ad51d9373a345e81">&#9670;&nbsp;</a></span>_rate_int</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> RateControl::_rate_int</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>integral term of the rate controller </p>

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00124">124</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00103">resetIntegral()</a>.</p>

</div>
</div>
<a id="a7abe9d3950132e486c81a6ba4df8e872"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7abe9d3950132e486c81a6ba4df8e872">&#9670;&nbsp;</a></span>_rate_prev</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> RateControl::_rate_prev</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>angular rates of previous update </p>

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00122">122</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

</div>
</div>
<a id="a1500601ae8c4fbffdbf778777de96700"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1500601ae8c4fbffdbf778777de96700">&#9670;&nbsp;</a></span>_rate_prev_filtered</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de4/namespacematrix.html#a85ce33c9bcfea4a8c30718869eecf911">matrix::Vector3f</a> RateControl::_rate_prev_filtered</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>low-pass filtered angular rates of previous update </p>

<p class="definition">Definition at line <a class="el" href="../../de/de2/_rate_control_8hpp_source.html#l00123">123</a> of file <a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/modules/mc_rate_control/RateControl/<a class="el" href="../../de/de2/_rate_control_8hpp_source.html">RateControl.hpp</a></li>
<li>src/modules/mc_rate_control/RateControl/<a class="el" href="../../d4/dee/_rate_control_8cpp_source.html">RateControl.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d6/d3c/class_rate_control.html">RateControl</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
