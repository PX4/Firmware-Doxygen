<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PX4 Firmware: src/drivers/kinetis/tone_alarm/tone_alarm.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PX4 Firmware
   </div>
   <div id="projectbrief">PX4 Autopilot Software http://px4.io</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tone_alarm.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="../../d4/d35/px4__config_8h_source.html">px4_config.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../de/d37/px4__macros_8h_source.html">systemlib/px4_macros.h</a>&gt;</code><br />
<code>#include &lt;debug.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../db/de9/device_8h_source.html">drivers/device/device.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d9/d25/drv__tone__alarm_8h_source.html">drivers/drv_tone_alarm.h</a>&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;board_config.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d6/d10/drv__hrt_8h_source.html">drivers/drv_hrt.h</a>&gt;</code><br />
<code>#include &quot;kinetis.h&quot;</code><br />
<code>#include &quot;chip/kinetis_sim.h&quot;</code><br />
<code>#include &quot;kinetis_tpm.h&quot;</code><br />
<code>#include &lt;<a class="el" href="../../d6/d40/err_8h_source.html">systemlib/err.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d2/dd4/circuit__breaker_8h_source.html">circuit_breaker/circuit_breaker.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tone_alarm.cpp:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../de/d68/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/df0/class_tone_alarm.html">ToneAlarm</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a18de26f914beef5c1329836d894f2110"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a18de26f914beef5c1329836d894f2110">CAT3_</a>(A,  B,  C)&#160;&#160;&#160;A##B##C</td></tr>
<tr class="memdesc:a18de26f914beef5c1329836d894f2110"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver for the PX4 audio alarm port, /dev/tone_alarm.  <a href="#a18de26f914beef5c1329836d894f2110">More...</a><br /></td></tr>
<tr class="separator:a18de26f914beef5c1329836d894f2110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb55f00e3f3e963370276b65dd47f992"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#abb55f00e3f3e963370276b65dd47f992">CAT3</a>(A,  B,  C)&#160;&#160;&#160;<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a18de26f914beef5c1329836d894f2110">CAT3_</a>(A, B, C)</td></tr>
<tr class="separator:abb55f00e3f3e963370276b65dd47f992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b957afeef663847d836be994c5fd82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a70b957afeef663847d836be994c5fd82">TONE_ALARM_COUNTER_PERIOD</a>&#160;&#160;&#160;65536</td></tr>
<tr class="separator:a70b957afeef663847d836be994c5fd82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82a7af7309a3f45dfe64e57d2d7b38b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ae82a7af7309a3f45dfe64e57d2d7b38b">TONE_ALARM_TIMER_CLOCK</a>&#160;&#160;&#160;BOARD_TPM_FREQ                                 /* The input clock frequency to the TPM <a class="el" href="../../d1/d7f/structblock.html">block</a> */</td></tr>
<tr class="separator:ae82a7af7309a3f45dfe64e57d2d7b38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4342c2d2e5880f0379667c2591345fb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ad4342c2d2e5880f0379667c2591345fb">TONE_ALARM_TIMER_BASE</a>&#160;&#160;&#160;<a class="el" href="../../de/d37/px4__macros_8h.html#a9404439ed46dc67d489a7d4ec2853e8f">CAT</a>(<a class="el" href="../../de/d37/px4__macros_8h.html#a9404439ed46dc67d489a7d4ec2853e8f">CAT</a>(KINETIS_TPM, <a class="el" href="../../d2/d5e/tap-v1_2board__config_8h.html#abfc334d6ab958852b473c164f1823817">TONE_ALARM_TIMER</a>),_BASE)  /* The Base address of the TPM */</td></tr>
<tr class="separator:ad4342c2d2e5880f0379667c2591345fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9193f632d6cf1a5beab5afcfdec4efc0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a9193f632d6cf1a5beab5afcfdec4efc0">TONE_ALARM_TIMER_VECTOR</a>&#160;&#160;&#160;<a class="el" href="../../de/d37/px4__macros_8h.html#a9404439ed46dc67d489a7d4ec2853e8f">CAT</a>(KINETIS_IRQ_TPM, <a class="el" href="../../d2/d5e/tap-v1_2board__config_8h.html#abfc334d6ab958852b473c164f1823817">TONE_ALARM_TIMER</a>)         /* The TPM Interrupt vector */</td></tr>
<tr class="separator:a9193f632d6cf1a5beab5afcfdec4efc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e4476e007b0e48a395fdea82372645"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a36e4476e007b0e48a395fdea82372645">TONE_ALARM_SIM_SCGC2_TPM</a>&#160;&#160;&#160;<a class="el" href="../../de/d37/px4__macros_8h.html#a9404439ed46dc67d489a7d4ec2853e8f">CAT</a>(SIM_SCGC2_TPM, <a class="el" href="../../d2/d5e/tap-v1_2board__config_8h.html#abfc334d6ab958852b473c164f1823817">TONE_ALARM_TIMER</a>)           /* The Clock Gating enable bit for this TPM */</td></tr>
<tr class="separator:a36e4476e007b0e48a395fdea82372645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5974340787312b57f3cc35a4593e55a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ab5974340787312b57f3cc35a4593e55a">TONE_ALARM_TIMER_PRESCALE</a>&#160;&#160;&#160;TPM_SC_PS_DIV16                                /* The constant Prescaler */</td></tr>
<tr class="separator:ab5974340787312b57f3cc35a4593e55a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1708963863a055c22b276109ee346627"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a1708963863a055c22b276109ee346627">TONE_ALARM_TIMER_FREQ</a>&#160;&#160;&#160;(BOARD_TPM_FREQ/(1 &lt;&lt; (<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ab5974340787312b57f3cc35a4593e55a">TONE_ALARM_TIMER_PRESCALE</a> &gt;&gt; TPM_SC_PS_SHIFT)))</td></tr>
<tr class="separator:a1708963863a055c22b276109ee346627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7d3c05de797e4f1d147782d6650168f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ad7d3c05de797e4f1d147782d6650168f">_REG</a>(_addr)&#160;&#160;&#160;(*(volatile uint32_t *)(_addr))</td></tr>
<tr class="separator:ad7d3c05de797e4f1d147782d6650168f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe8cedee76aa00c750f6ff3b445e23e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a8fe8cedee76aa00c750f6ff3b445e23e">REG</a>(_reg)&#160;&#160;&#160;<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ad7d3c05de797e4f1d147782d6650168f">_REG</a>(<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ad4342c2d2e5880f0379667c2591345fb">TONE_ALARM_TIMER_BASE</a> + (_reg))</td></tr>
<tr class="separator:a8fe8cedee76aa00c750f6ff3b445e23e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7780d3a9b0fcc42499ed2451d7ab2ec5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a7780d3a9b0fcc42499ed2451d7ab2ec5">rSC</a>&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_SC_OFFSET)</td></tr>
<tr class="separator:a7780d3a9b0fcc42499ed2451d7ab2ec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a926a6a2ff7d85f5d27fccd50d1e5aa59"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a926a6a2ff7d85f5d27fccd50d1e5aa59">rCNT</a>&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_CNT_OFFSET)</td></tr>
<tr class="separator:a926a6a2ff7d85f5d27fccd50d1e5aa59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0df373f7a23fc838c313f7c95c70badc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a0df373f7a23fc838c313f7c95c70badc">rMOD</a>&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_MOD_OFFSET)</td></tr>
<tr class="separator:a0df373f7a23fc838c313f7c95c70badc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75687a0a5e6b7f771a533a5a8dda9f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#aa75687a0a5e6b7f771a533a5a8dda9f3">rC0SC</a>&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_C0SC_OFFSET)</td></tr>
<tr class="separator:aa75687a0a5e6b7f771a533a5a8dda9f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3026746b4c9b5a1ec81f2a1390358564"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a3026746b4c9b5a1ec81f2a1390358564">rC0V</a>&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_C0V_OFFSET)</td></tr>
<tr class="separator:a3026746b4c9b5a1ec81f2a1390358564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64b7032e268cf08752cdcfc024e6af6d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a64b7032e268cf08752cdcfc024e6af6d">rC1SC</a>&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_C1SC_OFFSET)</td></tr>
<tr class="separator:a64b7032e268cf08752cdcfc024e6af6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0811fa40a82118f1dd1cb3f2e9d7746"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ae0811fa40a82118f1dd1cb3f2e9d7746">rC1V</a>&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_C1V_OFFSET)</td></tr>
<tr class="separator:ae0811fa40a82118f1dd1cb3f2e9d7746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d159692ea21f4368840b4f6260f69fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a0d159692ea21f4368840b4f6260f69fa">rSTATUS</a>&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_STATUS_OFFSET)</td></tr>
<tr class="separator:a0d159692ea21f4368840b4f6260f69fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae04f4efa04f021e516ea4d163f5241c0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ae04f4efa04f021e516ea4d163f5241c0">rCOMBINE</a>&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_COMBINE_OFFSET)</td></tr>
<tr class="separator:ae04f4efa04f021e516ea4d163f5241c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75948f378a1d3e935e0520b490a57dc2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a75948f378a1d3e935e0520b490a57dc2">rPOL</a>&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_POL_OFFSET)</td></tr>
<tr class="separator:a75948f378a1d3e935e0520b490a57dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1b70c473c7dbdc21fc541d05021ac12"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ae1b70c473c7dbdc21fc541d05021ac12">rFILTER</a>&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_FILTER_OFFSET)</td></tr>
<tr class="separator:ae1b70c473c7dbdc21fc541d05021ac12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa93b415f3fac124124e8ee983f48391d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#aa93b415f3fac124124e8ee983f48391d">rQDCTRL</a>&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_QDCTRL_OFFSET)</td></tr>
<tr class="separator:aa93b415f3fac124124e8ee983f48391d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae554040b5955059fc6ee88cb2b1d9d0c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ae554040b5955059fc6ee88cb2b1d9d0c">rCONF</a>&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_CONF_OFFSET)</td></tr>
<tr class="separator:ae554040b5955059fc6ee88cb2b1d9d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9accff4290a292c2acd7ab9158e9b67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ac9accff4290a292c2acd7ab9158e9b67">rCNV</a>&#160;&#160;&#160;<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#abb55f00e3f3e963370276b65dd47f992">CAT3</a>(rC, <a class="el" href="../../d2/d5e/tap-v1_2board__config_8h.html#a5322bb6869960f272adc60509e9353ef">TONE_ALARM_CHANNEL</a>, V)            /* Channel Value Register used by Tone alarm */</td></tr>
<tr class="separator:ac9accff4290a292c2acd7ab9158e9b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a034901e37b74d8261822e89ae79d289c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a034901e37b74d8261822e89ae79d289c">rCNSC</a>&#160;&#160;&#160;<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#abb55f00e3f3e963370276b65dd47f992">CAT3</a>(rC, <a class="el" href="../../d2/d5e/tap-v1_2board__config_8h.html#a5322bb6869960f272adc60509e9353ef">TONE_ALARM_CHANNEL</a>, SC)           /* Channel Status and Control Register used by Tone alarm */</td></tr>
<tr class="separator:a034901e37b74d8261822e89ae79d289c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59279bee44f34d08b3cbf3a89fb0d8d9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a59279bee44f34d08b3cbf3a89fb0d8d9">STATUS</a>&#160;&#160;&#160;<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#abb55f00e3f3e963370276b65dd47f992">CAT3</a>(TPM_STATUS_CH, <a class="el" href="../../d2/d5e/tap-v1_2board__config_8h.html#a5322bb6869960f272adc60509e9353ef">TONE_ALARM_CHANNEL</a>, F) /* Capture and Compare Status Register used by Tone alarm */</td></tr>
<tr class="separator:a59279bee44f34d08b3cbf3a89fb0d8d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20bc5592fc969e1df401f51b3599859"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ad20bc5592fc969e1df401f51b3599859">CBRK_BUZZER_KEY</a>&#160;&#160;&#160;782097</td></tr>
<tr class="separator:ad20bc5592fc969e1df401f51b3599859"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a348acce02b9d97b18e5653e40b832da9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/db5/visibility_8h.html#ad10ef148ba8327bd530fc6c32c1e181c">__EXPORT</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a348acce02b9d97b18e5653e40b832da9">tone_alarm_main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a348acce02b9d97b18e5653e40b832da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad7d3c05de797e4f1d147782d6650168f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _REG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_addr</td><td>)</td>
          <td>&#160;&#160;&#160;(*(volatile uint32_t *)(_addr))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00168">168</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>.</p>

</div>
</div>
<a class="anchor" id="abb55f00e3f3e963370276b65dd47f992"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAT3</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">A, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">B, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">C&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#a18de26f914beef5c1329836d894f2110">CAT3_</a>(A, B, C)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00119">119</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a18de26f914beef5c1329836d894f2110"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAT3_</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">A, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">B, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">C&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;A##B##C</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Driver for the PX4 audio alarm port, /dev/tone_alarm. </p>
<p>The tone_alarm driver supports a set of predefined "alarm" tunes and one user-supplied tune.</p>
<p>The TONE_SET_ALARM ioctl can be used to select a predefined alarm tune, from 1 - &lt;TBD&gt;. Selecting tune zero silences the alarm.</p>
<p><a class="el" href="../../d7/d21/class_tunes.html" title="Library for parsing tunes from melody-strings or dedicated tune messages. ">Tunes</a> follow the syntax of the Microsoft GWBasic/QBasic PLAY statement, with some exceptions and extensions.</p>
<p>From Wikibooks:</p>
<p>PLAY "[string expression]"</p>
<p>Used to play notes and a score ... The tones are indicated by letters A through G. Accidentals are indicated with a "+" or "#" (for sharp) or "-" (for flat) immediately after the note letter. See this example:</p>
<p>PLAY "C C# C C#"</p>
<p>Whitespaces are ignored inside the string expression. There are also codes that set the duration, octave and tempo. They are all case-insensitive. PLAY executes the commands or notes the order in which they appear in the string. Any indicators that change the properties are effective for the notes following that indicator.</p>
<p>Ln Sets the duration (length) of the notes. The variable n does not indicate an actual duration amount but rather a note type; L1 - whole note, L2 - half note, L4 - quarter note, etc. (L8, L16, L32, L64, ...). By default, n = 4. For triplets and quintets, use L3, L6, L12, ... and L5, L10, L20, ... series respectively. The shorthand notation of length is also provided for a note. For example, "L4 CDE L8 FG L4 AB" can be shortened to "L4 CDE F8G8 AB". F and G play as eighth notes while others play as quarter notes. On Sets the current octave. Valid values for n are 0 through 6. An octave begins with C and ends with B. Remember that C- is equivalent to B. &lt; &gt; Changes the current octave respectively down or up one level. Nn Plays a specified note in the seven-octave range. Valid values are from 0 to 84. (0 is a pause.) Cannot use with sharp and flat. Cannot use with the shorthand notation neither. MN Stand for Music Normal. Note duration is 7/8ths of the length indicated by Ln. It is the default mode. ML Stand for Music Legato. Note duration is full length of that indicated by Ln. MS Stand for Music Staccato. Note duration is 3/4ths of the length indicated by Ln. Pn Causes a silence (pause) for the length of note indicated (same as Ln). Tn Sets the number of "L4"s per minute (tempo). Valid values are from 32 to 255. The default value is T120. . When placed after a note, it causes the duration of the note to be 3/2 of the set duration. This is how to get "dotted" notes. "L4 C#." would play C sharp as a dotted quarter note. It can be used for a pause as well.</p>
<p>Extensions/variations:</p>
<p>MB MF The MF command causes the tune to play once and then stop. The MB command causes the tune to repeat when it ends. </p>

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00118">118</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad20bc5592fc969e1df401f51b3599859"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CBRK_BUZZER_KEY&#160;&#160;&#160;782097</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00196">196</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00489">ToneAlarm::start_note()</a>.</p>

</div>
</div>
<a class="anchor" id="aa75687a0a5e6b7f771a533a5a8dda9f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rC0SC&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_C0SC_OFFSET)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00177">177</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3026746b4c9b5a1ec81f2a1390358564"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rC0V&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_C0V_OFFSET)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00178">178</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a64b7032e268cf08752cdcfc024e6af6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rC1SC&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_C1SC_OFFSET)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00179">179</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae0811fa40a82118f1dd1cb3f2e9d7746"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rC1V&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_C1V_OFFSET)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00180">180</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a034901e37b74d8261822e89ae79d289c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rCNSC&#160;&#160;&#160;<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#abb55f00e3f3e963370276b65dd47f992">CAT3</a>(rC, <a class="el" href="../../d2/d5e/tap-v1_2board__config_8h.html#a5322bb6869960f272adc60509e9353ef">TONE_ALARM_CHANNEL</a>, SC)           /* Channel Status and Control Register used by Tone alarm */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00193">193</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>.</p>

</div>
</div>
<a class="anchor" id="a926a6a2ff7d85f5d27fccd50d1e5aa59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rCNT&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_CNT_OFFSET)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00175">175</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>, and <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00489">ToneAlarm::start_note()</a>.</p>

</div>
</div>
<a class="anchor" id="ac9accff4290a292c2acd7ab9158e9b67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rCNV&#160;&#160;&#160;<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#abb55f00e3f3e963370276b65dd47f992">CAT3</a>(rC, <a class="el" href="../../d2/d5e/tap-v1_2board__config_8h.html#a5322bb6869960f272adc60509e9353ef">TONE_ALARM_CHANNEL</a>, V)            /* Channel Value Register used by Tone alarm */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00192">192</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>.</p>

</div>
</div>
<a class="anchor" id="ae04f4efa04f021e516ea4d163f5241c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rCOMBINE&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_COMBINE_OFFSET)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00182">182</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>.</p>

</div>
</div>
<a class="anchor" id="ae554040b5955059fc6ee88cb2b1d9d0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rCONF&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_CONF_OFFSET)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00186">186</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>.</p>

</div>
</div>
<a class="anchor" id="a8fe8cedee76aa00c750f6ff3b445e23e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define REG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_reg</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ad7d3c05de797e4f1d147782d6650168f">_REG</a>(<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ad4342c2d2e5880f0379667c2591345fb">TONE_ALARM_TIMER_BASE</a> + (_reg))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00172">172</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae1b70c473c7dbdc21fc541d05021ac12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rFILTER&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_FILTER_OFFSET)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00184">184</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>.</p>

</div>
</div>
<a class="anchor" id="a0df373f7a23fc838c313f7c95c70badc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rMOD&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_MOD_OFFSET)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00176">176</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>, and <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00489">ToneAlarm::start_note()</a>.</p>

</div>
</div>
<a class="anchor" id="a75948f378a1d3e935e0520b490a57dc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rPOL&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_POL_OFFSET)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00183">183</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>.</p>

</div>
</div>
<a class="anchor" id="aa93b415f3fac124124e8ee983f48391d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rQDCTRL&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_QDCTRL_OFFSET)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00185">185</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>.</p>

</div>
</div>
<a class="anchor" id="a7780d3a9b0fcc42499ed2451d7ab2ec5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rSC&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_SC_OFFSET)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00174">174</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>, <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00489">ToneAlarm::start_note()</a>, and <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00511">ToneAlarm::stop_note()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d159692ea21f4368840b4f6260f69fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define rSTATUS&#160;&#160;&#160;<a class="el" href="../../d8/d90/serial_8c.html#a022d3e2e56f9db4ddeeddbeab26ce7ca">REG</a>(KINETIS_TPM_STATUS_OFFSET)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00181">181</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>.</p>

</div>
</div>
<a class="anchor" id="a59279bee44f34d08b3cbf3a89fb0d8d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATUS&#160;&#160;&#160;<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#abb55f00e3f3e963370276b65dd47f992">CAT3</a>(TPM_STATUS_CH, <a class="el" href="../../d2/d5e/tap-v1_2board__config_8h.html#a5322bb6869960f272adc60509e9353ef">TONE_ALARM_CHANNEL</a>, F) /* Capture and Compare Status Register used by Tone alarm */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00194">194</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d4/dbd/_l_p_s22_h_b_8cpp_source.html#l00285">LPS22HB::collect()</a>, and <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>.</p>

</div>
</div>
<a class="anchor" id="a70b957afeef663847d836be994c5fd82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TONE_ALARM_COUNTER_PERIOD&#160;&#160;&#160;65536</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00132">132</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>.</p>

</div>
</div>
<a class="anchor" id="a36e4476e007b0e48a395fdea82372645"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TONE_ALARM_SIM_SCGC2_TPM&#160;&#160;&#160;<a class="el" href="../../de/d37/px4__macros_8h.html#a9404439ed46dc67d489a7d4ec2853e8f">CAT</a>(SIM_SCGC2_TPM, <a class="el" href="../../d2/d5e/tap-v1_2board__config_8h.html#abfc334d6ab958852b473c164f1823817">TONE_ALARM_TIMER</a>)           /* The Clock Gating enable bit for this TPM */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00139">139</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>.</p>

</div>
</div>
<a class="anchor" id="ad4342c2d2e5880f0379667c2591345fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TONE_ALARM_TIMER_BASE&#160;&#160;&#160;<a class="el" href="../../de/d37/px4__macros_8h.html#a9404439ed46dc67d489a7d4ec2853e8f">CAT</a>(<a class="el" href="../../de/d37/px4__macros_8h.html#a9404439ed46dc67d489a7d4ec2853e8f">CAT</a>(KINETIS_TPM, <a class="el" href="../../d2/d5e/tap-v1_2board__config_8h.html#abfc334d6ab958852b473c164f1823817">TONE_ALARM_TIMER</a>),_BASE)  /* The Base address of the TPM */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00137">137</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae82a7af7309a3f45dfe64e57d2d7b38b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TONE_ALARM_TIMER_CLOCK&#160;&#160;&#160;BOARD_TPM_FREQ                                 /* The input clock frequency to the TPM <a class="el" href="../../d1/d7f/structblock.html">block</a> */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00136">136</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1708963863a055c22b276109ee346627"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TONE_ALARM_TIMER_FREQ&#160;&#160;&#160;(BOARD_TPM_FREQ/(1 &lt;&lt; (<a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html#ab5974340787312b57f3cc35a4593e55a">TONE_ALARM_TIMER_PRESCALE</a> &gt;&gt; TPM_SC_PS_SHIFT)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00149">149</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00414">ToneAlarm::note_to_divisor()</a>.</p>

</div>
</div>
<a class="anchor" id="ab5974340787312b57f3cc35a4593e55a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TONE_ALARM_TIMER_PRESCALE&#160;&#160;&#160;TPM_SC_PS_DIV16                                /* The constant Prescaler */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00140">140</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00346">ToneAlarm::init()</a>.</p>

</div>
</div>
<a class="anchor" id="a9193f632d6cf1a5beab5afcfdec4efc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TONE_ALARM_TIMER_VECTOR&#160;&#160;&#160;<a class="el" href="../../de/d37/px4__macros_8h.html#a9404439ed46dc67d489a7d4ec2853e8f">CAT</a>(KINETIS_IRQ_TPM, <a class="el" href="../../d2/d5e/tap-v1_2board__config_8h.html#abfc334d6ab958852b473c164f1823817">TONE_ALARM_TIMER</a>)         /* The TPM Interrupt vector */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00138">138</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a348acce02b9d97b18e5653e40b832da9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tone_alarm_main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00954">954</a> of file <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html">tone_alarm.cpp</a>.</p>

<p>References <a class="el" href="../../d6/d40/err_8h_source.html#l00089">errx</a>, <a class="el" href="../../d6/d47/dataman_8cpp_source.html#l00154">fd</a>, <a class="el" href="../../d3/ddb/ets__airspeed_8cpp_source.html#l00240">ets_airspeed::g_dev</a>, <a class="el" href="../../d0/d00/drivers_2airspeed_2airspeed_8cpp_source.html#l00096">Airspeed::init()</a>, <a class="el" href="../../d7/de6/uavcan__main_8cpp_source.html#l00072">OK</a>, <a class="el" href="../../d9/d25/drv__tone__alarm_8h_source.html#l00090">TONE_NUMBER_OF_TUNES</a>, <a class="el" href="../../d9/d25/drv__tone__alarm_8h_source.html#l00074">TONE_STOP_TUNE</a>, and <a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_source.html#l00302">ToneAlarm::ToneAlarm()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d7e/platforms_2posix_2drivers_2tonealrmsim_2tone__alarm_8cpp_source.html#l00201">ToneAlarm::_measure()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_a348acce02b9d97b18e5653e40b832da9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp_a348acce02b9d97b18e5653e40b832da9_icgraph.svg" width="331" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_c718a368270b13c54d94892d20736f45.html">drivers</a></li><li class="navelem"><a class="el" href="../../dir_74f220a075685a600ffe64892056f7af.html">kinetis</a></li><li class="navelem"><a class="el" href="../../dir_452f04b6387b76e4596362f13de39000.html">tone_alarm</a></li><li class="navelem"><a class="el" href="../../d3/dad/drivers_2kinetis_2tone__alarm_2tone__alarm_8cpp.html">tone_alarm.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
