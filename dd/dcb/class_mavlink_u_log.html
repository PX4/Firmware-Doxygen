<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PX4 Firmware: MavlinkULog Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PX4 Firmware
   </div>
   <div id="projectbrief">PX4 Autopilot Software http://px4.io</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dd/dcb/class_mavlink_u_log.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="../../d4/dda/class_mavlink_u_log-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MavlinkULog Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>ULog streaming class.  
 <a href="../../dd/dcb/class_mavlink_u_log.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for MavlinkULog:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d0/d2f/class_mavlink_u_log__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae5a3e12caf8c06a1b05cac3a315ff9e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#ae5a3e12caf8c06a1b05cac3a315ff9e3">stop</a> ()</td></tr>
<tr class="memdesc:ae5a3e12caf8c06a1b05cac3a315ff9e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">stop the stream.  <a href="#ae5a3e12caf8c06a1b05cac3a315ff9e3">More...</a><br /></td></tr>
<tr class="separator:ae5a3e12caf8c06a1b05cac3a315ff9e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0139fd25db11f0ce3159b7cdd5b5622d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a0139fd25db11f0ce3159b7cdd5b5622d">handle_update</a> (mavlink_channel_t channel)</td></tr>
<tr class="memdesc:a0139fd25db11f0ce3159b7cdd5b5622d"><td class="mdescLeft">&#160;</td><td class="mdescRight">periodic update method: check for ulog stream messages and handle retransmission.  <a href="#a0139fd25db11f0ce3159b7cdd5b5622d">More...</a><br /></td></tr>
<tr class="separator:a0139fd25db11f0ce3159b7cdd5b5622d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bbc34cea886e7ff388de6412bcc0659"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a3bbc34cea886e7ff388de6412bcc0659">handle_ack</a> (mavlink_logging_ack_t ack)</td></tr>
<tr class="memdesc:a3bbc34cea886e7ff388de6412bcc0659"><td class="mdescLeft">&#160;</td><td class="mdescRight">ack from mavlink for a data message  <a href="#a3bbc34cea886e7ff388de6412bcc0659">More...</a><br /></td></tr>
<tr class="separator:a3bbc34cea886e7ff388de6412bcc0659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae91afd76c35f0e59159594776ad491a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#ae91afd76c35f0e59159594776ad491a4">start_ack_received</a> ()</td></tr>
<tr class="memdesc:ae91afd76c35f0e59159594776ad491a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">this is called when we got an vehicle_command_ack from the logger  <a href="#ae91afd76c35f0e59159594776ad491a4">More...</a><br /></td></tr>
<tr class="separator:ae91afd76c35f0e59159594776ad491a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a17138fdb8967bd36342fea210771f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#ab5a17138fdb8967bd36342fea210771f">current_data_rate</a> () const </td></tr>
<tr class="separator:ab5a17138fdb8967bd36342fea210771f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d42b97c5b58169d630cfd507e859bc"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#aa4d42b97c5b58169d630cfd507e859bc">maximum_data_rate</a> () const </td></tr>
<tr class="separator:aa4d42b97c5b58169d630cfd507e859bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bcf5b85782813310fbf6ed8bba8cbf9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a3bcf5b85782813310fbf6ed8bba8cbf9">get_ulog_stream_fd</a> () const </td></tr>
<tr class="separator:a3bcf5b85782813310fbf6ed8bba8cbf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a65d2d1e3d7b00cee85c61af3fa468a35"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a65d2d1e3d7b00cee85c61af3fa468a35">initialize</a> ()</td></tr>
<tr class="memdesc:a65d2d1e3d7b00cee85c61af3fa468a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">initialize: call this once on startup (this function is not thread-safe!)  <a href="#a65d2d1e3d7b00cee85c61af3fa468a35">More...</a><br /></td></tr>
<tr class="separator:a65d2d1e3d7b00cee85c61af3fa468a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc99afb25974d33e3c9da1936fd1cc3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/dcb/class_mavlink_u_log.html">MavlinkULog</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a5dc99afb25974d33e3c9da1936fd1cc3">try_start</a> (int datarate, float max_rate_factor, uint8_t target_system, uint8_t target_component)</td></tr>
<tr class="memdesc:a5dc99afb25974d33e3c9da1936fd1cc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">try to start a new stream.  <a href="#a5dc99afb25974d33e3c9da1936fd1cc3">More...</a><br /></td></tr>
<tr class="separator:a5dc99afb25974d33e3c9da1936fd1cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:af6ec3ab02c7c79804d53be131c9264e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#af6ec3ab02c7c79804d53be131c9264e3">MavlinkULog</a> (int datarate, float max_rate_factor, uint8_t target_system, uint8_t target_component)</td></tr>
<tr class="separator:af6ec3ab02c7c79804d53be131c9264e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a826e34fe44f9f752c43501548ad7d278"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a826e34fe44f9f752c43501548ad7d278">~MavlinkULog</a> ()</td></tr>
<tr class="separator:a826e34fe44f9f752c43501548ad7d278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8656441a029e32e0f7d4530463161195"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a8656441a029e32e0f7d4530463161195">publish_ack</a> (uint16_t sequence)</td></tr>
<tr class="separator:a8656441a029e32e0f7d4530463161195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a763352699ff3246d6a793e39af756d21"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a763352699ff3246d6a793e39af756d21">MavlinkULog</a> (const <a class="el" href="../../dd/dcb/class_mavlink_u_log.html">MavlinkULog</a> &amp;)=delete</td></tr>
<tr class="separator:a763352699ff3246d6a793e39af756d21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b4770aecbfd50b5bb8c2e00b6e68114"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html">MavlinkULog</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a5b4770aecbfd50b5bb8c2e00b6e68114">operator=</a> (const <a class="el" href="../../dd/dcb/class_mavlink_u_log.html">MavlinkULog</a> &amp;)=delete</td></tr>
<tr class="separator:a5b4770aecbfd50b5bb8c2e00b6e68114"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:ab3e3d607158eea82aa0016256eb06da4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#ab3e3d607158eea82aa0016256eb06da4">lock</a> ()</td></tr>
<tr class="separator:ab3e3d607158eea82aa0016256eb06da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99ea3dd437b2517573149a6cb1f5d82e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a99ea3dd437b2517573149a6cb1f5d82e">unlock</a> ()</td></tr>
<tr class="separator:a99ea3dd437b2517573149a6cb1f5d82e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a75e3ddbee027825c0f5eb575b9434fdf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a75e3ddbee027825c0f5eb575b9434fdf">_ulog_stream_sub</a> = -1</td></tr>
<tr class="separator:a75e3ddbee027825c0f5eb575b9434fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e65290f21ee7f02a122f482fb95ed20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/dd6/u_o_r_b_8h.html#a8d0cfa5f9ea6427a37057d6cea6dd990">orb_advert_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a2e65290f21ee7f02a122f482fb95ed20">_ulog_stream_ack_pub</a> = nullptr</td></tr>
<tr class="separator:a2e65290f21ee7f02a122f482fb95ed20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae59e3c16569f5d0d2a191dda120cdcc4"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#ae59e3c16569f5d0d2a191dda120cdcc4">_wait_for_ack_sequence</a></td></tr>
<tr class="separator:ae59e3c16569f5d0d2a191dda120cdcc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a123715dadd2e0157e64482337fb432d0"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a123715dadd2e0157e64482337fb432d0">_sent_tries</a> = 0</td></tr>
<tr class="separator:a123715dadd2e0157e64482337fb432d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b519873d09496be7a08d274ac1e2fd7"><td class="memItemLeft" align="right" valign="top">volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a6b519873d09496be7a08d274ac1e2fd7">_ack_received</a> = false</td></tr>
<tr class="memdesc:a6b519873d09496be7a08d274ac1e2fd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">set to true if a matching ack received  <a href="#a6b519873d09496be7a08d274ac1e2fd7">More...</a><br /></td></tr>
<tr class="separator:a6b519873d09496be7a08d274ac1e2fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2cade1a40fb9f5588a81fea33aee9e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d10/drv__hrt_8h.html#a9f8bbf0e883115e04a457a268533a87c">hrt_abstime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#af2cade1a40fb9f5588a81fea33aee9e3">_last_sent_time</a> = 0</td></tr>
<tr class="memdesc:af2cade1a40fb9f5588a81fea33aee9e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">last time we sent a message that requires an ack  <a href="#af2cade1a40fb9f5588a81fea33aee9e3">More...</a><br /></td></tr>
<tr class="separator:af2cade1a40fb9f5588a81fea33aee9e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6ec7a6879e5197f0a735f6ec9bd6c62"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dae/structulog__stream__s.html">ulog_stream_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#ae6ec7a6879e5197f0a735f6ec9bd6c62">_ulog_data</a></td></tr>
<tr class="separator:ae6ec7a6879e5197f0a735f6ec9bd6c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca9fadb817fd5c96361148f66f63586b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#aca9fadb817fd5c96361148f66f63586b">_waiting_for_initial_ack</a> = false</td></tr>
<tr class="separator:aca9fadb817fd5c96361148f66f63586b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ecf15dfe48b1ed52e2cf6ac7f1e5e57"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a2ecf15dfe48b1ed52e2cf6ac7f1e5e57">_target_system</a></td></tr>
<tr class="separator:a2ecf15dfe48b1ed52e2cf6ac7f1e5e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2ba8c4c3927920014d6d1c22e2379ec"><td class="memItemLeft" align="right" valign="top">const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#aa2ba8c4c3927920014d6d1c22e2379ec">_target_component</a></td></tr>
<tr class="separator:aa2ba8c4c3927920014d6d1c22e2379ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac27ad8c338ecffd55d1e5ac32af5e236"><td class="memItemLeft" align="right" valign="top">const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#ac27ad8c338ecffd55d1e5ac32af5e236">_max_rate_factor</a></td></tr>
<tr class="memdesc:ac27ad8c338ecffd55d1e5ac32af5e236"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum rate percentage at which we're allowed to push data  <a href="#ac27ad8c338ecffd55d1e5ac32af5e236">More...</a><br /></td></tr>
<tr class="separator:ac27ad8c338ecffd55d1e5ac32af5e236"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab32515b2fe519846e4dcff4e825359ee"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#ab32515b2fe519846e4dcff4e825359ee">_max_num_messages</a></td></tr>
<tr class="memdesc:ab32515b2fe519846e4dcff4e825359ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum number of messages we can send within _rate_calculation_delta_t  <a href="#ab32515b2fe519846e4dcff4e825359ee">More...</a><br /></td></tr>
<tr class="separator:ab32515b2fe519846e4dcff4e825359ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0ec096427921078b7703e71020756a1"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#ac0ec096427921078b7703e71020756a1">_current_rate_factor</a></td></tr>
<tr class="memdesc:ac0ec096427921078b7703e71020756a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">currently used rate percentage  <a href="#ac0ec096427921078b7703e71020756a1">More...</a><br /></td></tr>
<tr class="separator:ac0ec096427921078b7703e71020756a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a919f8f4ab82b946e58f9fcfa1f6d9374"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a919f8f4ab82b946e58f9fcfa1f6d9374">_current_num_msgs</a> = 0</td></tr>
<tr class="memdesc:a919f8f4ab82b946e58f9fcfa1f6d9374"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of messages sent within the current time interval  <a href="#a919f8f4ab82b946e58f9fcfa1f6d9374">More...</a><br /></td></tr>
<tr class="separator:a919f8f4ab82b946e58f9fcfa1f6d9374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e22a40a2595c62dbd17986382745347"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d10/drv__hrt_8h.html#a9f8bbf0e883115e04a457a268533a87c">hrt_abstime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a7e22a40a2595c62dbd17986382745347">_next_rate_check</a></td></tr>
<tr class="memdesc:a7e22a40a2595c62dbd17986382745347"><td class="mdescLeft">&#160;</td><td class="mdescRight">next timestamp at which to update the rate  <a href="#a7e22a40a2595c62dbd17986382745347">More...</a><br /></td></tr>
<tr class="separator:a7e22a40a2595c62dbd17986382745347"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a20a5c987b407b5d11602430fef74b965"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/d7f/px4__sem_8h.html#a311e53286e47192d932966d4479f10aa">px4_sem_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a20a5c987b407b5d11602430fef74b965">_lock</a></td></tr>
<tr class="separator:a20a5c987b407b5d11602430fef74b965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0b80f78f957f488c2204f930abe24b3"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#af0b80f78f957f488c2204f930abe24b3">_init</a> = false</td></tr>
<tr class="separator:af0b80f78f957f488c2204f930abe24b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70f10f486a7bbca81609a7e5d82a1e36"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/dcb/class_mavlink_u_log.html">MavlinkULog</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a70f10f486a7bbca81609a7e5d82a1e36">_instance</a> = nullptr</td></tr>
<tr class="separator:a70f10f486a7bbca81609a7e5d82a1e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20e5c66f8879a268324828a91b80c36d"><td class="memItemLeft" align="right" valign="top">static const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html#a20e5c66f8879a268324828a91b80c36d">_rate_calculation_delta_t</a> = 0.1f</td></tr>
<tr class="memdesc:a20e5c66f8879a268324828a91b80c36d"><td class="mdescLeft">&#160;</td><td class="mdescRight">rate update interval  <a href="#a20e5c66f8879a268324828a91b80c36d">More...</a><br /></td></tr>
<tr class="separator:a20e5c66f8879a268324828a91b80c36d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ULog streaming class. </p>
<p>At most one instance (stream) can exist, assigned to a specific mavlink channel. </p>

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00058">58</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af6ec3ab02c7c79804d53be131c9264e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MavlinkULog::MavlinkULog </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>datarate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_rate_factor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>target_system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>target_component</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00052">52</a> of file <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html">mavlink_ulog.cpp</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00128">_last_sent_time</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00138">_next_rate_check</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00121">_rate_calculation_delta_t</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00123">_ulog_stream_sub</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00130">_waiting_for_initial_ack</a>, <a class="el" href="../../d6/d10/drv__hrt_8h.html#a1450e339b7c5b8d47656500167a6676d">hrt_absolute_time()</a>, <a class="el" href="../../d9/d97/u_o_r_b_8cpp_source.html#l00095">orb_check()</a>, <a class="el" href="../../d9/d97/u_o_r_b_8cpp_source.html#l00090">orb_copy()</a>, <a class="el" href="../../db/dd6/u_o_r_b_8h_source.html#l00087">ORB_ID</a>, <a class="el" href="../../d9/d97/u_o_r_b_8cpp_source.html#l00075">orb_subscribe()</a>, and <a class="el" href="../../d7/d53/px4__log_8h_source.html#l00459">PX4_ERR</a>.</p>

<p>Referenced by <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00099">get_ulog_stream_fd()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00219">try_start()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_af6ec3ab02c7c79804d53be131c9264e3_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_af6ec3ab02c7c79804d53be131c9264e3_icgraph.svg" width="100%" height="522"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a826e34fe44f9f752c43501548ad7d278"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MavlinkULog::~MavlinkULog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00079">79</a> of file <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html">mavlink_ulog.cpp</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00124">_ulog_stream_ack_pub</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00123">_ulog_stream_sub</a>, <a class="el" href="../../d9/d97/u_o_r_b_8cpp_source.html#l00065">orb_unadvertise()</a>, and <a class="el" href="../../d9/d97/u_o_r_b_8cpp_source.html#l00085">orb_unsubscribe()</a>.</p>

<p>Referenced by <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00099">get_ulog_stream_fd()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a826e34fe44f9f752c43501548ad7d278_cgraph.svg" width="100%" height="564"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a826e34fe44f9f752c43501548ad7d278_icgraph.svg" width="404" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a763352699ff3246d6a793e39af756d21"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MavlinkULog::MavlinkULog </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/dcb/class_mavlink_u_log.html">MavlinkULog</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab5a17138fdb8967bd36342fea210771f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float MavlinkULog::current_data_rate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00096">96</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00136">_current_rate_factor</a>.</p>

<p>Referenced by <a class="el" href="../../de/d24/mavlink__main_8cpp_source.html#l02727">Mavlink::display_status()</a>, and <a class="el" href="../../de/d24/mavlink__main_8cpp_source.html#l01673">Mavlink::update_rate_mult()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_ab5a17138fdb8967bd36342fea210771f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3bcf5b85782813310fbf6ed8bba8cbf9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int MavlinkULog::get_ulog_stream_fd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00099">99</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00123">_ulog_stream_sub</a>, <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00052">MavlinkULog()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00079">~MavlinkULog()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a3bcf5b85782813310fbf6ed8bba8cbf9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3bbc34cea886e7ff388de6412bcc0659"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MavlinkULog::handle_ack </td>
          <td>(</td>
          <td class="paramtype">mavlink_logging_ack_t&#160;</td>
          <td class="paramname"><em>ack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ack from mavlink for a data message </p>

<p>Definition at line <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00255">255</a> of file <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html">mavlink_ulog.cpp</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00127">_ack_received</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00120">_instance</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00125">_wait_for_ack_sequence</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00106">lock()</a>, <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00269">publish_ack()</a>, and <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00111">unlock()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d57/mavlink__receiver_8cpp_source.html#l01609">MavlinkReceiver::handle_message_logging_ack()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a3bbc34cea886e7ff388de6412bcc0659_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a3bbc34cea886e7ff388de6412bcc0659_icgraph.svg" width="100%" height="522"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0139fd25db11f0ce3159b7cdd5b5622d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MavlinkULog::handle_update </td>
          <td>(</td>
          <td class="paramtype">mavlink_channel_t&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>periodic update method: check for ulog stream messages and handle retransmission. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, &lt;0 otherwise </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">99</a> of file <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html">mavlink_ulog.cpp</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00127">_ack_received</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00137">_current_num_msgs</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00136">_current_rate_factor</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00128">_last_sent_time</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00135">_max_num_messages</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00134">_max_rate_factor</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00138">_next_rate_check</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00121">_rate_calculation_delta_t</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00126">_sent_tries</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00132">_target_component</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00131">_target_system</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00129">_ulog_data</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00123">_ulog_stream_sub</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00125">_wait_for_ack_sequence</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00130">_waiting_for_initial_ack</a>, <a class="el" href="../../d1/da2/ulog__stream_8h_source.html#l00059">ulog_stream_s::data</a>, <a class="el" href="../../d1/da2/ulog__stream_8h_source.html#l00057">ulog_stream_s::first_message_offset</a>, <a class="el" href="../../d1/da2/ulog__stream_8h_source.html#l00058">ulog_stream_s::flags</a>, <a class="el" href="../../d6/d10/drv__hrt_8h.html#a1450e339b7c5b8d47656500167a6676d">hrt_absolute_time()</a>, <a class="el" href="../../d6/d10/drv__hrt_8h_source.html#l00057">hrt_abstime</a>, <a class="el" href="../../d6/d10/drv__hrt_8h.html#a2bf33ff8e80c1112813843ddd3b5b55d">hrt_elapsed_time()</a>, <a class="el" href="../../d1/da2/ulog__stream_8h_source.html#l00056">ulog_stream_s::length</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00106">lock()</a>, <a class="el" href="../../dd/d87/px4io_8c_source.html#l00089">msg</a>, <a class="el" href="../../d9/d97/u_o_r_b_8cpp_source.html#l00095">orb_check()</a>, <a class="el" href="../../d9/d97/u_o_r_b_8cpp_source.html#l00090">orb_copy()</a>, <a class="el" href="../../db/dd6/u_o_r_b_8h_source.html#l00087">ORB_ID</a>, <a class="el" href="../../d7/d53/px4__log_8h_source.html#l00461">PX4_DEBUG</a>, <a class="el" href="../../d7/d53/px4__log_8h_source.html#l00460">PX4_WARN</a>, <a class="el" href="../../d1/da2/ulog__stream_8h_source.html#l00055">ulog_stream_s::sequence</a>, <a class="el" href="../../d1/da2/ulog__stream_8h_source.html#l00054">ulog_stream_s::timestamp</a>, and <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00111">unlock()</a>.</p>

<p>Referenced by <a class="el" href="../../de/d24/mavlink__main_8cpp_source.html#l01942">Mavlink::task_main()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a0139fd25db11f0ce3159b7cdd5b5622d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a0139fd25db11f0ce3159b7cdd5b5622d_icgraph.svg" width="100%" height="494"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a65d2d1e3d7b00cee85c61af3fa468a35"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MavlinkULog::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>initialize: call this once on startup (this function is not thread-safe!) </p>

<p>Definition at line <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00209">209</a> of file <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html">mavlink_ulog.cpp</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00119">_init</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00118">_lock</a>, and <a class="el" href="../../d4/d7f/px4__sem_8h_source.html#l00080">px4_sem_init</a>.</p>

<p>Referenced by <a class="el" href="../../de/d24/mavlink__main_8cpp_source.html#l02668">Mavlink::start()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a65d2d1e3d7b00cee85c61af3fa468a35_icgraph.svg" width="464" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab3e3d607158eea82aa0016256eb06da4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void MavlinkULog::lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00106">106</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00118">_lock</a>, and <a class="el" href="../../d4/d7f/px4__sem_8h_source.html#l00082">px4_sem_wait</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00255">handle_ack()</a>, <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>, <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00243">stop()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00219">try_start()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_ab3e3d607158eea82aa0016256eb06da4_icgraph.svg" width="100%" height="582"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa4d42b97c5b58169d630cfd507e859bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float MavlinkULog::maximum_data_rate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00097">97</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00134">_max_rate_factor</a>.</p>

<p>Referenced by <a class="el" href="../../de/d24/mavlink__main_8cpp_source.html#l02727">Mavlink::display_status()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_aa4d42b97c5b58169d630cfd507e859bc_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5b4770aecbfd50b5bb8c2e00b6e68114"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html">MavlinkULog</a> MavlinkULog::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/dcb/class_mavlink_u_log.html">MavlinkULog</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8656441a029e32e0f7d4530463161195"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MavlinkULog::publish_ack </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>sequence</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00269">269</a> of file <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html">mavlink_ulog.cpp</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00124">_ulog_stream_ack_pub</a>, <a class="el" href="../../d6/d10/drv__hrt_8h.html#a1450e339b7c5b8d47656500167a6676d">hrt_absolute_time()</a>, <a class="el" href="../../d9/d97/u_o_r_b_8cpp_source.html#l00043">orb_advertise()</a>, <a class="el" href="../../db/dd6/u_o_r_b_8h_source.html#l00087">ORB_ID</a>, <a class="el" href="../../d9/d97/u_o_r_b_8cpp_source.html#l00070">orb_publish()</a>, <a class="el" href="../../d1/da2/ulog__stream_8h_source.html#l00055">ulog_stream_s::sequence</a>, <a class="el" href="../../d9/dca/ulog__stream__ack_8h_source.html#l00056">ulog_stream_ack_s::sequence</a>, and <a class="el" href="../../d9/dca/ulog__stream__ack_8h_source.html#l00055">ulog_stream_ack_s::timestamp</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00255">handle_ack()</a>, and <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00111">unlock()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a8656441a029e32e0f7d4530463161195_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a8656441a029e32e0f7d4530463161195_icgraph.svg" width="100%" height="535"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae91afd76c35f0e59159594776ad491a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MavlinkULog::start_ack_received </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>this is called when we got an vehicle_command_ack from the logger </p>

<p>Definition at line <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00090">90</a> of file <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html">mavlink_ulog.cpp</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00128">_last_sent_time</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00130">_waiting_for_initial_ack</a>, and <a class="el" href="../../d7/d53/px4__log_8h_source.html#l00461">PX4_DEBUG</a>.</p>

<p>Referenced by <a class="el" href="../../de/d24/mavlink__main_8cpp_source.html#l01942">Mavlink::task_main()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_ae91afd76c35f0e59159594776ad491a4_icgraph.svg" width="100%" height="494"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae5a3e12caf8c06a1b05cac3a315ff9e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MavlinkULog::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>stop the stream. </p>
<p>It also deletes the singleton object, so make sure cleanup all pointers to it. thread-safe </p>

<p>Definition at line <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00243">243</a> of file <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html">mavlink_ulog.cpp</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00120">_instance</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00106">lock()</a>, and <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00111">unlock()</a>.</p>

<p>Referenced by <a class="el" href="../../de/d24/mavlink__main_8cpp_source.html#l01942">Mavlink::task_main()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_ae5a3e12caf8c06a1b05cac3a315ff9e3_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_ae5a3e12caf8c06a1b05cac3a315ff9e3_icgraph.svg" width="100%" height="494"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5dc99afb25974d33e3c9da1936fd1cc3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html">MavlinkULog</a> * MavlinkULog::try_start </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>datarate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_rate_factor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>target_system</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>target_component</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>try to start a new stream. </p>
<p>This fails if a stream is already running. thread-safe </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">datarate</td><td>maximum link data rate in B/s </td></tr>
    <tr><td class="paramname">max_rate_factor</td><td>let ulog streaming use a maximum of max_rate_factor * datarate </td></tr>
    <tr><td class="paramname">target_system</td><td>ID for mavlink message </td></tr>
    <tr><td class="paramname">target_component</td><td>ID for mavlink message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>instance, or nullptr </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00219">219</a> of file <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html">mavlink_ulog.cpp</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00120">_instance</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00106">lock()</a>, <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00052">MavlinkULog()</a>, <a class="el" href="../../d7/d53/px4__log_8h_source.html#l00459">PX4_ERR</a>, and <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00111">unlock()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d69/mavlink__main_8h_source.html#l00477">Mavlink::try_start_ulog_streaming()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a5dc99afb25974d33e3c9da1936fd1cc3_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a5dc99afb25974d33e3c9da1936fd1cc3_icgraph.svg" width="100%" height="522"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a99ea3dd437b2517573149a6cb1f5d82e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void MavlinkULog::unlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00111">111</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>References <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00118">_lock</a>, <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00269">publish_ack()</a>, and <a class="el" href="../../d4/d7f/px4__sem_8h_source.html#l00084">px4_sem_post</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00255">handle_ack()</a>, <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>, <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00243">stop()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00219">try_start()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a99ea3dd437b2517573149a6cb1f5d82e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../dd/dcb/class_mavlink_u_log_a99ea3dd437b2517573149a6cb1f5d82e_icgraph.svg" width="100%" height="582"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a6b519873d09496be7a08d274ac1e2fd7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool MavlinkULog::_ack_received = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set to true if a matching ack received </p>

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00127">127</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00255">handle_ack()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a919f8f4ab82b946e58f9fcfa1f6d9374"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int MavlinkULog::_current_num_msgs = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>number of messages sent within the current time interval </p>

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00137">137</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0ec096427921078b7703e71020756a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float MavlinkULog::_current_rate_factor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>currently used rate percentage </p>

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00136">136</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00096">current_data_rate()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>.</p>

</div>
</div>
<a class="anchor" id="af0b80f78f957f488c2204f930abe24b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MavlinkULog::_init = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00119">119</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00209">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a70f10f486a7bbca81609a7e5d82a1e36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html">MavlinkULog</a> * MavlinkULog::_instance = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00120">120</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00255">handle_ack()</a>, <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00243">stop()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00219">try_start()</a>.</p>

</div>
</div>
<a class="anchor" id="af2cade1a40fb9f5588a81fea33aee9e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d10/drv__hrt_8h.html#a9f8bbf0e883115e04a457a268533a87c">hrt_abstime</a> MavlinkULog::_last_sent_time = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>last time we sent a message that requires an ack </p>

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00128">128</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>, <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00052">MavlinkULog()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00090">start_ack_received()</a>.</p>

</div>
</div>
<a class="anchor" id="a20a5c987b407b5d11602430fef74b965"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d7f/px4__sem_8h.html#a311e53286e47192d932966d4479f10aa">px4_sem_t</a> MavlinkULog::_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00118">118</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00209">initialize()</a>, <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00106">lock()</a>, and <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00111">unlock()</a>.</p>

</div>
</div>
<a class="anchor" id="ab32515b2fe519846e4dcff4e825359ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int MavlinkULog::_max_num_messages</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>maximum number of messages we can send within _rate_calculation_delta_t </p>

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00135">135</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>.</p>

</div>
</div>
<a class="anchor" id="ac27ad8c338ecffd55d1e5ac32af5e236"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const float MavlinkULog::_max_rate_factor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>maximum rate percentage at which we're allowed to push data </p>

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00134">134</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>, and <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00097">maximum_data_rate()</a>.</p>

</div>
</div>
<a class="anchor" id="a7e22a40a2595c62dbd17986382745347"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d10/drv__hrt_8h.html#a9f8bbf0e883115e04a457a268533a87c">hrt_abstime</a> MavlinkULog::_next_rate_check</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>next timestamp at which to update the rate </p>

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00138">138</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00052">MavlinkULog()</a>.</p>

</div>
</div>
<a class="anchor" id="a20e5c66f8879a268324828a91b80c36d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const float MavlinkULog::_rate_calculation_delta_t = 0.1f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>rate update interval </p>

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00121">121</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00052">MavlinkULog()</a>.</p>

</div>
</div>
<a class="anchor" id="a123715dadd2e0157e64482337fb432d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t MavlinkULog::_sent_tries = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00126">126</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>.</p>

</div>
</div>
<a class="anchor" id="aa2ba8c4c3927920014d6d1c22e2379ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t MavlinkULog::_target_component</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00132">132</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a2ecf15dfe48b1ed52e2cf6ac7f1e5e57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint8_t MavlinkULog::_target_system</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00131">131</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>.</p>

</div>
</div>
<a class="anchor" id="ae6ec7a6879e5197f0a735f6ec9bd6c62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dae/structulog__stream__s.html">ulog_stream_s</a> MavlinkULog::_ulog_data</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00129">129</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e65290f21ee7f02a122f482fb95ed20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/dd6/u_o_r_b_8h.html#a8d0cfa5f9ea6427a37057d6cea6dd990">orb_advert_t</a> MavlinkULog::_ulog_stream_ack_pub = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00124">124</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00269">publish_ack()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00079">~MavlinkULog()</a>.</p>

</div>
</div>
<a class="anchor" id="a75e3ddbee027825c0f5eb575b9434fdf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int MavlinkULog::_ulog_stream_sub = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00123">123</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00099">get_ulog_stream_fd()</a>, <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>, <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00052">MavlinkULog()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00079">~MavlinkULog()</a>.</p>

</div>
</div>
<a class="anchor" id="ae59e3c16569f5d0d2a191dda120cdcc4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t MavlinkULog::_wait_for_ack_sequence</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00125">125</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00255">handle_ack()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>.</p>

</div>
</div>
<a class="anchor" id="aca9fadb817fd5c96361148f66f63586b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MavlinkULog::_waiting_for_initial_ack = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html#l00130">130</a> of file <a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00099">handle_update()</a>, <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00052">MavlinkULog()</a>, and <a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html#l00090">start_ack_received()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/modules/mavlink/<a class="el" href="../../d3/da1/mavlink__ulog_8h_source.html">mavlink_ulog.h</a></li>
<li>src/modules/mavlink/<a class="el" href="../../d3/d0d/mavlink__ulog_8cpp_source.html">mavlink_ulog.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dd/dcb/class_mavlink_u_log.html">MavlinkULog</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
