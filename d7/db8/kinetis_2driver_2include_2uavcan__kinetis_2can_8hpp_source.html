<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PX4 Firmware: src/drivers/uavcan/uavcan_drivers/kinetis/driver/include/uavcan_kinetis/can.hpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PX4 Firmware
   </div>
   <div id="projectbrief">PX4 Autopilot Software http://px4.io</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">can.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2014, 2018 Pavel Kirienko &lt;pavel.kirienko@gmail.com&gt;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Kinetis Port Author David Sidrane &lt;david_s5@nscdg.com&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d8/dca/kinetis_2driver_2include_2uavcan__kinetis_2build__config_8hpp.html">uavcan_kinetis/build_config.hpp</a>&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../da/d8b/kinetis_2driver_2include_2uavcan__kinetis_2thread_8hpp.html">uavcan_kinetis/thread.hpp</a>&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;uavcan/driver/can.hpp&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../d9/d33/flexcan_8hpp.html">uavcan_kinetis/flexcan.hpp</a>&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="../../d5/d76/namespaceuavcan__kinetis.html">   13</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="../../d5/d76/namespaceuavcan__kinetis.html">uavcan_kinetis</a></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;{<span class="comment"></span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * Driver error codes.</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * These values can be returned from driver functions negated.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//static const uavcan::int16_t ErrUnknown               = 1000; ///&lt; Reserved for future use</span></div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="../../d5/d76/namespaceuavcan__kinetis.html#a6d779e6990df17e3cdbe923cf01e0adb">   20</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> uavcan::int16_t <a class="code" href="../../d5/d76/namespaceuavcan__kinetis.html#a6d779e6990df17e3cdbe923cf01e0adb">ErrNotImplemented</a>          = 1001; <span class="comment">///&lt; Feature not implemented</span></div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="../../d5/d76/namespaceuavcan__kinetis.html#a31d49d7201ba30d996506342a3d6c163">   21</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> uavcan::int16_t <a class="code" href="../../d5/d76/namespaceuavcan__kinetis.html#a31d49d7201ba30d996506342a3d6c163">ErrInvalidBitRate</a>          = 1002; <span class="comment">///&lt; Bit rate not supported</span></div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="../../d5/d76/namespaceuavcan__kinetis.html#a82a0c7ac6ce04d31bab8ce9d69424649">   22</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> uavcan::int16_t <a class="code" href="../../d5/d76/namespaceuavcan__kinetis.html#a82a0c7ac6ce04d31bab8ce9d69424649">ErrLogic</a>                   = 1003; <span class="comment">///&lt; Internal logic error</span></div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="../../d5/d76/namespaceuavcan__kinetis.html#adbdd7e41267d5b665785575912da7894">   23</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> uavcan::int16_t <a class="code" href="../../d5/d76/namespaceuavcan__kinetis.html#adbdd7e41267d5b665785575912da7894">ErrUnsupportedFrame</a>        = 1004; <span class="comment">///&lt; Frame not supported (e.g. RTR, CAN FD, etc)</span></div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="../../d5/d76/namespaceuavcan__kinetis.html#af30eb78f7826ccfbdc18b33ed6e6067f">   24</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> uavcan::int16_t <a class="code" href="../../d5/d76/namespaceuavcan__kinetis.html#af30eb78f7826ccfbdc18b33ed6e6067f">ErrMcrLPMAckNotSet</a>         = 1005; <span class="comment">///&lt; MCR_LPMACK bit of the MCR register is not 1</span></div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="../../d5/d76/namespaceuavcan__kinetis.html#ac346981e00bbe2c44772e367e98b933f">   25</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> uavcan::int16_t <a class="code" href="../../d5/d76/namespaceuavcan__kinetis.html#ac346981e00bbe2c44772e367e98b933f">ErrMcrLPMAckNotCleared</a>     = 1006; <span class="comment">///&lt; MCR_LPMACK bit of the MCR register is not 0</span></div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="../../d5/d76/namespaceuavcan__kinetis.html#ae01cd2573fb57a50f8351844a3925810">   26</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> uavcan::int16_t <a class="code" href="../../d5/d76/namespaceuavcan__kinetis.html#ae01cd2573fb57a50f8351844a3925810">ErrMcrFRZACKAckNotSet</a>      = 1007; <span class="comment">///&lt; MCR_FRZACK bit of the MCR register is not 1</span></div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="../../d5/d76/namespaceuavcan__kinetis.html#a4256d0d374d368bf0c80d927bbdf569b">   27</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> uavcan::int16_t <a class="code" href="../../d5/d76/namespaceuavcan__kinetis.html#a4256d0d374d368bf0c80d927bbdf569b">ErrMcrFRZACKAckNotCleared</a>  = 1008; <span class="comment">///&lt; MCR_FRZACK bit of the MCR register is not 0</span></div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="../../d5/d76/namespaceuavcan__kinetis.html#a0b872cdd04e063df874cf4bc3f60e92e">   28</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> uavcan::int16_t <a class="code" href="../../d5/d76/namespaceuavcan__kinetis.html#a0b872cdd04e063df874cf4bc3f60e92e">ErrBitRateNotDetected</a>      = 1009; <span class="comment">///&lt; Auto bit rate detection could not be finished</span></div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="../../d5/d76/namespaceuavcan__kinetis.html#ad2ad08aac8ce864e9e30e3a811ab2bd0">   29</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> uavcan::int16_t <a class="code" href="../../d5/d76/namespaceuavcan__kinetis.html#ad2ad08aac8ce864e9e30e3a811ab2bd0">ErrFilterNumConfigs</a>        = 1010; <span class="comment">///&lt; Number of filters is more than supported</span></div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="../../d5/d76/namespaceuavcan__kinetis.html#a60cd1b43b5af0afc1a756b4a32899f3a">   30</a></span>&#160;<span class="comment"></span><span class="keyword">static</span> <span class="keyword">const</span> uavcan::int16_t <a class="code" href="../../d5/d76/namespaceuavcan__kinetis.html#a60cd1b43b5af0afc1a756b4a32899f3a">ErrMcrSOFTRSTNotCleared</a>    = 1011; <span class="comment">///&lt; MCR_SOFTRST bit of the MCR register is not 0</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"></span><span class="comment">/**</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> * RX queue item.</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"> * The application shall not use this directly.</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html">   35</a></span>&#160;<span class="keyword">struct </span><a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html">CanRxItem</a> {</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#a371aab45b157caa18ec23ec21d5a87b5">   36</a></span>&#160;    uavcan::uint64_t <a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#a371aab45b157caa18ec23ec21d5a87b5">utc_usec</a>;</div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#aa09f8e9951b7b3059a9b5b58fc0f6776">   37</a></span>&#160;    uavcan::CanFrame <a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#aa09f8e9951b7b3059a9b5b58fc0f6776">frame</a>;</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#affdbf1959a8ab66220d66d6b997ebfd2">   38</a></span>&#160;    uavcan::CanIOFlags <a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#affdbf1959a8ab66220d66d6b997ebfd2">flags</a>;</div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#a51053719c9f729f670bb6bba9ce6634a">   39</a></span>&#160;    <a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#a51053719c9f729f670bb6bba9ce6634a">CanRxItem</a>()</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        : utc_usec(0),</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;          flags(0)</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    }</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;};</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment"> * Single CAN iface.</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"> * The application shall not use this directly.</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html">   50</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html">CanIface</a> : <span class="keyword">public</span> uavcan::ICanIface</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    , uavcan::Noncopyable</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#ad946e26f3711626518d83910bc586f41">   53</a></span>&#160;    <span class="keyword">const</span> uavcan::uint32_t FIFO_IFLAG1 = <a class="code" href="../../d8/df4/namespaceuavcan__kinetis_1_1flexcan.html#a058f3264577f2572d25a79c6c42e2ce1">flexcan::CAN_FIFO_NE</a> | <a class="code" href="../../d8/df4/namespaceuavcan__kinetis_1_1flexcan.html#a56537bfab783eb060ac80ca4692c0155">flexcan::CAN_FIFO_WARN</a> | <a class="code" href="../../d8/df4/namespaceuavcan__kinetis_1_1flexcan.html#a27cd1ba7518bdc03c05e002c04e6d634">flexcan::CAN_FIFO_OV</a>;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html">   54</a></span>&#160;    <span class="keyword">class </span><a class="code" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html">RxQueue</a></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a23d79f619e16e99c5625afca330958a1">   56</a></span>&#160;        <a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html">CanRxItem</a> *<span class="keyword">const</span> <a class="code" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a23d79f619e16e99c5625afca330958a1">buf_</a>;</div><div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a0f63e5b29377ee0b803c322d190fc5fb">   57</a></span>&#160;        <span class="keyword">const</span> uavcan::uint8_t <a class="code" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a0f63e5b29377ee0b803c322d190fc5fb">capacity_</a>;</div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#aaf47b64d797857d2e75403a9b849520f">   58</a></span>&#160;        uavcan::uint8_t <a class="code" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#aaf47b64d797857d2e75403a9b849520f">in_</a>;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a3993d4b96bca59967d2f55f3b7994097">   59</a></span>&#160;        uavcan::uint8_t <a class="code" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a3993d4b96bca59967d2f55f3b7994097">out_</a>;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a4dffc94a737fcf5488f35390dd770b0b">   60</a></span>&#160;        uavcan::uint8_t <a class="code" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a4dffc94a737fcf5488f35390dd770b0b">len_</a>;</div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a69df749956fd2c83e93e442cd5d44556">   61</a></span>&#160;        uavcan::uint32_t <a class="code" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a69df749956fd2c83e93e442cd5d44556">overflow_cnt_</a>;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordtype">void</span> registerOverflow();</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a093bf3c3704efb78f8518665dce5c327">   66</a></span>&#160;        <a class="code" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a093bf3c3704efb78f8518665dce5c327">RxQueue</a>(<a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html">CanRxItem</a> *buf, uavcan::uint8_t capacity)</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            : buf_(buf),</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;              capacity_(capacity),</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;              in_(0),</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;              out_(0),</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;              len_(0),</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;              overflow_cnt_(0)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordtype">void</span> push(<span class="keyword">const</span> uavcan::CanFrame &amp;<a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#aa09f8e9951b7b3059a9b5b58fc0f6776">frame</a>, <span class="keyword">const</span> uint64_t &amp;<a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#a371aab45b157caa18ec23ec21d5a87b5">utc_usec</a>, uavcan::CanIOFlags <a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#affdbf1959a8ab66220d66d6b997ebfd2">flags</a>);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordtype">void</span> pop(uavcan::CanFrame &amp;out_frame, uavcan::uint64_t &amp;out_utc_usec, uavcan::CanIOFlags &amp;out_flags);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="../../d9/d4a/namespacelps22hb.html#a62b4635afb61929425ab4a9472893bca">reset</a>();</div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a321364373b5675b756ee779e94f69f5e">   80</a></span>&#160;        <span class="keywordtype">unsigned</span> <a class="code" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a321364373b5675b756ee779e94f69f5e">getLength</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">        </span>{</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">return</span> len_;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        }</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a3b9fb2f9ab20a70aaf439be7a90d9f2c">   85</a></span>&#160;        uavcan::uint32_t <a class="code" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a3b9fb2f9ab20a70aaf439be7a90d9f2c">getOverflowCount</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">        </span>{</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">return</span> overflow_cnt_;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    };</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html">   91</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html">Timings</a> {</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#a5ef7f0404817338113c531a6a5dbe147">   92</a></span>&#160;        uavcan::uint8_t <a class="code" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#a5ef7f0404817338113c531a6a5dbe147">prescaler</a>;</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#abf6fc1e089db4990ac89141b03b7f0dc">   93</a></span>&#160;        uavcan::uint8_t <a class="code" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#abf6fc1e089db4990ac89141b03b7f0dc">rjw</a>;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#a9228f46cac9ae7e2f86338b3234b2c8a">   94</a></span>&#160;        uavcan::uint8_t <a class="code" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#a9228f46cac9ae7e2f86338b3234b2c8a">pseg1</a>;</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#a0d958175e8681774dd3a598ff4253ed4">   95</a></span>&#160;        uavcan::uint8_t <a class="code" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#a0d958175e8681774dd3a598ff4253ed4">pseg2</a>;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#a72d68edef519dadf7eb4aec8558247cc">   96</a></span>&#160;        uavcan::uint8_t <a class="code" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#a72d68edef519dadf7eb4aec8558247cc">propseg</a>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#acf1b312d7fbd70bb270e95d831307aa3">   98</a></span>&#160;        <a class="code" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#acf1b312d7fbd70bb270e95d831307aa3">Timings</a>()</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            : prescaler(0),</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;              rjw(0),</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;              pseg1(0),</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;              pseg2(0),</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;              propseg(0)</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    };</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html">  108</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html">TxItem</a> {</div><div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#a45de6ea82109412bbb6dac8279cb96db">  109</a></span>&#160;        uavcan::MonotonicTime <a class="code" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#a45de6ea82109412bbb6dac8279cb96db">deadline</a>;</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#accf3aadc06e0334236f0b750b1518c19">  110</a></span>&#160;        uavcan::CanFrame <a class="code" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#accf3aadc06e0334236f0b750b1518c19">frame</a>;</div><div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#adf66d66c6a3ec74494e922f48e2e1af6a929f546537d7efcb8cae840de137587b">  111</a></span>&#160;        <span class="keyword">enum</span> {free = 0, busy, abort } pending;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#a2c0e3d7780fcb8bd1140a8855fd16044">  112</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#a2c0e3d7780fcb8bd1140a8855fd16044">loopback</a>;</div><div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#ae04ace56d09fb5822fe2e64da0a133d9">  113</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#ae04ace56d09fb5822fe2e64da0a133d9">abort_on_error</a>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#a40968f34e999fb1565916157a8955e78">  115</a></span>&#160;        <a class="code" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#a40968f34e999fb1565916157a8955e78">TxItem</a>()</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            : pending(free),</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;              loopback(false),</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;              abort_on_error(false)</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        }</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    };</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#af1cd5717edece37b3a2e3078d9e6ee84ac80462154f391de0dac6aec4a74fd228">  123</a></span>&#160;    <span class="keyword">enum</span> { NumTxMesgBuffers = 6 };</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a2887206afe911490ee4684b10e4469e9aaecb17e15feb2dfc3d50b5740408ddeb">  124</a></span>&#160;    <span class="keyword">enum</span> { NumFilters = 16 };</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a033a24db9f82108449734b03a5fd64a5">  126</a></span>&#160;    uavcan::uint8_t <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a033a24db9f82108449734b03a5fd64a5">MaxMB</a>;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a658bdcffce01be639bd64ca8822e7cf1">  128</a></span>&#160;    <a class="code" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html">RxQueue</a> <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a658bdcffce01be639bd64ca8822e7cf1">rx_queue_</a>;</div><div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#af090319e2d590481cc6c88c4fc709ea1">  129</a></span>&#160;    <a class="code" href="../../d6/d8a/structuavcan__kinetis_1_1flexcan_1_1_can_type.html">flexcan::CanType</a> *<span class="keyword">const</span> <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#af090319e2d590481cc6c88c4fc709ea1">can_</a>;</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#aa337c5b07d2d8ea1f43c10db7cbc3e65">  130</a></span>&#160;    uavcan::uint64_t <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#aa337c5b07d2d8ea1f43c10db7cbc3e65">error_cnt_</a>;</div><div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a74d9ebe1d85d98c022f84aaeeb35a295">  131</a></span>&#160;    uavcan::uint64_t <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a74d9ebe1d85d98c022f84aaeeb35a295">fifo_warn_cnt_</a>;</div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a8670064f18070ffcdddad24075957e20">  132</a></span>&#160;    uavcan::uint32_t <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a8670064f18070ffcdddad24075957e20">pending_aborts_</a>;</div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#ad8e3799c0751146dd9d81e0a303d2715">  133</a></span>&#160;    uavcan::uint32_t <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#ad8e3799c0751146dd9d81e0a303d2715">served_aborts_cnt_</a>;</div><div class="line"><a name="l00134"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#aa967a1d1c353a54822df910667ceb6cf">  134</a></span>&#160;    <a class="code" href="../../de/d13/classuavcan__kinetis_1_1_bus_event.html">BusEvent</a> &amp;<a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#aa967a1d1c353a54822df910667ceb6cf">update_event_</a>;</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#ad49d2453e5f0b3f0154ba7a63879eeea">  135</a></span>&#160;    <a class="code" href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html">TxItem</a> pending_tx_[NumTxMesgBuffers];</div><div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1842bc593cf546c4984afab027e4d667">  136</a></span>&#160;    uavcan::uint8_t <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1842bc593cf546c4984afab027e4d667">peak_tx_mailbox_index_</a>;</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a8957fbb23e935bd60b0c6736e5331e10">  137</a></span>&#160;    <span class="keyword">const</span> uavcan::uint8_t <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a8957fbb23e935bd60b0c6736e5331e10">self_index_</a>;</div><div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a5553d1447d1c22a9649fc8ef2cf78e33">  138</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a5553d1447d1c22a9649fc8ef2cf78e33">had_activity_</a>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordtype">int</span> computeTimings(uavcan::uint32_t target_bitrate, <a class="code" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html">Timings</a> &amp;out_timings);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keyword">virtual</span> uavcan::int16_t <a class="code" href="../../de/d5e/micro_r_t_p_s__client_8h.html#a8bdebb6bd33396ed279d17cfff4ab6f2">send</a>(<span class="keyword">const</span> uavcan::CanFrame &amp;<a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#aa09f8e9951b7b3059a9b5b58fc0f6776">frame</a>, uavcan::MonotonicTime tx_deadline,</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                     uavcan::CanIOFlags <a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#affdbf1959a8ab66220d66d6b997ebfd2">flags</a>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keyword">virtual</span> uavcan::int16_t receive(uavcan::CanFrame &amp;out_frame, uavcan::MonotonicTime &amp;out_ts_monotonic,</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    uavcan::UtcTime &amp;out_ts_utc, uavcan::CanIOFlags &amp;out_flags);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keyword">virtual</span> uavcan::int16_t configureFilters(<span class="keyword">const</span> uavcan::CanFilterConfig *filter_configs,</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            uavcan::uint16_t num_configs);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a17e1d4b04511648e47d05c803771db20">  151</a></span>&#160;    <span class="keyword">virtual</span> uavcan::uint16_t <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a17e1d4b04511648e47d05c803771db20">getNumFilters</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">return</span> NumFilters;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordtype">void</span> handleTxMailboxInterrupt(uavcan::uint8_t mailbox_index, <span class="keywordtype">bool</span> txok, uavcan::uint64_t <a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#a371aab45b157caa18ec23ec21d5a87b5">utc_usec</a>);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordtype">bool</span> waitMCRChange(uavcan::uint32_t mask, <span class="keywordtype">bool</span> target_state);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordtype">void</span> setMCR(uavcan::uint32_t mask, <span class="keywordtype">bool</span> target_state);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordtype">bool</span> setEnable(<span class="keywordtype">bool</span> enable_true);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    uavcan::int16_t doReset(<a class="code" href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html">Timings</a> timings);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordtype">bool</span> waitFreezeAckChange(<span class="keywordtype">bool</span> target_state);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordtype">void</span> setFreeze(<span class="keywordtype">bool</span> freeze_true);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a5612f586b6a596e9d0cbf7c1244da30ba6b7cd4b793f59376f5f82f132910e5cf">  167</a></span>&#160;    <span class="keyword">enum</span> { MaxRxQueueCapacity = 254 };</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5">  169</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5">OperatingMode</a> {</div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5a88e9cb39de79800e6f6f172455262a7a">  170</a></span>&#160;        <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5a88e9cb39de79800e6f6f172455262a7a">NormalMode</a>,</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5a9d5ea1f930d290f308b5e5f3942af9fe">  171</a></span>&#160;        SilentMode</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    };</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a98cddb6c1545aae7c7df6bce0d627e95">  174</a></span>&#160;    <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a98cddb6c1545aae7c7df6bce0d627e95">CanIface</a>(<a class="code" href="../../d6/d8a/structuavcan__kinetis_1_1flexcan_1_1_can_type.html">flexcan::CanType</a> *can, <a class="code" href="../../de/d13/classuavcan__kinetis_1_1_bus_event.html">BusEvent</a> &amp;update_event, uavcan::uint8_t self_index,</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;         <a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html">CanRxItem</a> *rx_queue_buffer, uavcan::uint8_t rx_queue_capacity)</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        : MaxMB(flexcan::<a class="code" href="../../d8/df4/namespaceuavcan__kinetis_1_1flexcan.html#aaac0d6f6fb7a9ebcc54c8af7db57076ba605c15b16ccc974b3459faf756485cdd">HWMaxMB</a>),</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;          rx_queue_(rx_queue_buffer, rx_queue_capacity),</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;          can_(can),</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;          error_cnt_(0),</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;          fifo_warn_cnt_(0),</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;          pending_aborts_(0),</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;          served_aborts_cnt_(0),</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;          update_event_(update_event),</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;          peak_tx_mailbox_index_(0),</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;          self_index_(self_index),</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;          had_activity_(false)</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        UAVCAN_ASSERT(self_index_ &lt; UAVCAN_KINETIS_NUM_IFACES);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">     * Initializes the hardware CAN controller.</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">     * Assumes:</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">     *   - Iface clock is enabled</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">     *   - Iface has been resetted via RCC</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">     *   - Caller will configure NVIC by itself</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dc/d43/namespace_tone_alarm_interface.html#a565a70f50ef50ec7d7d20351f32b9625">init</a>(<span class="keyword">const</span> uavcan::uint32_t bitrate, <span class="keyword">const</span> <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5">OperatingMode</a> <a class="code" href="../../dd/d64/vtol__type_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordtype">void</span> handleTxInterrupt(uavcan::uint32_t tx_iflags, uavcan::uint64_t utc_usec);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordtype">void</span> handleRxInterrupt(uavcan::uint32_t rx_iflags, uavcan::uint64_t utc_usec);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">     * This method is used to count errors and abort transmission on error if necessary.</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">     * This functionality used to be implemented in the SCE interrupt handler, but that approach was</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">     * generating too much processing overhead, especially on disconnected interfaces.</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">     * Should be called from RX ISR, TX ISR, and select(); interrupts must be enabled.</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordtype">void</span> pollErrorFlagsFromISR();</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordtype">void</span> discardTimedOutTxMailboxes(uavcan::MonotonicTime current_time);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordtype">bool</span> canAcceptNewTxFrame(<span class="keyword">const</span> uavcan::CanFrame &amp;<a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#aa09f8e9951b7b3059a9b5b58fc0f6776">frame</a>) <span class="keyword">const</span>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordtype">bool</span> isRxBufferEmpty() <span class="keyword">const</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">     * Number of RX frames lost due to queue overflow.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">     * This is an atomic read, it doesn&#39;t require a critical section.</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a22e06e63ed80844c5628c16062306e9c">  221</a></span>&#160;    uavcan::uint32_t <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a22e06e63ed80844c5628c16062306e9c">getRxQueueOverflowCount</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">return</span> rx_queue_.<a class="code" href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a3b9fb2f9ab20a70aaf439be7a90d9f2c">getOverflowCount</a>();</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">     * Total number of hardware failures and other kinds of errors (e.g. queue overruns).</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">     * May increase continuously if the interface is not connected to the bus.</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keyword">virtual</span> uavcan::uint64_t getErrorCount() <span class="keyword">const</span>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">     * Number of times the driver exercised library&#39;s requirement to abort transmission on first error.</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">     * This is an atomic read, it doesn&#39;t require a critical section.</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">     * See @ref uavcan::CanIOFlagAbortOnError.</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#aa09086531ca805edf58ec61774768246">  237</a></span>&#160;    uavcan::uint32_t <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#aa09086531ca805edf58ec61774768246">getVoluntaryTxAbortCount</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">return</span> served_aborts_cnt_;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">     * Returns the number of frames pending in the RX queue.</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">     * This is intended for debug use only.</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordtype">unsigned</span> getRxQueueLength() <span class="keyword">const</span>;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">     * Whether this iface had at least one successful IO since the previous call of this method.</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">     * This is designed for use with iface activity LEDs.</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keywordtype">bool</span> hadActivity();</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">     * Peak number of TX mailboxes used concurrently since initialization.</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="comment">     * Range is [1, 3].</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="comment">     * Value of 3 suggests that priority inversion could be taking place.</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a4d5b77edc59bbe40da9b219287ad492e">  259</a></span>&#160;    uavcan::uint8_t <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a4d5b77edc59bbe40da9b219287ad492e">getPeakNumTxMailboxesUsed</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">return</span> uavcan::uint8_t(peak_tx_mailbox_index_ + 1);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    }</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;};</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment"> * CAN driver, incorporates all available CAN ifaces.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment"> * Please avoid direct use, prefer @ref CanInitHelper instead.</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html">  269</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html">CanDriver</a> : <span class="keyword">public</span> uavcan::ICanDriver</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    , uavcan::Noncopyable</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;{</div><div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#a1d5d0f7d63531d791fc0ecef8693b3fd">  272</a></span>&#160;    <a class="code" href="../../de/d13/classuavcan__kinetis_1_1_bus_event.html">BusEvent</a> <a class="code" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#a1d5d0f7d63531d791fc0ecef8693b3fd">update_event_</a>;</div><div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#ae8bf6ada37c0c347f122d73326af1139">  273</a></span>&#160;    <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html">CanIface</a> <a class="code" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#ae8bf6ada37c0c347f122d73326af1139">if0_</a>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="preprocessor">#if UAVCAN_KINETIS_NUM_IFACES &gt; 1</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html">CanIface</a> if1_;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keyword">virtual</span> uavcan::int16_t select(uavcan::CanSelectMasks &amp;inout_masks,</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                       <span class="keyword">const</span> uavcan::CanFrame * (&amp;pending_tx)[uavcan::MaxCanIfaces],</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                       uavcan::MonotonicTime blocking_deadline);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> initOnce();</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keyword">template</span> &lt;<span class="keywordtype">unsigned</span> RxQueueCapacity&gt;</div><div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#a1e0b4668e6fe98126b947f5e40e5b7d5">  286</a></span>&#160;    <a class="code" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#a1e0b4668e6fe98126b947f5e40e5b7d5">CanDriver</a>(<a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#a51053719c9f729f670bb6bba9ce6634a">CanRxItem</a>(&amp;rx_queue_storage)[UAVCAN_KINETIS_NUM_IFACES][RxQueueCapacity])</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        : update_event_(*this),</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;          if0_(flexcan::<a class="code" href="../../d8/df4/namespaceuavcan__kinetis_1_1flexcan.html#abda5dcbc521259fa317b1950567b4a21">Can</a>[0], update_event_, 0, rx_queue_storage[0], RxQueueCapacity)</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;#if UAVCAN_KINETIS_NUM_IFACES &gt; 1</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        , if1_(flexcan::<a class="code" href="../../d8/df4/namespaceuavcan__kinetis_1_1flexcan.html#abda5dcbc521259fa317b1950567b4a21">Can</a>[1], update_event_, 1, rx_queue_storage[1], RxQueueCapacity)</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;#endif</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        uavcan::StaticAssert &lt; (RxQueueCapacity &lt;= CanIface::MaxRxQueueCapacity) &gt;::check();</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="comment">     * This function returns select masks indicating which interfaces are available for read/write.</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    uavcan::CanSelectMasks makeSelectMasks(<span class="keyword">const</span> uavcan::CanFrame * (&amp;pending_tx)[uavcan::MaxCanIfaces]) <span class="keyword">const</span>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">     * Whether there&#39;s at least one interface where receive() would return a frame.</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">bool</span> hasReadableInterfaces() <span class="keyword">const</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">     * Returns zero if OK.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">     * Returns negative value if failed (e.g. invalid bitrate).</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../dc/d43/namespace_tone_alarm_interface.html#a565a70f50ef50ec7d7d20351f32b9625">init</a>(<span class="keyword">const</span> uavcan::uint32_t bitrate, <span class="keyword">const</span> <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5">CanIface::OperatingMode</a> <a class="code" href="../../dd/d64/vtol__type_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keyword">virtual</span> <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html">CanIface</a> *getIface(uavcan::uint8_t iface_index);</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#af54002d5132e5d044b77213a600f8849">  314</a></span>&#160;    <span class="keyword">virtual</span> uavcan::uint8_t <a class="code" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#af54002d5132e5d044b77213a600f8849">getNumIfaces</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">return</span> UAVCAN_KINETIS_NUM_IFACES;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">     * Whether at least one iface had at least one successful IO since previous call of this method.</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">     * This is designed for use with iface activity LEDs.</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordtype">bool</span> hadActivity();</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#aedaa78d567823ffa1f216b6e4e93a2e2">  325</a></span>&#160;    <a class="code" href="../../de/d13/classuavcan__kinetis_1_1_bus_event.html">BusEvent</a> &amp;<a class="code" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#aedaa78d567823ffa1f216b6e4e93a2e2">updateEvent</a>() { <span class="keywordflow">return</span> update_event_; }</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;};</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">/**</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment"> * Helper class.</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment"> * Normally only this class should be used by the application.</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment"> * 145 usec per Extended CAN frame @ 1 Mbps, e.g. 32 RX slots * 145 usec --&gt; 4.6 msec before RX queue overruns.</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">unsigned</span> RxQueueCapacity = 128&gt;</div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html">  334</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html">CanInitHelper</a></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;{</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#af17e6525b24bbda97bf8dfc0040918c0">  336</a></span>&#160;    <a class="code" href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html">CanRxItem</a> queue_storage_[UAVCAN_KINETIS_NUM_IFACES][RxQueueCapacity];</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#a7d92a24e8c051558a1fe5cbae236f6d3a6a9bd2298549eef6cdc53ca37b327111">  339</a></span>&#160;    <span class="keyword">enum</span> { BitRateAutoDetect = 0 };</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#a5f216cea0ac1882dad4ed3c7da690d9a">  341</a></span>&#160;    <a class="code" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html">CanDriver</a> <a class="code" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#a5f216cea0ac1882dad4ed3c7da690d9a">driver</a>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#a73f6a36028f5e6bc5faa21ac1a4c8440">  343</a></span>&#160;    <a class="code" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#a73f6a36028f5e6bc5faa21ac1a4c8440">CanInitHelper</a>() :</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        driver(queue_storage_)</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    {</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">     * This overload simply configures the provided bitrate.</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">     * Auto bit rate detection will not be performed.</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">     * Bitrate value must be positive.</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">     * @return  Negative value on error; non-negative on success. Refer to constants Err*.</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#afc07dbcf8a827b08cd9f6dd110769dc9">  354</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#afc07dbcf8a827b08cd9f6dd110769dc9">init</a>(uavcan::uint32_t bitrate)</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">return</span> driver.<a class="code" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#afee7fdd436e4aaf043e3a7348143345c">init</a>(bitrate, <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5a88e9cb39de79800e6f6f172455262a7a">CanIface::NormalMode</a>);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">     * This function can either initialize the driver at a fixed bit rate, or it can perform</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">     * automatic bit rate detection. For theory please refer to the CiA application note #801.</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">     * @param delay_callable    A callable entity that suspends execution for strictly more than one second.</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">     *                          The callable entity will be invoked without arguments.</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">     *                          @ref getRecommendedListeningDelay().</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">     * @param inout_bitrate     Fixed bit rate or zero. Zero invokes the bit rate detection process.</span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">     *                          If auto detection was used, the function will update the argument</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">     *                          with established bit rate. In case of an error the value will be undefined.</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">     *</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">     * @return                  Negative value on error; non-negative on success. Refer to constants Err*.</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> DelayCallable&gt;</div><div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#ad0855dbfa82e5e7c0dc7c5c361470d3f">  374</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#ad0855dbfa82e5e7c0dc7c5c361470d3f">init</a>(DelayCallable delay_callable, uavcan::uint32_t &amp;inout_bitrate = BitRateAutoDetect)</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">if</span> (inout_bitrate &gt; 0) {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">return</span> driver.<a class="code" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#afee7fdd436e4aaf043e3a7348143345c">init</a>(inout_bitrate, <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5a88e9cb39de79800e6f6f172455262a7a">CanIface::NormalMode</a>);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keyword">static</span> <span class="keyword">const</span> uavcan::uint32_t StandardBitRates[] = {</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                1000000,</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                500000,</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                250000,</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                125000</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            };</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="keywordflow">for</span> (uavcan::uint8_t br = 0; br &lt; <span class="keyword">sizeof</span>(StandardBitRates) / <span class="keyword">sizeof</span>(StandardBitRates[0]); br++) {</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                inout_bitrate = StandardBitRates[br];</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> res = driver.<a class="code" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#afee7fdd436e4aaf043e3a7348143345c">init</a>(inout_bitrate, <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5a9d5ea1f930d290f308b5e5f3942af9fe">CanIface::SilentMode</a>);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                delay_callable();</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                <span class="keywordflow">if</span> (res &gt;= 0) {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                    <span class="keywordflow">for</span> (uavcan::uint8_t iface = 0; iface &lt; driver.<a class="code" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#af54002d5132e5d044b77213a600f8849">getNumIfaces</a>(); iface++) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                        <span class="keywordflow">if</span> (!driver.<a class="code" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#ac0cc7ec2eb35fb908f6d04ae216375f5">getIface</a>(iface)-&gt;<a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a6e83546206973883eaeb3ee502836895">isRxBufferEmpty</a>()) {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                            <span class="comment">// Re-initializing in normal mode</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                            <span class="keywordflow">return</span> driver.<a class="code" href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#afee7fdd436e4aaf043e3a7348143345c">init</a>(inout_bitrate, <a class="code" href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5a88e9cb39de79800e6f6f172455262a7a">CanIface::NormalMode</a>);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                        }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <span class="keywordflow">return</span> -<a class="code" href="../../d5/d76/namespaceuavcan__kinetis.html#a0b872cdd04e063df874cf4bc3f60e92e">ErrBitRateNotDetected</a>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="comment">    /**</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="comment">     * Use this value for listening delay during automatic bit rate detection.</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#a8f4698e163a88bd3fb50976b88859226">  411</a></span>&#160;    <span class="keyword">static</span> uavcan::MonotonicDuration <a class="code" href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#a8f4698e163a88bd3fb50976b88859226">getRecommendedListeningDelay</a>()</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">return</span> uavcan::MonotonicDuration::fromMSec(1050);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;};</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;}</div><div class="ttc" id="classuavcan__kinetis_1_1_can_driver_html_afee7fdd436e4aaf043e3a7348143345c"><div class="ttname"><a href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#afee7fdd436e4aaf043e3a7348143345c">uavcan_kinetis::CanDriver::init</a></div><div class="ttdeci">int init(const uavcan::uint32_t bitrate, const CanIface::OperatingMode mode)</div><div class="ttdoc">Returns zero if OK. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d2e/uc__kinetis__flexcan_8cpp_source.html#l00919">uc_kinetis_flexcan.cpp:919</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_init_helper_html_ad0855dbfa82e5e7c0dc7c5c361470d3f"><div class="ttname"><a href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#ad0855dbfa82e5e7c0dc7c5c361470d3f">uavcan_kinetis::CanInitHelper::init</a></div><div class="ttdeci">int init(DelayCallable delay_callable, uavcan::uint32_t &amp;inout_bitrate=BitRateAutoDetect)</div><div class="ttdoc">This function can either initialize the driver at a fixed bit rate, or it can perform automatic bit r...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00374">can.hpp:374</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a658bdcffce01be639bd64ca8822e7cf1"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a658bdcffce01be639bd64ca8822e7cf1">uavcan_kinetis::CanIface::rx_queue_</a></div><div class="ttdeci">RxQueue rx_queue_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00128">can.hpp:128</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a1c5a6930806ea35a152fe1b654272ff5"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5">uavcan_kinetis::CanIface::OperatingMode</a></div><div class="ttdeci">OperatingMode</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00169">can.hpp:169</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_driver_html_af54002d5132e5d044b77213a600f8849"><div class="ttname"><a href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#af54002d5132e5d044b77213a600f8849">uavcan_kinetis::CanDriver::getNumIfaces</a></div><div class="ttdeci">virtual uavcan::uint8_t getNumIfaces() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00314">can.hpp:314</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_1_1_rx_queue_html_aaf47b64d797857d2e75403a9b849520f"><div class="ttname"><a href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#aaf47b64d797857d2e75403a9b849520f">uavcan_kinetis::CanIface::RxQueue::in_</a></div><div class="ttdeci">uavcan::uint8_t in_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00058">can.hpp:58</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_1_1_rx_queue_html"><div class="ttname"><a href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html">uavcan_kinetis::CanIface::RxQueue</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00054">can.hpp:54</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a98cddb6c1545aae7c7df6bce0d627e95"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a98cddb6c1545aae7c7df6bce0d627e95">uavcan_kinetis::CanIface::CanIface</a></div><div class="ttdeci">CanIface(flexcan::CanType *can, BusEvent &amp;update_event, uavcan::uint8_t self_index, CanRxItem *rx_queue_buffer, uavcan::uint8_t rx_queue_capacity)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00174">can.hpp:174</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_html_ae01cd2573fb57a50f8351844a3925810"><div class="ttname"><a href="../../d5/d76/namespaceuavcan__kinetis.html#ae01cd2573fb57a50f8351844a3925810">uavcan_kinetis::ErrMcrFRZACKAckNotSet</a></div><div class="ttdeci">static const uavcan::int16_t ErrMcrFRZACKAckNotSet</div><div class="ttdoc">MCR_FRZACK bit of the MCR register is not 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00026">can.hpp:26</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_1_1_rx_queue_html_a321364373b5675b756ee779e94f69f5e"><div class="ttname"><a href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a321364373b5675b756ee779e94f69f5e">uavcan_kinetis::CanIface::RxQueue::getLength</a></div><div class="ttdeci">unsigned getLength() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00080">can.hpp:80</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_init_helper_html_afc07dbcf8a827b08cd9f6dd110769dc9"><div class="ttname"><a href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#afc07dbcf8a827b08cd9f6dd110769dc9">uavcan_kinetis::CanInitHelper::init</a></div><div class="ttdeci">int init(uavcan::uint32_t bitrate)</div><div class="ttdoc">This overload simply configures the provided bitrate. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00354">can.hpp:354</a></div></div>
<div class="ttc" id="micro_r_t_p_s__client_8h_html_a8bdebb6bd33396ed279d17cfff4ab6f2"><div class="ttname"><a href="../../de/d5e/micro_r_t_p_s__client_8h.html#a8bdebb6bd33396ed279d17cfff4ab6f2">send</a></div><div class="ttdeci">void * send(void *data)</div></div>
<div class="ttc" id="namespaceuavcan__kinetis_html"><div class="ttname"><a href="../../d5/d76/namespaceuavcan__kinetis.html">uavcan_kinetis</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00013">can.hpp:13</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a4d5b77edc59bbe40da9b219287ad492e"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a4d5b77edc59bbe40da9b219287ad492e">uavcan_kinetis::CanIface::getPeakNumTxMailboxesUsed</a></div><div class="ttdeci">uavcan::uint8_t getPeakNumTxMailboxesUsed() const</div><div class="ttdoc">Peak number of TX mailboxes used concurrently since initialization. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00259">can.hpp:259</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_html_a6d779e6990df17e3cdbe923cf01e0adb"><div class="ttname"><a href="../../d5/d76/namespaceuavcan__kinetis.html#a6d779e6990df17e3cdbe923cf01e0adb">uavcan_kinetis::ErrNotImplemented</a></div><div class="ttdeci">static const uavcan::int16_t ErrNotImplemented</div><div class="ttdoc">Driver error codes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00020">can.hpp:20</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_ad8e3799c0751146dd9d81e0a303d2715"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#ad8e3799c0751146dd9d81e0a303d2715">uavcan_kinetis::CanIface::served_aborts_cnt_</a></div><div class="ttdeci">uavcan::uint32_t served_aborts_cnt_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00133">can.hpp:133</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a1c5a6930806ea35a152fe1b654272ff5a88e9cb39de79800e6f6f172455262a7a"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5a88e9cb39de79800e6f6f172455262a7a">uavcan_kinetis::CanIface::NormalMode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00170">can.hpp:170</a></div></div>
<div class="ttc" id="namespacelps22hb_html_a62b4635afb61929425ab4a9472893bca"><div class="ttname"><a href="../../d9/d4a/namespacelps22hb.html#a62b4635afb61929425ab4a9472893bca">lps22hb::reset</a></div><div class="ttdeci">int reset(enum LPS22HB_BUS busid)</div><div class="ttdoc">Reset the driver. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d68/lps22hb__main_8cpp_source.html#l00182">lps22hb_main.cpp:182</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_init_helper_html_a8f4698e163a88bd3fb50976b88859226"><div class="ttname"><a href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#a8f4698e163a88bd3fb50976b88859226">uavcan_kinetis::CanInitHelper::getRecommendedListeningDelay</a></div><div class="ttdeci">static uavcan::MonotonicDuration getRecommendedListeningDelay()</div><div class="ttdoc">Use this value for listening delay during automatic bit rate detection. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00411">can.hpp:411</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_1_1flexcan_html_a058f3264577f2572d25a79c6c42e2ce1"><div class="ttname"><a href="../../d8/df4/namespaceuavcan__kinetis_1_1flexcan.html#a058f3264577f2572d25a79c6c42e2ce1">uavcan_kinetis::flexcan::CAN_FIFO_NE</a></div><div class="ttdeci">constexpr unsigned long CAN_FIFO_NE</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/flexcan_8hpp_source.html#l00519">flexcan.hpp:519</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a5553d1447d1c22a9649fc8ef2cf78e33"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a5553d1447d1c22a9649fc8ef2cf78e33">uavcan_kinetis::CanIface::had_activity_</a></div><div class="ttdeci">bool had_activity_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00138">can.hpp:138</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_1_1_rx_queue_html_a69df749956fd2c83e93e442cd5d44556"><div class="ttname"><a href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a69df749956fd2c83e93e442cd5d44556">uavcan_kinetis::CanIface::RxQueue::overflow_cnt_</a></div><div class="ttdeci">uavcan::uint32_t overflow_cnt_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00061">can.hpp:61</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_iface_1_1_timings_html_abf6fc1e089db4990ac89141b03b7f0dc"><div class="ttname"><a href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#abf6fc1e089db4990ac89141b03b7f0dc">uavcan_kinetis::CanIface::Timings::rjw</a></div><div class="ttdeci">uavcan::uint8_t rjw</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00093">can.hpp:93</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_init_helper_html"><div class="ttname"><a href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html">uavcan_kinetis::CanInitHelper</a></div><div class="ttdoc">Helper class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00334">can.hpp:334</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_iface_1_1_timings_html_a0d958175e8681774dd3a598ff4253ed4"><div class="ttname"><a href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#a0d958175e8681774dd3a598ff4253ed4">uavcan_kinetis::CanIface::Timings::pseg2</a></div><div class="ttdeci">uavcan::uint8_t pseg2</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00095">can.hpp:95</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1flexcan_1_1_can_type_html"><div class="ttname"><a href="../../d6/d8a/structuavcan__kinetis_1_1flexcan_1_1_can_type.html">uavcan_kinetis::flexcan::CanType</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/flexcan_8hpp_source.html#l00135">flexcan.hpp:135</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_iface_1_1_tx_item_html_a45de6ea82109412bbb6dac8279cb96db"><div class="ttname"><a href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#a45de6ea82109412bbb6dac8279cb96db">uavcan_kinetis::CanIface::TxItem::deadline</a></div><div class="ttdeci">uavcan::MonotonicTime deadline</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00109">can.hpp:109</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_init_helper_html_a73f6a36028f5e6bc5faa21ac1a4c8440"><div class="ttname"><a href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#a73f6a36028f5e6bc5faa21ac1a4c8440">uavcan_kinetis::CanInitHelper::CanInitHelper</a></div><div class="ttdeci">CanInitHelper()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00343">can.hpp:343</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a033a24db9f82108449734b03a5fd64a5"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a033a24db9f82108449734b03a5fd64a5">uavcan_kinetis::CanIface::MaxMB</a></div><div class="ttdeci">uavcan::uint8_t MaxMB</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00126">can.hpp:126</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_iface_1_1_timings_html_a5ef7f0404817338113c531a6a5dbe147"><div class="ttname"><a href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#a5ef7f0404817338113c531a6a5dbe147">uavcan_kinetis::CanIface::Timings::prescaler</a></div><div class="ttdeci">uavcan::uint8_t prescaler</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00092">can.hpp:92</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_rx_item_html"><div class="ttname"><a href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html">uavcan_kinetis::CanRxItem</a></div><div class="ttdoc">RX queue item. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00035">can.hpp:35</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_1_1flexcan_html_aaac0d6f6fb7a9ebcc54c8af7db57076ba605c15b16ccc974b3459faf756485cdd"><div class="ttname"><a href="../../d8/df4/namespaceuavcan__kinetis_1_1flexcan.html#aaac0d6f6fb7a9ebcc54c8af7db57076ba605c15b16ccc974b3459faf756485cdd">uavcan_kinetis::flexcan::HWMaxMB</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/flexcan_8hpp_source.html#l00027">flexcan.hpp:27</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_1_1_rx_queue_html_a093bf3c3704efb78f8518665dce5c327"><div class="ttname"><a href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a093bf3c3704efb78f8518665dce5c327">uavcan_kinetis::CanIface::RxQueue::RxQueue</a></div><div class="ttdeci">RxQueue(CanRxItem *buf, uavcan::uint8_t capacity)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00066">can.hpp:66</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_af090319e2d590481cc6c88c4fc709ea1"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#af090319e2d590481cc6c88c4fc709ea1">uavcan_kinetis::CanIface::can_</a></div><div class="ttdeci">flexcan::CanType *const can_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00129">can.hpp:129</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_driver_html"><div class="ttname"><a href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html">uavcan_kinetis::CanDriver</a></div><div class="ttdoc">CAN driver, incorporates all available CAN ifaces. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00269">can.hpp:269</a></div></div>
<div class="ttc" id="namespace_tone_alarm_interface_html_a565a70f50ef50ec7d7d20351f32b9625"><div class="ttname"><a href="../../dc/d43/namespace_tone_alarm_interface.html#a565a70f50ef50ec7d7d20351f32b9625">ToneAlarmInterface::init</a></div><div class="ttdeci">void init()</div><div class="ttdoc">Activates/configures the hardware registers. </div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a1c5a6930806ea35a152fe1b654272ff5a9d5ea1f930d290f308b5e5f3942af9fe"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1c5a6930806ea35a152fe1b654272ff5a9d5ea1f930d290f308b5e5f3942af9fe">uavcan_kinetis::CanIface::SilentMode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00171">can.hpp:171</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_1_1_rx_queue_html_a23d79f619e16e99c5625afca330958a1"><div class="ttname"><a href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a23d79f619e16e99c5625afca330958a1">uavcan_kinetis::CanIface::RxQueue::buf_</a></div><div class="ttdeci">CanRxItem *const buf_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00056">can.hpp:56</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a74d9ebe1d85d98c022f84aaeeb35a295"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a74d9ebe1d85d98c022f84aaeeb35a295">uavcan_kinetis::CanIface::fifo_warn_cnt_</a></div><div class="ttdeci">uavcan::uint64_t fifo_warn_cnt_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00131">can.hpp:131</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a1842bc593cf546c4984afab027e4d667"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a1842bc593cf546c4984afab027e4d667">uavcan_kinetis::CanIface::peak_tx_mailbox_index_</a></div><div class="ttdeci">uavcan::uint8_t peak_tx_mailbox_index_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00136">can.hpp:136</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_iface_1_1_tx_item_html_ae04ace56d09fb5822fe2e64da0a133d9"><div class="ttname"><a href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#ae04ace56d09fb5822fe2e64da0a133d9">uavcan_kinetis::CanIface::TxItem::abort_on_error</a></div><div class="ttdeci">bool abort_on_error</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00113">can.hpp:113</a></div></div>
<div class="ttc" id="kinetis_2driver_2include_2uavcan__kinetis_2thread_8hpp_html"><div class="ttname"><a href="../../da/d8b/kinetis_2driver_2include_2uavcan__kinetis_2thread_8hpp.html">thread.hpp</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_driver_html_a1e0b4668e6fe98126b947f5e40e5b7d5"><div class="ttname"><a href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#a1e0b4668e6fe98126b947f5e40e5b7d5">uavcan_kinetis::CanDriver::CanDriver</a></div><div class="ttdeci">CanDriver(CanRxItem(&amp;rx_queue_storage)[UAVCAN_KINETIS_NUM_IFACES][RxQueueCapacity])</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00286">can.hpp:286</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_iface_1_1_timings_html_a9228f46cac9ae7e2f86338b3234b2c8a"><div class="ttname"><a href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#a9228f46cac9ae7e2f86338b3234b2c8a">uavcan_kinetis::CanIface::Timings::pseg1</a></div><div class="ttdeci">uavcan::uint8_t pseg1</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00094">can.hpp:94</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_1_1_rx_queue_html_a4dffc94a737fcf5488f35390dd770b0b"><div class="ttname"><a href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a4dffc94a737fcf5488f35390dd770b0b">uavcan_kinetis::CanIface::RxQueue::len_</a></div><div class="ttdeci">uavcan::uint8_t len_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00060">can.hpp:60</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_iface_1_1_tx_item_html_a2c0e3d7780fcb8bd1140a8855fd16044"><div class="ttname"><a href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#a2c0e3d7780fcb8bd1140a8855fd16044">uavcan_kinetis::CanIface::TxItem::loopback</a></div><div class="ttdeci">bool loopback</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00112">can.hpp:112</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_html_a60cd1b43b5af0afc1a756b4a32899f3a"><div class="ttname"><a href="../../d5/d76/namespaceuavcan__kinetis.html#a60cd1b43b5af0afc1a756b4a32899f3a">uavcan_kinetis::ErrMcrSOFTRSTNotCleared</a></div><div class="ttdeci">static const uavcan::int16_t ErrMcrSOFTRSTNotCleared</div><div class="ttdoc">MCR_SOFTRST bit of the MCR register is not 0. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00030">can.hpp:30</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html">uavcan_kinetis::CanIface</a></div><div class="ttdoc">Single CAN iface. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00050">can.hpp:50</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_driver_html_ac0cc7ec2eb35fb908f6d04ae216375f5"><div class="ttname"><a href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#ac0cc7ec2eb35fb908f6d04ae216375f5">uavcan_kinetis::CanDriver::getIface</a></div><div class="ttdeci">virtual CanIface * getIface(uavcan::uint8_t iface_index)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d2e/uc__kinetis__flexcan_8cpp_source.html#l00972">uc_kinetis_flexcan.cpp:972</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_rx_item_html_affdbf1959a8ab66220d66d6b997ebfd2"><div class="ttname"><a href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#affdbf1959a8ab66220d66d6b997ebfd2">uavcan_kinetis::CanRxItem::flags</a></div><div class="ttdeci">uavcan::CanIOFlags flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00038">can.hpp:38</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_init_helper_html_a5f216cea0ac1882dad4ed3c7da690d9a"><div class="ttname"><a href="../../d4/d49/classuavcan__kinetis_1_1_can_init_helper.html#a5f216cea0ac1882dad4ed3c7da690d9a">uavcan_kinetis::CanInitHelper::driver</a></div><div class="ttdeci">CanDriver driver</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00341">can.hpp:341</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_aa967a1d1c353a54822df910667ceb6cf"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#aa967a1d1c353a54822df910667ceb6cf">uavcan_kinetis::CanIface::update_event_</a></div><div class="ttdeci">BusEvent &amp; update_event_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00134">can.hpp:134</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a8957fbb23e935bd60b0c6736e5331e10"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a8957fbb23e935bd60b0c6736e5331e10">uavcan_kinetis::CanIface::self_index_</a></div><div class="ttdeci">const uavcan::uint8_t self_index_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00137">can.hpp:137</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_1_1_rx_queue_html_a3993d4b96bca59967d2f55f3b7994097"><div class="ttname"><a href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a3993d4b96bca59967d2f55f3b7994097">uavcan_kinetis::CanIface::RxQueue::out_</a></div><div class="ttdeci">uavcan::uint8_t out_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00059">can.hpp:59</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a8670064f18070ffcdddad24075957e20"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a8670064f18070ffcdddad24075957e20">uavcan_kinetis::CanIface::pending_aborts_</a></div><div class="ttdeci">uavcan::uint32_t pending_aborts_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00132">can.hpp:132</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_html_a0b872cdd04e063df874cf4bc3f60e92e"><div class="ttname"><a href="../../d5/d76/namespaceuavcan__kinetis.html#a0b872cdd04e063df874cf4bc3f60e92e">uavcan_kinetis::ErrBitRateNotDetected</a></div><div class="ttdeci">static const uavcan::int16_t ErrBitRateNotDetected</div><div class="ttdoc">Auto bit rate detection could not be finished. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00028">can.hpp:28</a></div></div>
<div class="ttc" id="kinetis_2driver_2include_2uavcan__kinetis_2build__config_8hpp_html"><div class="ttname"><a href="../../d8/dca/kinetis_2driver_2include_2uavcan__kinetis_2build__config_8hpp.html">build_config.hpp</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_1_1flexcan_html_abda5dcbc521259fa317b1950567b4a21"><div class="ttname"><a href="../../d8/df4/namespaceuavcan__kinetis_1_1flexcan.html#abda5dcbc521259fa317b1950567b4a21">uavcan_kinetis::flexcan::Can</a></div><div class="ttdeci">CanType *const Can[UAVCAN_KINETIS_NUM_IFACES]</div><div class="ttdoc">CANx register sets. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/flexcan_8hpp_source.html#l00198">flexcan.hpp:198</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_1_1_rx_queue_html_a0f63e5b29377ee0b803c322d190fc5fb"><div class="ttname"><a href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a0f63e5b29377ee0b803c322d190fc5fb">uavcan_kinetis::CanIface::RxQueue::capacity_</a></div><div class="ttdeci">const uavcan::uint8_t capacity_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00057">can.hpp:57</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_html_af30eb78f7826ccfbdc18b33ed6e6067f"><div class="ttname"><a href="../../d5/d76/namespaceuavcan__kinetis.html#af30eb78f7826ccfbdc18b33ed6e6067f">uavcan_kinetis::ErrMcrLPMAckNotSet</a></div><div class="ttdeci">static const uavcan::int16_t ErrMcrLPMAckNotSet</div><div class="ttdoc">MCR_LPMACK bit of the MCR register is not 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00024">can.hpp:24</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_iface_1_1_timings_html_a72d68edef519dadf7eb4aec8558247cc"><div class="ttname"><a href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#a72d68edef519dadf7eb4aec8558247cc">uavcan_kinetis::CanIface::Timings::propseg</a></div><div class="ttdeci">uavcan::uint8_t propseg</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00096">can.hpp:96</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_html_adbdd7e41267d5b665785575912da7894"><div class="ttname"><a href="../../d5/d76/namespaceuavcan__kinetis.html#adbdd7e41267d5b665785575912da7894">uavcan_kinetis::ErrUnsupportedFrame</a></div><div class="ttdeci">static const uavcan::int16_t ErrUnsupportedFrame</div><div class="ttdoc">Frame not supported (e.g. RTR, CAN FD, etc) </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00023">can.hpp:23</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_html_a4256d0d374d368bf0c80d927bbdf569b"><div class="ttname"><a href="../../d5/d76/namespaceuavcan__kinetis.html#a4256d0d374d368bf0c80d927bbdf569b">uavcan_kinetis::ErrMcrFRZACKAckNotCleared</a></div><div class="ttdeci">static const uavcan::int16_t ErrMcrFRZACKAckNotCleared</div><div class="ttdoc">MCR_FRZACK bit of the MCR register is not 0. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00027">can.hpp:27</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_iface_1_1_timings_html_acf1b312d7fbd70bb270e95d831307aa3"><div class="ttname"><a href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html#acf1b312d7fbd70bb270e95d831307aa3">uavcan_kinetis::CanIface::Timings::Timings</a></div><div class="ttdeci">Timings()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00098">can.hpp:98</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_iface_1_1_tx_item_html_a40968f34e999fb1565916157a8955e78"><div class="ttname"><a href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#a40968f34e999fb1565916157a8955e78">uavcan_kinetis::CanIface::TxItem::TxItem</a></div><div class="ttdeci">TxItem()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00115">can.hpp:115</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_rx_item_html_aa09f8e9951b7b3059a9b5b58fc0f6776"><div class="ttname"><a href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#aa09f8e9951b7b3059a9b5b58fc0f6776">uavcan_kinetis::CanRxItem::frame</a></div><div class="ttdeci">uavcan::CanFrame frame</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00037">can.hpp:37</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_iface_1_1_tx_item_html_accf3aadc06e0334236f0b750b1518c19"><div class="ttname"><a href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html#accf3aadc06e0334236f0b750b1518c19">uavcan_kinetis::CanIface::TxItem::frame</a></div><div class="ttdeci">uavcan::CanFrame frame</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00110">can.hpp:110</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_bus_event_html"><div class="ttname"><a href="../../de/d13/classuavcan__kinetis_1_1_bus_event.html">uavcan_kinetis::BusEvent</a></div><div class="ttdoc">All bus events are reported as POLLIN. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8b/kinetis_2driver_2include_2uavcan__kinetis_2thread_8hpp_source.html#l00029">thread.hpp:29</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a6e83546206973883eaeb3ee502836895"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a6e83546206973883eaeb3ee502836895">uavcan_kinetis::CanIface::isRxBufferEmpty</a></div><div class="ttdeci">bool isRxBufferEmpty() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d2e/uc__kinetis__flexcan_8cpp_source.html#l00787">uc_kinetis_flexcan.cpp:787</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a22e06e63ed80844c5628c16062306e9c"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a22e06e63ed80844c5628c16062306e9c">uavcan_kinetis::CanIface::getRxQueueOverflowCount</a></div><div class="ttdeci">uavcan::uint32_t getRxQueueOverflowCount() const</div><div class="ttdoc">Number of RX frames lost due to queue overflow. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00221">can.hpp:221</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_driver_html_a1d5d0f7d63531d791fc0ecef8693b3fd"><div class="ttname"><a href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#a1d5d0f7d63531d791fc0ecef8693b3fd">uavcan_kinetis::CanDriver::update_event_</a></div><div class="ttdeci">BusEvent update_event_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00272">can.hpp:272</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_html_a31d49d7201ba30d996506342a3d6c163"><div class="ttname"><a href="../../d5/d76/namespaceuavcan__kinetis.html#a31d49d7201ba30d996506342a3d6c163">uavcan_kinetis::ErrInvalidBitRate</a></div><div class="ttdeci">static const uavcan::int16_t ErrInvalidBitRate</div><div class="ttdoc">Bit rate not supported. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00021">can.hpp:21</a></div></div>
<div class="ttc" id="flexcan_8hpp_html"><div class="ttname"><a href="../../d9/d33/flexcan_8hpp.html">flexcan.hpp</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_1_1flexcan_html_a56537bfab783eb060ac80ca4692c0155"><div class="ttname"><a href="../../d8/df4/namespaceuavcan__kinetis_1_1flexcan.html#a56537bfab783eb060ac80ca4692c0155">uavcan_kinetis::flexcan::CAN_FIFO_WARN</a></div><div class="ttdeci">constexpr unsigned long CAN_FIFO_WARN</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/flexcan_8hpp_source.html#l00521">flexcan.hpp:521</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_iface_1_1_tx_item_html"><div class="ttname"><a href="../../d7/dff/structuavcan__kinetis_1_1_can_iface_1_1_tx_item.html">uavcan_kinetis::CanIface::TxItem</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00108">can.hpp:108</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_html_ad2ad08aac8ce864e9e30e3a811ab2bd0"><div class="ttname"><a href="../../d5/d76/namespaceuavcan__kinetis.html#ad2ad08aac8ce864e9e30e3a811ab2bd0">uavcan_kinetis::ErrFilterNumConfigs</a></div><div class="ttdeci">static const uavcan::int16_t ErrFilterNumConfigs</div><div class="ttdoc">Number of filters is more than supported. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00029">can.hpp:29</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_1_1_rx_queue_html_a3b9fb2f9ab20a70aaf439be7a90d9f2c"><div class="ttname"><a href="../../de/db8/classuavcan__kinetis_1_1_can_iface_1_1_rx_queue.html#a3b9fb2f9ab20a70aaf439be7a90d9f2c">uavcan_kinetis::CanIface::RxQueue::getOverflowCount</a></div><div class="ttdeci">uavcan::uint32_t getOverflowCount() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00085">can.hpp:85</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_rx_item_html_a371aab45b157caa18ec23ec21d5a87b5"><div class="ttname"><a href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#a371aab45b157caa18ec23ec21d5a87b5">uavcan_kinetis::CanRxItem::utc_usec</a></div><div class="ttdeci">uavcan::uint64_t utc_usec</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00036">can.hpp:36</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_html_ac346981e00bbe2c44772e367e98b933f"><div class="ttname"><a href="../../d5/d76/namespaceuavcan__kinetis.html#ac346981e00bbe2c44772e367e98b933f">uavcan_kinetis::ErrMcrLPMAckNotCleared</a></div><div class="ttdeci">static const uavcan::int16_t ErrMcrLPMAckNotCleared</div><div class="ttdoc">MCR_LPMACK bit of the MCR register is not 0. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00025">can.hpp:25</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_driver_html_aedaa78d567823ffa1f216b6e4e93a2e2"><div class="ttname"><a href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#aedaa78d567823ffa1f216b6e4e93a2e2">uavcan_kinetis::CanDriver::updateEvent</a></div><div class="ttdeci">BusEvent &amp; updateEvent()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00325">can.hpp:325</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_1_1flexcan_html_a27cd1ba7518bdc03c05e002c04e6d634"><div class="ttname"><a href="../../d8/df4/namespaceuavcan__kinetis_1_1flexcan.html#a27cd1ba7518bdc03c05e002c04e6d634">uavcan_kinetis::flexcan::CAN_FIFO_OV</a></div><div class="ttdeci">constexpr unsigned long CAN_FIFO_OV</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d33/flexcan_8hpp_source.html#l00523">flexcan.hpp:523</a></div></div>
<div class="ttc" id="vtol__type_8h_html_a1a6b6fb557d8d37d59700faf4e4c9167"><div class="ttname"><a href="../../dd/d64/vtol__type_8h.html#a1a6b6fb557d8d37d59700faf4e4c9167">mode</a></div><div class="ttdeci">mode</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d64/vtol__type_8h_source.html#l00076">vtol_type.h:76</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_rx_item_html_a51053719c9f729f670bb6bba9ce6634a"><div class="ttname"><a href="../../d1/d4a/structuavcan__kinetis_1_1_can_rx_item.html#a51053719c9f729f670bb6bba9ce6634a">uavcan_kinetis::CanRxItem::CanRxItem</a></div><div class="ttdeci">CanRxItem()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00039">can.hpp:39</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_driver_html_ae8bf6ada37c0c347f122d73326af1139"><div class="ttname"><a href="../../d3/db9/classuavcan__kinetis_1_1_can_driver.html#ae8bf6ada37c0c347f122d73326af1139">uavcan_kinetis::CanDriver::if0_</a></div><div class="ttdeci">CanIface if0_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00273">can.hpp:273</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_aa09086531ca805edf58ec61774768246"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#aa09086531ca805edf58ec61774768246">uavcan_kinetis::CanIface::getVoluntaryTxAbortCount</a></div><div class="ttdeci">uavcan::uint32_t getVoluntaryTxAbortCount() const</div><div class="ttdoc">Number of times the driver exercised library&amp;#39;s requirement to abort transmission on first error...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00237">can.hpp:237</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_a17e1d4b04511648e47d05c803771db20"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#a17e1d4b04511648e47d05c803771db20">uavcan_kinetis::CanIface::getNumFilters</a></div><div class="ttdeci">virtual uavcan::uint16_t getNumFilters() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00151">can.hpp:151</a></div></div>
<div class="ttc" id="structuavcan__kinetis_1_1_can_iface_1_1_timings_html"><div class="ttname"><a href="../../d2/df1/structuavcan__kinetis_1_1_can_iface_1_1_timings.html">uavcan_kinetis::CanIface::Timings</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00091">can.hpp:91</a></div></div>
<div class="ttc" id="classuavcan__kinetis_1_1_can_iface_html_aa337c5b07d2d8ea1f43c10db7cbc3e65"><div class="ttname"><a href="../../da/dcd/classuavcan__kinetis_1_1_can_iface.html#aa337c5b07d2d8ea1f43c10db7cbc3e65">uavcan_kinetis::CanIface::error_cnt_</a></div><div class="ttdeci">uavcan::uint64_t error_cnt_</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00130">can.hpp:130</a></div></div>
<div class="ttc" id="namespaceuavcan__kinetis_html_a82a0c7ac6ce04d31bab8ce9d69424649"><div class="ttname"><a href="../../d5/d76/namespaceuavcan__kinetis.html#a82a0c7ac6ce04d31bab8ce9d69424649">uavcan_kinetis::ErrLogic</a></div><div class="ttdeci">static const uavcan::int16_t ErrLogic</div><div class="ttdoc">Internal logic error. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp_source.html#l00022">can.hpp:22</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="../../dir_c718a368270b13c54d94892d20736f45.html">drivers</a></li><li class="navelem"><a class="el" href="../../dir_dd8c8b0f61e5745803b89407d5c45b0d.html">uavcan</a></li><li class="navelem"><a class="el" href="../../dir_064cde6f77f3ccd98c0696ae7527fbb2.html">uavcan_drivers</a></li><li class="navelem"><a class="el" href="../../dir_37176f616a4f6c7cbfa56a9fabf8832b.html">kinetis</a></li><li class="navelem"><a class="el" href="../../dir_daf47ba695af8293c989c5d989bbc0f2.html">driver</a></li><li class="navelem"><a class="el" href="../../dir_0d4526ea9e69c72e98f1dc65b2e58c94.html">include</a></li><li class="navelem"><a class="el" href="../../dir_29c373e986177a0644fa9fdc81099492.html">uavcan_kinetis</a></li><li class="navelem"><a class="el" href="../../d7/db8/kinetis_2driver_2include_2uavcan__kinetis_2can_8hpp.html">can.hpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
